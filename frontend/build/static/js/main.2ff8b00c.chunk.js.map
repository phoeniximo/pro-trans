{"version":3,"sources":["api/client.js","services/authService.js","context/AuthContext.js","hooks/useAuth.js","components/ui/Button.js","pages/public/HomePage.js","pages/public/AboutPage.js","pages/public/FAQPage.js","components/ui/Input.js","pages/public/ContactPage.js","utils/dateUtils.js","utils/constants.js","components/search/AdvancedSearchComponent.js","pages/public/AnnonceListPage.js","pages/public/AnnonceDetailPage.js","pages/public/TransporteurListPage.js","components/reviews/RatingAndReviewsComponent.js","pages/public/TransporteurDetailPage.js","pages/auth/LoginPage.js","pages/auth/RegisterPage.js","pages/auth/ForgotPasswordPage.js","pages/auth/ResetPasswordPage.js","pages/auth/VerifyEmailPage.js","pages/dashboard/DashboardPage.js","pages/dashboard/ProfilePage.js","services/userService.js","pages/dashboard/EditProfilePage.js","services/annonceService.js","utils/formatters.js","pages/dashboard/annonces/MesAnnoncesPage.js","pages/dashboard/annonces/CreateAnnoncePage.js","pages/dashboard/annonces/EditAnnoncePage.js","components/transport/TrackingComponent.js","components/messaging/ConversationComponent.js","pages/dashboard/annonces/AnnonceDetailPage.js","pages/dashboard/devis/MesDevisPage.js","services/devisService.js","pages/dashboard/devis/CreateDevisPage.js","components/payment/PaymentComponent.js","pages/dashboard/devis/DevisDetailPage.js","pages/dashboard/messages/MessagesPage.js","pages/dashboard/messages/ConversationPage.js","services/avisService.js","pages/dashboard/avis/MesAvisPage.js","pages/dashboard/avis/CreateAvisPage.js","routes.js","components/navigation/Header.js","components/navigation/Footer.js","layouts/MainLayout.js","layouts/AuthLayout.js","layouts/DashboardLayout.js","components/auth/ProtectedRoute.js","pages/NotFound.js","App.js","index.js"],"names":["apiClient","axios","create","baseURL","process","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","removeItem","window","location","pathname","href","authService","register","async","post","userData","data","setItem","JSON","stringify","user","_error$response","message","login","credentials","_error$response2","logout","getCurrentUser","get","_error$response3","forgotPassword","email","_error$response4","resetPassword","passwordData","patch","_error$response5","verifyEmail","_error$response6","isTokenValid","expiration","parse","atob","split","exp","Date","now","console","AuthContext","createContext","AuthProvider","_ref","children","setUser","useState","loading","setLoading","setError","isAuthenticated","setIsAuthenticated","useEffect","storedUser","jwtDecode","currentUser","decodeError","err","initAuth","value","updateUserProfile","updatedUser","React","createElement","Provider","useAuth","context","useContext","Error","Button","variant","size","fullWidth","disabled","isLoading","type","to","onClick","className","rest","sizeClasses","sm","md","lg","variantClasses","primary","secondary","outline","danger","success","text","fullWidthClass","loadingIndicator","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","combinedClasses","Link","Object","assign","target","rel","HomePage","strokeLinecap","strokeLinejoin","placeholder","TruckIcon","MagnifyingGlassIcon","aria-hidden","ClockIcon","CurrencyEuroIcon","ShieldCheckIcon","src","alt","StarIcon","AboutPage","GlobeEuropeAfricaIcon","UsersIcon","width","height","id","x","y","patternUnits","preserveAspectRatio","BuildingOfficeIcon","FAQPage","_categories$find","activeCategory","setActiveCategory","openItems","setOpenItems","searchQuery","setSearchQuery","categories","name","faqItems","general","question","answer","client","transporteur","payment","security","toggleItem","itemId","prev","filteredFaqItems","trim","keys","forEach","category","matchingItems","filter","item","toLowerCase","includes","length","onChange","e","map","key","htmlFor","QuestionMarkCircleIcon","find","c","values","flat","categoryId","_categories$find2","idx","ChevronUpIcon","ChevronDownIcon","Input","forwardRef","ref","label","required","onBlur","touched","helperText","icon","iconPosition","inputClasses","aria-invalid","aria-describedby","undefined","ContactPage","isSubmitting","setIsSubmitting","submitSuccess","setSubmitSuccess","validationSchema","Yup","nom","min","max","sujet","telephone","matches","notRequired","politique","oneOf","formik","useFormik","initialValues","onSubmit","toast","resetForm","_error$response$data","PhoneIcon","EnvelopeIcon","MapPinIcon","fillRule","clipRule","CheckCircleIcon","handleSubmit","handleChange","handleBlur","errors","rows","checked","isValid","title","frameBorder","allowFullScreen","formatDate","date","formatStr","arguments","options","dateObj","parseISO","format","locale","fr","TYPE_TRANSPORT_LABELS","STATUT_ANNONCE","STATUT_ANNONCE_LABELS","STATUT_ANNONCE_COLORS","STATUT_DEVIS","STATUT_DEVIS_LABELS","STATUT_DEVIS_COLORS","AdvancedSearchComponent","onSearch","initialFilters","navigate","useNavigate","useLocation","showFilters","setShowFilters","filters","setFilters","villeDepart","villeArrivee","typeTransport","dateDepartMin","dateDepartMax","poids","volume","isUrgent","searchParams","URLSearchParams","search","urlFilters","has","some","handleDateChange","field","preventDefault","append","toISOString","toString","toggleFilters","AdjustmentsHorizontalIcon","clearFilters","XMarkIcon","CalendarIcon","DatePicker","selected","placeholderText","dateFormat","isClearable","minDate","step","AnnonceListPage","annonces","setAnnonces","totalAnnonces","setTotalAnnonces","currentPage","setCurrentPage","totalPages","setTotalPages","sortBy","setSortBy","fetchAnnonces","page","sort","params","limit","totalResults","handlePageChange","newPage","scrollTo","newSortBy","role","PlusIcon","ExclamationCircleIcon","annonce","_id","titre","prixMax","statut","dateDepart","aria-label","ChevronLeftIcon","Array","from","_","index","pageNumber","isCurrentPage","ChevronRightIcon","AnnonceDetailPage","useParams","setAnnonce","setMessage","isSendingMessage","setIsSendingMessage","showDevisForm","setShowDevisForm","devisData","setDevisData","montant","delaiLivraison","isSendingDevis","setIsSendingDevis","fetchAnnonce","isOwner","utilisateur","canSendDevis","ArrowLeftIcon","InformationCircleIcon","description","images","image","adresseDepart","adresseArrivee","ScaleIcon","CubeIcon","longueur","largeur","hauteur","createdAt","instructions","parseFloat","_err$response","_err$response$data","photo","prenom","UserIcon","noteMoyenne","star","Math","round","toFixed","nbAvis","state","contenu","destinataire","ChatBubbleLeftRightIcon","TransporteurListPage","transporteurs","setTransporteurs","specialite","localisation","noteMin","typeVehicule","setPage","searchTerm","setSearchTerm","pages","fetchTransporteurs","handleFilterChange","resetFilters","FunnelIcon","rating","specialites","slice","adresse","ville","pays","nbLivraisons","aboutMe","StarRating","starSizes","starSize","i","filledStars","floor","halfStar","emptyStars","SubmitReviewForm","_ref2","destinataireId","annonceId","onReviewSubmitted","setRating","hoverRating","setHoverRating","comment","setComment","handleMouseLeave","note","commentaire","handleSetRating","onMouseEnter","handleMouseEnter","onMouseLeave","minLength","RatingAndReviewsComponent","_ref3","userId","showSubmitForm","reviews","setReviews","sortOrder","setSortOrder","visibleReviews","setVisibleReviews","userStats","setUserStats","totalReviews","totalRating","reduce","sum","review","averageRating","ratingCounts","fetchReviews","displayedReviews","newReview","updatedReviews","a","b","newTotalReviews","newAverageRating","newRatingCounts","count","percentage","style","order","sortedReviews","handleSortChange","Fragment","auteur","UserCircleIcon","handleShowMore","TransporteurDetailPage","_transporteur$adresse","_transporteur$adresse2","setTransporteur","recentAnnonces","setRecentAnnonces","recentDeliveries","fetchTransporteur","toLocaleDateString","year","month","typeTransporteur","disponibilite","vehicules","vehicule","marque","modele","annee","capacite","LoginPage","_location$state","setIsLoading","password","replace","LockClosedIcon","RegisterPage","passwordConfirm","acceptTerms","setFieldValue","ForgotPasswordPage","ResetPasswordPage","VerifyEmailPage","DashboardPage","stats","setStats","recentItems","setRecentItems","devis","messages","endpoint","recentDevis","recentMessages","fetchDashboardData","reload","ClientDashboard","_stats$annonces","_stats$devis","_stats$messages","_stats$avis","_stats$avis2","DocumentTextIcon","actives","ArrowRightIcon","enAttente","nonLus","avis","total","TransporteurDashboard","_stats$devis2","_stats$transports","_stats$messages2","_stats$avis3","_stats$avis4","envoyes","transports","enCours","ProfilePage","profile","setProfile","fetchProfile","TransporteurInfo","_profile$transporteur","_profile$transporteur2","_profile$transporteur3","_profile$transporteur4","_profile$transporteur5","_profile$transporteur6","_profile$transporteur7","_profile$transporteur8","capacitePoids","capaciteVolume","zonesDesservies","join","assurance","verifie","PencilSquareIcon","rue","codePostal","IdentificationIcon","siret","userService","getTransporteurs","getUserProfile","getMyProfile","updateProfile","put","uploadProfilePhoto","formData","uploadDocuments","updatePassword","_error$response7","EditProfilePage","_user$adresse","_user$adresse2","_user$adresse3","_user$adresse4","_formik$touched$adres","_formik$errors$adress","_formik$touched$adres2","_formik$touched$adres3","_formik$errors$adress2","_formik$touched$adres4","_formik$touched$adres5","_formik$errors$adress3","_formik$touched$adres6","_formik$touched$adres7","_formik$errors$adress4","_formik$touched$adres8","_formik$values$aboutM","profilePhoto","setProfilePhoto","documents","setDocuments","uploadingPhoto","setUploadingPhoto","uploadingDocuments","setUploadingDocuments","activeTab","setActiveTab","setSpecialites","newSpecialite","setNewSpecialite","passwordValidationSchema","currentPassword","newPassword","confirmPassword","passwordFormik","passwordCurrent","getRootProps","getPhotoRootProps","getInputProps","getPhotoInputProps","useDropzone","accept","maxSize","maxFiles","onDrop","acceptedFiles","file","previewUrl","URL","createObjectURL","handlePhotoUpload","onDropRejected","rejectedFiles","code","getDocumentRootProps","getDocumentInputProps","newDocuments","preview","startsWith","uploading","uploaded","FormData","doc","revokeObjectURL","photoPreview","newSpecialites","splice","removeSpecialite","addSpecialite","maxWidth","removeDocument","uploadedDoc","originalname","url","path","uploadedAt","verified","annonceService","getAnnonces","getAnnonceById","createAnnonce","annonceData","updateAnnonce","deleteAnnonce","delete","getMesAnnonces","uploadImages","MesAnnoncesPage","deleting","setDeleting","annonceToDelete","setAnnonceToDelete","showDeleteModal","setShowDeleteModal","setFilter","newFilter","ArrowPathIcon","vectorEffect","scope","_annonce$typeTranspor","charAt","statusClass","renderStatus","nbDevis","EyeIcon","PencilIcon","TrashIcon","pageNum","CreateAnnoncePage","_formik$touched$adres9","_formik$errors$adress5","_formik$touched$adres10","_formik$touched$adres11","_formik$errors$adress6","_formik$touched$adres12","_formik$touched$adres13","_formik$errors$adress7","_formik$touched$adres14","_formik$touched$adres15","_formik$errors$adress8","_formik$touched$adres16","_formik$touched$dimen","_formik$errors$dimens","_formik$touched$dimen2","_formik$touched$dimen3","_formik$errors$dimens2","_formik$touched$dimen4","_formik$touched$dimen5","_formik$errors$dimens3","_formik$touched$dimen6","setStep","photos","setPhotos","previewPhotos","setPreviewPhotos","showOptions","setShowOptions","newPreviews","flexibiliteDate","positive","unite_poids","when","is","val","then","nombreColis","integer","budget","valeurDeclaree","commentairesTransporteur","dateArrivee","dimensions","unite","contenuColis","optionsTransport","chargement","dechargement","montage","demontage","emballage","CameraIcon","newPhotos","removePhoto","prevStep","nextStep","validateStep","EditAnnoncePage","annonceLoading","setAnnonceLoading","uploadProgress","setUploadProgress","isUploading","setIsUploading","setImages","existingImages","setExistingImages","otherwise","nullable","instructionsSpeciales","_annonceData$poids","_annonceData$volume","_annonceData$valeurDe","formattedDate","setValues","newImages","_file$errors$","_file$errors$2","entries","imageId","img","removeExistingImage","PhotoIcon","removeImage","TrackingComponent","devisId","trackingData","setTrackingData","effectiveAnnonceId","fetchTrackingData","tracking","annonceStatut","statusDetails","en_attente","color","pris_en_charge","en_transit","en_livraison","livre","probleme","currentStatus","StatusIcon","codeTracking","historique","event","eventStatus","EventIcon","ConversationComponent","recipientId","setMessages","newMessage","setNewMessage","attachments","setAttachments","recipient","setRecipient","conversationId","messagesEndRef","useRef","fileInputRef","effectiveRecipientId","fetchMessages","msg","lu","expediteur","fetchRecipientInfo","fetchAnnonceInfo","interval","setInterval","clearInterval","_messagesEndRef$curre","current","scrollIntoView","behavior","substring","isCurrentUser","pieceJointe","DocumentIcon","timestamp","today","yesterday","setDate","getDate","toDateString","formatTimestamp","attachment","FileIcon","bytes","newAttachments","removeAttachment","click","PaperClipIcon","files","validFiles","invalidFiles","multiple","PaperAirplaneIcon","_annonce$client","_selectedDevis$transp","_selectedDevis$transp2","_selectedDevis$transp3","_selectedDevis$transp4","_devisToAccept$transp","_devisToAccept$transp2","_devisToReject$transp","_devisToReject$transp2","setDevis","selectedDevis","setSelectedDevis","showAcceptDevisModal","setShowAcceptDevisModal","devisToAccept","setDevisToAccept","showRejectDevisModal","setShowRejectDevisModal","devisToReject","setDevisToReject","rejectReason","setRejectReason","processingAction","setProcessingAction","annonceResponse","devisResponse","acceptedDevis","fetchData","reviewCount","_devis$transporteur","_devis$transporteur2","_devis$transporteur3","_devis$transporteur4","updatedDevis","raison","MesDevisPage","dateDebut","dateFin","tri","fetchDevis","refreshDevis","applyFilters","otherParty","prevDevis","handleAcceptDevis","handleRefuseDevis","handleCancelDevis","devisService","createDevis","getDevisForAnnonce","getMesDevisEnvoyes","getMesDevisRecus","getDevisById","accepterDevis","refuserDevis","annulerDevis","_error$response8","updateStatutTransport","_error$response9","updateDevis","_error$response10","CreateDevisPage","_annonce$client2","annonceError","setAnnonceError","typeError","conditions","PaymentComponent","onPaymentComplete","paymentMethod","setPaymentMethod","setFormData","cardNumber","cardName","expiry","cvc","saveCard","savedCards","setSavedCards","selectedCard","setSelectedCard","showForm","setShowForm","fetchSavedCards","handlePaymentMethodChange","method","test","parseInt","isExpiryValid","paymentData","methodePaiement","carte","numero","sauvegarder","_err$response2","_err$response2$data","CreditCardIcon","BuildingLibraryIcon","BanknotesIcon","card","handleCardSelection","cardId","last4","expMonth","expYear","brand","handleShowNewCardForm","formattedValue","maxLength","info","DevisDetailPage","showPaymentForm","setShowPaymentForm","fetchDevisDetails","handleUpdateStatus","canAccept","canRefuse","canCancel","canUpdateStatus","needsPayment","paiement","commentaires","CheckIcon","fetchUpdatedDevis","methode","reference","MessagesPage","conversations","setConversations","fetchConversations","refreshConversations","filteredConversations","conv","otherUser","searchLower","dernierMessage","conversation","messageDate","diffTime","abs","diffDays","diffHours","diffMinutes","getTimeAgo","truncateText","ConversationPage","annonceDetails","setAnnonceDetails","contactId","fetchAnnonceDetails","avisService","createAvis","avisData","getAvisUtilisateur","getAvisDonnes","getAvisRecus","MesAvisPage","setAvis","totalAvis","setTotalAvis","fetchAvis","handleTabChange","tab","avu","renderAvisStatus","CreateAvisPage","setDestinataire","loadingData","setLoadingData","userResponse","routes","public","element","exact","auth","protected","roles","AnnonceDetailDashboardPage","Header","Footer","getFullYear","MainLayout","Outlet","AuthLayout","DashboardLayout","sidebarOpen","setSidebarOpen","handleLogout","userLinks","HomeIcon","link","ArrowLeftOnRectangleIcon","Bars3Icon","ProtectedRoute","userRole","Navigate","accessDenied","NotFound","App","Routes","Route","route","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","staleTime","ReactDOM","createRoot","document","getElementById","render","StrictMode","QueryClientProvider","BrowserRouter","Toaster","position","toastOptions","duration","background"],"mappings":"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","file":"static/js/main.2ff8b00c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n// Crée une instance Axios avec l'URL de base de l'API\r\nconst apiClient = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Intercepteur pour ajouter le token d'authentification\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Intercepteur pour gérer les erreurs\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Gestion spécifique des erreurs 401 (non autorisé)\r\n    if (error.response && error.response.status === 401) {\r\n      // Supprime le token si la session est expirée\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      \r\n      // Redirige vers la page de connexion\r\n      if (window.location.pathname !== '/login') {\r\n        window.location.href = '/login?session=expired';\r\n      }\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;","import apiClient from '../api/client';\r\n\r\n// Service d'authentification\r\nconst authService = {\r\n  // Inscription d'un nouvel utilisateur\r\n  register: async (userData) => {\r\n    try {\r\n      const response = await apiClient.post('/auth/register', userData);\r\n      \r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de l\\'inscription' };\r\n    }\r\n  },\r\n\r\n  // Connexion d'un utilisateur\r\n  login: async (credentials) => {\r\n    try {\r\n      const response = await apiClient.post('/auth/login', credentials);\r\n      \r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la connexion' };\r\n    }\r\n  },\r\n\r\n  // Déconnexion d'un utilisateur\r\n  logout: () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n  },\r\n\r\n  // Récupération des informations de l'utilisateur actuel\r\n  getCurrentUser: async () => {\r\n    try {\r\n      const response = await apiClient.get('/auth/me');\r\n      return response.data.data.user;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération du profil' };\r\n    }\r\n  },\r\n\r\n  // Demande de réinitialisation de mot de passe\r\n  forgotPassword: async (email) => {\r\n    try {\r\n      const response = await apiClient.post('/auth/forgot-password', { email });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la demande de réinitialisation' };\r\n    }\r\n  },\r\n\r\n  // Réinitialisation du mot de passe\r\n  resetPassword: async (token, passwordData) => {\r\n    try {\r\n      const response = await apiClient.patch(`/auth/reset-password/${token}`, passwordData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la réinitialisation du mot de passe' };\r\n    }\r\n  },\r\n\r\n  // Vérification de l'email\r\n  verifyEmail: async (token) => {\r\n    try {\r\n      const response = await apiClient.get(`/auth/verify-email/${token}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la vérification de l\\'email' };\r\n    }\r\n  },\r\n\r\n  // Vérification de la validité du token\r\n  isTokenValid: () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return false;\r\n    \r\n    try {\r\n      // Vérification basique de l'expiration du token\r\n      const payload = JSON.parse(atob(token.split('.')[1]));\r\n      const expiration = payload.exp * 1000; // Conversion en millisecondes\r\n      \r\n      return Date.now() < expiration;\r\n    } catch (error) {\r\n      console.error('Erreur lors de la vérification du token:', error);\r\n      return false;\r\n    }\r\n  },\r\n};\r\n\r\nexport default authService;","import React, { createContext, useState, useEffect } from 'react';\r\nimport authService from '../services/authService';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\n// Création du contexte d'authentification\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  // Effet pour vérifier l'état d'authentification au chargement\r\n  useEffect(() => {\r\n    const initAuth = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Vérifier si un token existe dans le localStorage\r\n        const token = localStorage.getItem('token');\r\n        const storedUser = JSON.parse(localStorage.getItem('user') || 'null');\r\n        \r\n        if (token) {\r\n          // Vérifier si le token est valide\r\n          try {\r\n            const decoded = jwtDecode(token);\r\n            \r\n            // Vérifier si le token est expiré\r\n            if (decoded.exp * 1000 < Date.now()) {\r\n              // Token expiré - déconnexion\r\n              logout();\r\n              setError('Votre session a expiré. Veuillez vous reconnecter.');\r\n            } else {\r\n              // Token valide - récupérer les informations utilisateur depuis l'API\r\n              const currentUser = await authService.getCurrentUser();\r\n              setUser(currentUser);\r\n              setIsAuthenticated(true);\r\n            }\r\n          } catch (decodeError) {\r\n            // Erreur de décodage - token invalide\r\n            logout();\r\n            setError('Session invalide. Veuillez vous reconnecter.');\r\n          }\r\n        } else if (storedUser) {\r\n          // Si user existe mais pas de token - nettoyer le localStorage\r\n          logout();\r\n        }\r\n      } catch (err) {\r\n        console.error('Erreur d\\'initialisation de l\\'authentification:', err);\r\n        logout();\r\n        setError('Erreur de connexion au serveur.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    initAuth();\r\n  }, []);\r\n\r\n  // Méthode de connexion\r\n  const login = async (credentials) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await authService.login(credentials);\r\n      setUser(response.data.user);\r\n      setIsAuthenticated(true);\r\n      return response;\r\n    } catch (err) {\r\n      setError(err.message || 'Échec de la connexion');\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Méthode d'inscription\r\n  const register = async (userData) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await authService.register(userData);\r\n      setUser(response.data.user);\r\n      setIsAuthenticated(true);\r\n      return response;\r\n    } catch (err) {\r\n      setError(err.message || 'Échec de l\\'inscription');\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Méthode de déconnexion\r\n  const logout = () => {\r\n    authService.logout();\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  // Méthode de mise à jour du profil utilisateur\r\n  const updateUserProfile = (updatedUser) => {\r\n    setUser(updatedUser);\r\n    localStorage.setItem('user', JSON.stringify(updatedUser));\r\n  };\r\n\r\n  // Valeurs fournies par le contexte\r\n  const value = {\r\n    user,\r\n    loading,\r\n    error,\r\n    isAuthenticated,\r\n    login,\r\n    register,\r\n    logout,\r\n    updateUserProfile,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};","import { useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\n/**\r\n * Hook personnalisé pour accéder au contexte d'authentification\r\n * @returns {Object} Contexte d'authentification\r\n */\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  \r\n  if (!context) {\r\n    throw new Error('useAuth doit être utilisé à l\\'intérieur d\\'un AuthProvider');\r\n  }\r\n  \r\n  return context;\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n/**\r\n * Composant Button réutilisable avec différentes variantes\r\n * @param {string} variant - primary, secondary, outline, danger, success\r\n * @param {string} size - sm, md, lg\r\n * @param {boolean} fullWidth - Pleine largeur ou non\r\n * @param {boolean} disabled - Désactivé ou non\r\n * @param {boolean} isLoading - En cours de chargement\r\n * @param {string} type - Type de bouton (button, submit, reset)\r\n * @param {string} to - Lien interne (utilise React Router)\r\n * @param {string} href - Lien externe\r\n * @param {Function} onClick - Fonction de clic\r\n * @param {ReactNode} children - Contenu du bouton\r\n * @param {string} className - Classes CSS supplémentaires\r\n */\r\nconst Button = ({\r\n  variant = 'primary',\r\n  size = 'md',\r\n  fullWidth = false,\r\n  disabled = false,\r\n  isLoading = false,\r\n  type = 'button',\r\n  to,\r\n  href,\r\n  onClick,\r\n  children,\r\n  className = '',\r\n  ...rest\r\n}) => {\r\n  // Base classes for all buttons\r\n  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-md focus:outline-none transition-colors';\r\n  \r\n  // Size classes\r\n  const sizeClasses = {\r\n    sm: 'px-3 py-1.5 text-sm',\r\n    md: 'px-4 py-2 text-base',\r\n    lg: 'px-6 py-3 text-lg',\r\n  };\r\n  \r\n  // Variant classes\r\n  const variantClasses = {\r\n    primary: 'bg-teal-600 text-white hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50',\r\n    secondary: 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50',\r\n    outline: 'bg-transparent border border-teal-600 text-teal-600 hover:bg-teal-50 focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-opacity-50',\r\n    success: 'bg-green-600 text-white hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50',\r\n    text: 'bg-transparent text-teal-600 hover:text-teal-800 hover:underline',\r\n  };\r\n  \r\n  // Disabled classes\r\n  const disabledClasses = 'opacity-50 cursor-not-allowed';\r\n  \r\n  // Full width class\r\n  const fullWidthClass = fullWidth ? 'w-full' : '';\r\n  \r\n  // Loading indicator\r\n  const loadingIndicator = isLoading && (\r\n    <svg className=\"animate-spin h-5 w-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n    </svg>\r\n  );\r\n  \r\n  // Combine classes\r\n  const combinedClasses = `\r\n    ${baseClasses}\r\n    ${sizeClasses[size] || sizeClasses.md}\r\n    ${variantClasses[variant] || variantClasses.primary}\r\n    ${disabled || isLoading ? disabledClasses : ''}\r\n    ${fullWidthClass}\r\n    ${className}\r\n  `;\r\n  \r\n  // If it's a Link component\r\n  if (to) {\r\n    return (\r\n      <Link\r\n        to={to}\r\n        className={combinedClasses}\r\n        {...rest}\r\n      >\r\n        {isLoading && loadingIndicator}\r\n        {children}\r\n      </Link>\r\n    );\r\n  }\r\n  \r\n  // If it's an external link\r\n  if (href) {\r\n    return (\r\n      <a\r\n        href={href}\r\n        className={combinedClasses}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        {...rest}\r\n      >\r\n        {isLoading && loadingIndicator}\r\n        {children}\r\n      </a>\r\n    );\r\n  }\r\n  \r\n  // Default button\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={combinedClasses}\r\n      disabled={disabled || isLoading}\r\n      onClick={onClick}\r\n      {...rest}\r\n    >\r\n      {isLoading && loadingIndicator}\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  TruckIcon, \n  ClockIcon, \n  ShieldCheckIcon, \n  CurrencyEuroIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline';\nimport Button from '../../components/ui/Button';\n\nconst HomePage = () => {\n  return (\n    <div className=\"bg-white\">\n      {/* Hero Section */}\n      <div className=\"relative bg-gradient-to-r from-teal-500 to-teal-700\">\n        <div className=\"absolute inset-0 bg-black opacity-20\"></div>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 relative\">\n          <div className=\"text-center md:text-left md:max-w-2xl\">\n            <h1 className=\"text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl\">\n              Transport de marchandises facile et fiable\n            </h1>\n            <p className=\"mt-6 text-xl text-white\">\n              Trouvez des transporteurs professionnels pr�s de chez vous. Economisez jusqu'� 40% sur vos frais de transport.\n            </p>\n            <div className=\"mt-10 flex flex-col sm:flex-row gap-4 justify-center md:justify-start\">\n              <Button\n                to=\"/register\"\n                variant=\"primary\"\n                size=\"lg\"\n                className=\"bg-white text-teal-600 hover:bg-gray-100\"\n              >\n                Publier une annonce\n              </Button>\n              <Button\n                to=\"/transporteurs\"\n                variant=\"outline\"\n                size=\"lg\"\n                className=\"border-white text-white hover:bg-teal-600\"\n              >\n                Trouver un transporteur\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 relative z-10\">\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <form className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"Ville de d�part\"\n                className=\"pl-10 focus:ring-teal-500 focus:border-teal-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\n              />\n            </div>\n            <div className=\"flex-1 relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"Ville d'arriv�e\"\n                className=\"pl-10 focus:ring-teal-500 focus:border-teal-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\n              />\n            </div>\n            <div className=\"flex-1 relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <TruckIcon className=\"h-5 w-5 text-gray-400\" />\n              </div>\n              <select\n                className=\"pl-10 focus:ring-teal-500 focus:border-teal-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\n              >\n                <option value=\"\">Type de transport</option>\n                <option value=\"colis\">Colis</option>\n                <option value=\"meuble\">Meuble</option>\n                <option value=\"marchandise\">Marchandise</option>\n                <option value=\"palette\">Palette</option>\n                <option value=\"demenagement\">D�m�nagement</option>\n                <option value=\"vehicule\">V�hicule</option>\n              </select>\n            </div>\n            <div>\n              <Button type=\"submit\" variant=\"primary\" className=\"w-full md:w-auto\">\n                <MagnifyingGlassIcon className=\"h-5 w-5 mr-2\" />\n                Rechercher\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      {/* How it works section */}\n      <div className=\"py-16 bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n              Comment �a marche ?\n            </h2>\n            <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n              Pro-Trans simplifie le transport de vos biens en vous connectant directement aux transporteurs.\n            </p>\n          </div>\n\n          <div className=\"mt-16\">\n            <div className=\"grid grid-cols-1 gap-8 md:grid-cols-3\">\n              {/* Step 1 */}\n              <div className=\"border border-gray-200 rounded-lg p-8 bg-white shadow-sm\">\n                <div className=\"text-center\">\n                  <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-teal-100 text-teal-600\">\n                    <span className=\"text-2xl font-bold\">1</span>\n                  </div>\n                  <h3 className=\"mt-6 text-xl font-medium text-gray-900\">Publiez votre annonce</h3>\n                  <p className=\"mt-2 text-base text-gray-600\">\n                    D�crivez ce que vous souhaitez transporter, d'o� � o�, et quand.\n                  </p>\n                </div>\n              </div>\n\n              {/* Step 2 */}\n              <div className=\"border border-gray-200 rounded-lg p-8 bg-white shadow-sm\">\n                <div className=\"text-center\">\n                  <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-teal-100 text-teal-600\">\n                    <span className=\"text-2xl font-bold\">2</span>\n                  </div>\n                  <h3 className=\"mt-6 text-xl font-medium text-gray-900\">Recevez des devis</h3>\n                  <p className=\"mt-2 text-base text-gray-600\">\n                    Les transporteurs vous envoient leurs propositions de prix et d�lais.\n                  </p>\n                </div>\n              </div>\n\n              {/* Step 3 */}\n              <div className=\"border border-gray-200 rounded-lg p-8 bg-white shadow-sm\">\n                <div className=\"text-center\">\n                  <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-teal-100 text-teal-600\">\n                    <span className=\"text-2xl font-bold\">3</span>\n                  </div>\n                  <h3 className=\"mt-6 text-xl font-medium text-gray-900\">Confirmez et suivez</h3>\n                  <p className=\"mt-2 text-base text-gray-600\">\n                    Choisissez le transporteur qui vous convient et suivez votre livraison.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Benefits section */}\n      <div className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n              Pourquoi choisir Pro-Trans ?\n            </h2>\n            <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n              Notre plateforme vous offre de nombreux avantages pour tous vos besoins de transport.\n            </p>\n          </div>\n\n          <div className=\"mt-16\">\n            <div className=\"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4\">\n              {/* Benefit 1 */}\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white\">\n                  <TruckIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                </div>\n                <h3 className=\"mt-6 text-lg font-medium text-gray-900\">R�seau de confiance</h3>\n                <p className=\"mt-2 text-base text-gray-600\">\n                  Transporteurs v�rifi�s et �valu�s par notre communaut�.\n                </p>\n              </div>\n\n              {/* Benefit 2 */}\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white\">\n                  <ClockIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                </div>\n                <h3 className=\"mt-6 text-lg font-medium text-gray-900\">Rapidit�</h3>\n                <p className=\"mt-2 text-base text-gray-600\">\n                  Recevez des devis en quelques heures et organisez votre transport rapidement.\n                </p>\n              </div>\n\n              {/* Benefit 3 */}\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white\">\n                  <CurrencyEuroIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                </div>\n                <h3 className=\"mt-6 text-lg font-medium text-gray-900\">Economies</h3>\n                <p className=\"mt-2 text-base text-gray-600\">\n                  Comparez les offres et �conomisez jusqu'� 40% sur vos frais de transport.\n                </p>\n              </div>\n\n              {/* Benefit 4 */}\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-teal-500 text-white\">\n                  <ShieldCheckIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                </div>\n                <h3 className=\"mt-6 text-lg font-medium text-gray-900\">S�curit�</h3>\n                <p className=\"mt-2 text-base text-gray-600\">\n                  Paiement s�curis� et assurance pour vos biens pendant le transport.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Types of transport section */}\n      <div className=\"py-16 bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n              Tous types de transport\n            </h2>\n            <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n              Que ce soit pour un petit colis ou un d�m�nagement complet, trouvez le transporteur adapt� � vos besoins.\n            </p>\n          </div>\n\n          <div className=\"mt-16\">\n            <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n              {/* Type 1 */}\n              <div className=\"relative group\">\n                <div className=\"aspect-w-3 aspect-h-2 rounded-lg overflow-hidden bg-gray-100\">\n                  <img\n                    src=\"/assets/images/transport-colis.jpg\"\n                    alt=\"Transport de colis\"\n                    className=\"object-center object-cover\"\n                  />\n                  <div className=\"flex items-end p-4 opacity-0 group-hover:opacity-100\" aria-hidden=\"true\">\n                    <div className=\"w-full bg-white bg-opacity-75 backdrop-filter backdrop-blur py-2 px-4 rounded-md text-sm font-medium text-gray-900 text-center\">\n                      Voir les options\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    <Link to=\"/annonces?type=colis\">\n                      <span className=\"absolute inset-0\" />\n                      Transport de colis\n                    </Link>\n                  </h3>\n                  <p className=\"text-base text-gray-600\">Envoyez vos colis et petits objets partout en France.</p>\n                </div>\n              </div>\n\n              {/* Type 2 */}\n              <div className=\"relative group\">\n                <div className=\"aspect-w-3 aspect-h-2 rounded-lg overflow-hidden bg-gray-100\">\n                  <img\n                    src=\"/assets/images/transport-meuble.jpg\"\n                    alt=\"Transport de meubles\"\n                    className=\"object-center object-cover\"\n                  />\n                  <div className=\"flex items-end p-4 opacity-0 group-hover:opacity-100\" aria-hidden=\"true\">\n                    <div className=\"w-full bg-white bg-opacity-75 backdrop-filter backdrop-blur py-2 px-4 rounded-md text-sm font-medium text-gray-900 text-center\">\n                      Voir les options\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    <Link to=\"/annonces?type=meuble\">\n                      <span className=\"absolute inset-0\" />\n                      Transport de meubles\n                    </Link>\n                  </h3>\n                  <p className=\"text-base text-gray-600\">Faites livrer vos meubles en toute s�curit�.</p>\n                </div>\n              </div>\n\n              {/* Type 3 */}\n              <div className=\"relative group\">\n                <div className=\"aspect-w-3 aspect-h-2 rounded-lg overflow-hidden bg-gray-100\">\n                  <img\n                    src=\"/assets/images/demenagement.jpg\"\n                    alt=\"D�m�nagement\"\n                    className=\"object-center object-cover\"\n                  />\n                  <div className=\"flex items-end p-4 opacity-0 group-hover:opacity-100\" aria-hidden=\"true\">\n                    <div className=\"w-full bg-white bg-opacity-75 backdrop-filter backdrop-blur py-2 px-4 rounded-md text-sm font-medium text-gray-900 text-center\">\n                      Voir les options\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    <Link to=\"/annonces?type=demenagement\">\n                      <span className=\"absolute inset-0\" />\n                      D�m�nagement\n                    </Link>\n                  </h3>\n                  <p className=\"text-base text-gray-600\">Solutions compl�tes pour votre d�m�nagement.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-12 text-center\">\n            <Button\n              to=\"/annonces/create\"\n              variant=\"primary\"\n              size=\"lg\"\n            >\n              Publier votre annonce maintenant\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Testimonials */}\n      <div className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n              Ce que disent nos clients\n            </h2>\n            <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n              D�couvrez les exp�riences de ceux qui ont d�j� utilis� Pro-Trans pour leurs besoins de transport.\n            </p>\n          </div>\n\n          <div className=\"mt-16\">\n            <div className=\"grid grid-cols-1 gap-8 md:grid-cols-3\">\n              {/* Testimonial 1 */}\n              <div className=\"bg-white border border-gray-200 rounded-lg p-6 shadow-sm\">\n                <div className=\"flex items-center mb-4\">\n                  <div className=\"h-10 w-10 rounded-full bg-gray-200 overflow-hidden\">\n                    <img src=\"/assets/images/testimonial-1.jpg\" alt=\"Sophie D.\" className=\"h-full w-full object-cover\" />\n                  </div>\n                  <div className=\"ml-3\">\n                    <h4 className=\"text-sm font-medium text-gray-900\">Sophie D.</h4>\n                    <div className=\"flex text-yellow-400\">\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                    </div>\n                  </div>\n                </div>\n                <p className=\"text-gray-600 italic\">\n                  \"J'ai trouv� un transporteur pour mon canap� en moins de 2 heures ! Le prix �tait bien inf�rieur � ce que m'avaient propos� les enseignes traditionnelles.\"\n                </p>\n              </div>\n\n              {/* Testimonial 2 */}\n              <div className=\"bg-white border border-gray-200 rounded-lg p-6 shadow-sm\">\n                <div className=\"flex items-center mb-4\">\n                  <div className=\"h-10 w-10 rounded-full bg-gray-200 overflow-hidden\">\n                    <img src=\"/assets/images/testimonial-2.jpg\" alt=\"Marc L.\" className=\"h-full w-full object-cover\" />\n                  </div>\n                  <div className=\"ml-3\">\n                    <h4 className=\"text-sm font-medium text-gray-900\">Marc L.</h4>\n                    <div className=\"flex text-yellow-400\">\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4 text-gray-300\" />\n                    </div>\n                  </div>\n                </div>\n                <p className=\"text-gray-600 italic\">\n                  \"En tant que transporteur, Pro-Trans m'a permis de trouver facilement des clients et d'optimiser mes trajets. Une excellente plateforme pour d�velopper mon activit�.\"\n                </p>\n              </div>\n\n              {/* Testimonial 3 */}\n              <div className=\"bg-white border border-gray-200 rounded-lg p-6 shadow-sm\">\n                <div className=\"flex items-center mb-4\">\n                  <div className=\"h-10 w-10 rounded-full bg-gray-200 overflow-hidden\">\n                    <img src=\"/assets/images/testimonial-3.jpg\" alt=\"Emilie F.\" className=\"h-full w-full object-cover\" />\n                  </div>\n                  <div className=\"ml-3\">\n                    <h4 className=\"text-sm font-medium text-gray-900\">Emilie F.</h4>\n                    <div className=\"flex text-yellow-400\">\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                      <StarIcon className=\"h-4 w-4\" />\n                    </div>\n                  </div>\n                </div>\n                <p className=\"text-gray-600 italic\">\n                  \"Mon d�m�nagement s'est d�roul� parfaitement gr�ce � Pro-Trans. J'ai pu suivre mon mobilier en temps r�el et le transporteur �tait tr�s professionnel. Je recommande !\"\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* CTA Section */}\n      <div className=\"bg-teal-700\">\n        <div className=\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between\">\n          <h2 className=\"text-3xl font-extrabold tracking-tight text-white sm:text-4xl\">\n            <span className=\"block\">Pr�t � simplifier vos transports ?</span>\n            <span className=\"block text-teal-300\">Rejoignez Pro-Trans aujourd'hui.</span>\n          </h2>\n          <div className=\"mt-8 flex lg:mt-0 lg:flex-shrink-0\">\n            <div className=\"inline-flex rounded-md shadow\">\n              <Button\n                to=\"/register\"\n                variant=\"primary\"\n                size=\"lg\"\n                className=\"bg-white text-teal-600 hover:bg-gray-100\"\n              >\n                S'inscrire gratuitement\n              </Button>\n            </div>\n            <div className=\"ml-3 inline-flex rounded-md shadow\">\n              <Button\n                to=\"/a-propos\"\n                variant=\"outline\"\n                size=\"lg\"\n                className=\"border-white text-white hover:bg-teal-600\"\n              >\n                En savoir plus\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  TruckIcon, \n  UsersIcon, \n  ShieldCheckIcon, \n  GlobeEuropeAfricaIcon,\n  BuildingOfficeIcon\n} from '@heroicons/react/24/outline';\nimport Button from '../../components/ui/Button';\n\nconst AboutPage = () => {\n  return (\n    <div className=\"bg-white\">\n      {/* Hero section */}\n      <div className=\"relative bg-teal-700 py-16 sm:py-24\">\n        <div className=\"lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:gap-24 lg:items-start\">\n          <div className=\"relative sm:py-16 lg:py-0\">\n            <div className=\"relative mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-0 lg:max-w-none\">\n              <div className=\"relative rounded-2xl shadow-xl overflow-hidden\">\n                <img\n                  className=\"absolute inset-0 h-full w-full object-cover\"\n                  src=\"/assets/images/about-hero.jpg\"\n                  alt=\"Equipe Pro-Trans\"\n                />\n                <div className=\"absolute inset-0 bg-teal-500 mix-blend-multiply\" />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-teal-800 via-teal-700 opacity-40\" />\n                <div className=\"relative px-8 py-72\">\n                  <div className=\"absolute bottom-8 left-8\">\n                    <blockquote className=\"mt-4\">\n                      <div className=\"relative text-lg font-medium text-white md:flex-grow\">\n                        <p className=\"relative\">\n                          Notre mission : r�volutionner le transport de marchandises en France\n                        </p>\n                      </div>\n                    </blockquote>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"relative mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-0\">\n            <div className=\"pt-12 sm:pt-16 lg:pt-20\">\n              <h2 className=\"text-3xl font-extrabold text-white tracking-tight sm:text-4xl\">\n                A propos de Pro-Trans\n              </h2>\n              <div className=\"mt-6 text-gray-200 space-y-6\">\n                <p className=\"text-lg\">\n                  Pro-Trans est n�e en 2022 d'une id�e simple : simplifier et rendre plus accessible le transport de marchandises pour les particuliers et les professionnels.\n                </p>\n                <p className=\"text-lg\">\n                  Notre plateforme met en relation les personnes ayant besoin de transporter des biens avec des transporteurs professionnels ou ind�pendants, offrant ainsi une solution pratique, �conomique et respectueuse de l'environnement.\n                </p>\n                <p className=\"text-lg\">\n                  Gr�ce � notre syst�me de mise en relation directe, nos utilisateurs �conomisent en moyenne 40% sur leurs frais de transport, tandis que les transporteurs optimisent leurs trajets et augmentent leur rentabilit�.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Our values section */}\n      <div className=\"bg-white py-16 sm:py-24\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">Nos valeurs</h2>\n            <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\">\n              Des principes qui guident chacune de nos actions et d�cisions.\n            </p>\n          </div>\n\n          <div className=\"mt-16\">\n            <div className=\"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3\">\n              <div className=\"pt-6\">\n                <div className=\"flow-root bg-gray-50 rounded-lg px-6 pb-8\">\n                  <div className=\"-mt-6\">\n                    <div>\n                      <span className=\"inline-flex items-center justify-center p-3 bg-teal-500 rounded-md shadow-lg\">\n                        <ShieldCheckIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\n                      </span>\n                    </div>\n                    <h3 className=\"mt-8 text-lg font-medium text-gray-900 tracking-tight\">Confiance et S�curit�</h3>\n                    <p className=\"mt-5 text-base text-gray-500\">\n                      Nous v�rifions rigoureusement l'identit� et les qualifications de tous nos transporteurs. Notre syst�me d'�valuation et notre garantie de remboursement assurent votre tranquillit� d'esprit.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"pt-6\">\n                <div className=\"flow-root bg-gray-50 rounded-lg px-6 pb-8\">\n                  <div className=\"-mt-6\">\n                    <div>\n                      <span className=\"inline-flex items-center justify-center p-3 bg-teal-500 rounded-md shadow-lg\">\n                        <GlobeEuropeAfricaIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\n                      </span>\n                    </div>\n                    <h3 className=\"mt-8 text-lg font-medium text-gray-900 tracking-tight\">Responsabilit� Environnementale</h3>\n                    <p className=\"mt-5 text-base text-gray-500\">\n                      En optimisant les trajets et en r�duisant les d�placements � vide, nous contribuons activement � la r�duction de l'empreinte carbone du secteur du transport.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"pt-6\">\n                <div className=\"flow-root bg-gray-50 rounded-lg px-6 pb-8\">\n                  <div className=\"-mt-6\">\n                    <div>\n                      <span className=\"inline-flex items-center justify-center p-3 bg-teal-500 rounded-md shadow-lg\">\n                        <UsersIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\n                      </span>\n                    </div>\n                    <h3 className=\"mt-8 text-lg font-medium text-gray-900 tracking-tight\">Communaut� et Partage</h3>\n                    <p className=\"mt-5 text-base text-gray-500\">\n                      Nous valorisons l'esprit de communaut� et encourageons le partage d'exp�riences entre utilisateurs pour am�liorer constamment notre service.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Team section */}\n      <div className=\"bg-gray-50 py-16 sm:py-24\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">Notre �quipe</h2>\n            <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\">\n              Des passionn�s qui travaillent chaque jour pour am�liorer votre exp�rience.\n            </p>\n          </div>\n\n          <div className=\"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3\">\n            {/* Team member 1 */}\n            <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <div className=\"text-center\">\n                  <img\n                    className=\"inline-block h-32 w-32 rounded-full object-cover\"\n                    src=\"/assets/images/team-1.jpg\"\n                    alt=\"Thomas Martin\"\n                  />\n                  <h3 className=\"mt-6 text-lg font-medium text-gray-900\">Thomas Martin</h3>\n                  <p className=\"text-sm text-gray-500\">Co-fondateur & CEO</p>\n                  <p className=\"mt-3 text-base text-gray-600\">\n                    Ancien consultant en logistique, Thomas a cr�� Pro-Trans pour r�volutionner le secteur du transport de marchandises.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Team member 2 */}\n            <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <div className=\"text-center\">\n                  <img\n                    className=\"inline-block h-32 w-32 rounded-full object-cover\"\n                    src=\"/assets/images/team-2.jpg\"\n                    alt=\"Sophie Dubois\"\n                  />\n                  <h3 className=\"mt-6 text-lg font-medium text-gray-900\">Sophie Dubois</h3>\n                  <p className=\"text-sm text-gray-500\">Co-fondatrice & CTO</p>\n                  <p className=\"mt-3 text-base text-gray-600\">\n                    Ing�nieure en informatique, Sophie dirige le d�veloppement technique de la plateforme Pro-Trans.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Team member 3 */}\n            <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <div className=\"text-center\">\n                  <img\n                    className=\"inline-block h-32 w-32 rounded-full object-cover\"\n                    src=\"/assets/images/team-3.jpg\"\n                    alt=\"Antoine Lef�vre\"\n                  />\n                  <h3 className=\"mt-6 text-lg font-medium text-gray-900\">Antoine Lef�vre</h3>\n                  <p className=\"text-sm text-gray-500\">Directeur des Op�rations</p>\n                  <p className=\"mt-3 text-base text-gray-600\">\n                    Avec 15 ans d'exp�rience dans le secteur du transport, Antoine s'assure du bon fonctionnement de notre r�seau.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Stats section */}\n      <div className=\"bg-teal-700 py-12 sm:py-16\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"mx-auto max-w-4xl text-center\">\n            <h2 className=\"text-3xl font-extrabold text-white sm:text-4xl\">\n              Pro-Trans en chiffres\n            </h2>\n          </div>\n          <div className=\"mt-10 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4\">\n            <div className=\"text-center\">\n              <span className=\"text-5xl font-extrabold text-white\">5,000+</span>\n              <p className=\"mt-2 text-xl font-medium text-teal-100\">Transporteurs actifs</p>\n            </div>\n            <div className=\"text-center\">\n              <span className=\"text-5xl font-extrabold text-white\">15,000+</span>\n              <p className=\"mt-2 text-xl font-medium text-teal-100\">Clients satisfaits</p>\n            </div>\n            <div className=\"text-center\">\n              <span className=\"text-5xl font-extrabold text-white\">30,000+</span>\n              <p className=\"mt-2 text-xl font-medium text-teal-100\">Livraisons r�ussies</p>\n            </div>\n            <div className=\"text-center\">\n              <span className=\"text-5xl font-extrabold text-white\">40%</span>\n              <p className=\"mt-2 text-xl font-medium text-teal-100\">Economie moyenne</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Our investors */}\n      <div className=\"bg-white py-16 sm:py-24\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">Nos investisseurs</h2>\n            <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\">\n              Ils nous font confiance et soutiennent notre vision.\n            </p>\n          </div>\n\n          <div className=\"mt-16 grid grid-cols-2 gap-8 md:grid-cols-4\">\n            <div className=\"flex justify-center items-center\">\n              <img\n                className=\"h-16 grayscale hover:grayscale-0 transition-all\"\n                src=\"/assets/images/investor-1.svg\"\n                alt=\"Investor 1\"\n              />\n            </div>\n            <div className=\"flex justify-center items-center\">\n              <img\n                className=\"h-16 grayscale hover:grayscale-0 transition-all\"\n                src=\"/assets/images/investor-2.svg\"\n                alt=\"Investor 2\"\n              />\n            </div>\n            <div className=\"flex justify-center items-center\">\n              <img\n                className=\"h-16 grayscale hover:grayscale-0 transition-all\"\n                src=\"/assets/images/investor-3.svg\"\n                alt=\"Investor 3\"\n              />\n            </div>\n            <div className=\"flex justify-center items-center\">\n              <img\n                className=\"h-16 grayscale hover:grayscale-0 transition-all\"\n                src=\"/assets/images/investor-4.svg\"\n                alt=\"Investor 4\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Contact us section */}\n      <div className=\"bg-gray-50 py-16 sm:py-24\">\n        <div className=\"relative sm:py-16\">\n          <div aria-hidden=\"true\" className=\"hidden sm:block\">\n            <div className=\"absolute inset-y-0 left-0 w-1/2 bg-teal-700 rounded-r-3xl\"></div>\n            <svg className=\"absolute top-8 left-1/2 -ml-3\" width=\"404\" height=\"392\" fill=\"none\" viewBox=\"0 0 404 392\">\n              <defs>\n                <pattern\n                  id=\"8228f071-bcee-4ec8-905a-2a059a2cc4fb\"\n                  x=\"0\"\n                  y=\"0\"\n                  width=\"20\"\n                  height=\"20\"\n                  patternUnits=\"userSpaceOnUse\"\n                >\n                  <rect x=\"0\" y=\"0\" width=\"4\" height=\"4\" className=\"text-teal-200\" fill=\"currentColor\" />\n                </pattern>\n              </defs>\n              <rect width=\"404\" height=\"392\" fill=\"url(#8228f071-bcee-4ec8-905a-2a059a2cc4fb)\" />\n            </svg>\n          </div>\n          <div className=\"mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:max-w-7xl lg:px-8\">\n            <div className=\"relative rounded-2xl px-6 py-10 bg-teal-600 overflow-hidden shadow-xl sm:px-12 sm:py-20\">\n              <div aria-hidden=\"true\" className=\"absolute inset-0 -mt-72 sm:-mt-32 md:mt-0\">\n                <svg\n                  className=\"absolute inset-0 h-full w-full\"\n                  preserveAspectRatio=\"xMidYMid slice\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 1463 360\"\n                >\n                  <path\n                    className=\"text-teal-500 text-opacity-40\"\n                    fill=\"currentColor\"\n                    d=\"M-82.673 72l1761.849 472.086-134.327 501.315-1761.85-472.086z\"\n                  />\n                  <path\n                    className=\"text-teal-700 text-opacity-40\"\n                    fill=\"currentColor\"\n                    d=\"M-217.088 544.086L1544.761 72l134.327 501.316-1761.849 472.086z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"relative\">\n                <div className=\"sm:text-center\">\n                  <h2 className=\"text-3xl font-extrabold text-white tracking-tight sm:text-4xl\">\n                    Besoin d'en savoir plus ?\n                  </h2>\n                  <p className=\"mt-6 mx-auto max-w-2xl text-lg text-teal-100\">\n                    Notre �quipe est � votre disposition pour r�pondre � toutes vos questions concernant Pro-Trans ou pour vous aider dans vos d�marches.\n                  </p>\n                </div>\n                <div className=\"mt-12 sm:mx-auto sm:max-w-lg sm:flex\">\n                  <div className=\"mt-4 sm:mt-0 sm:ml-3 w-full\">\n                    <Button \n                      to=\"/contact\" \n                      variant=\"primary\" \n                      className=\"w-full bg-white text-teal-600 hover:bg-gray-100\"\n                      size=\"lg\"\n                    >\n                      Contactez-nous\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Join Us CTA */}\n      <div className=\"bg-white py-16 sm:py-24\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">Rejoignez l'aventure Pro-Trans</h2>\n            <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\">\n              Que vous soyez client ou transporteur, devenez acteur de la r�volution du transport.\n            </p>\n          </div>\n\n          <div className=\"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2\">\n            <div className=\"bg-gray-50 overflow-hidden shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6 text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-teal-100\">\n                  <BuildingOfficeIcon className=\"h-12 w-12 text-teal-600\" aria-hidden=\"true\" />\n                </div>\n                <h3 className=\"mt-6 text-2xl font-medium text-gray-900\">Pour les clients</h3>\n                <p className=\"mt-3 text-lg text-gray-600\">\n                  Economisez jusqu'� 40% sur vos frais de transport et trouvez le transporteur id�al en quelques clics.\n                </p>\n                <div className=\"mt-8\">\n                  <Button\n                    to=\"/register\"\n                    variant=\"primary\"\n                    size=\"lg\"\n                  >\n                    S'inscrire comme client\n                  </Button>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"bg-gray-50 overflow-hidden shadow rounded-lg\">\n              <div className=\"px-4 py-5 sm:p-6 text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-teal-100\">\n                  <TruckIcon className=\"h-12 w-12 text-teal-600\" aria-hidden=\"true\" />\n                </div>\n                <h3 className=\"mt-6 text-2xl font-medium text-gray-900\">Pour les transporteurs</h3>\n                <p className=\"mt-3 text-lg text-gray-600\">\n                  Optimisez vos trajets, trouvez de nouveaux clients et augmentez votre chiffre d'affaires.\n                </p>\n                <div className=\"mt-8\">\n                  <Button\n                    to=\"/register?role=transporteur\"\n                    variant=\"primary\"\n                    size=\"lg\"\n                  >\n                    S'inscrire comme transporteur\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AboutPage;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  ChevronDownIcon, \n  ChevronUpIcon,\n  QuestionMarkCircleIcon,\n  MagnifyingGlassIcon\n} from '@heroicons/react/24/outline';\nimport Button from '../../components/ui/Button';\n\nconst FAQPage = () => {\n  const [activeCategory, setActiveCategory] = useState('general');\n  const [openItems, setOpenItems] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Cat�gories de FAQ\n  const categories = [\n    { id: 'general', name: 'Informations g�n�rales' },\n    { id: 'client', name: 'Pour les clients' },\n    { id: 'transporteur', name: 'Pour les transporteurs' },\n    { id: 'payment', name: 'Paiements et tarifs' },\n    { id: 'security', name: 'S�curit� et assurances' }\n  ];\n\n  // Questions et r�ponses par cat�gorie\n  const faqItems = {\n    general: [\n      {\n        question: \"Qu'est-ce que Pro-Trans ?\",\n        answer: \"Pro-Trans est une plateforme de mise en relation entre particuliers et professionnels du transport. Nous permettons aux personnes ayant besoin de transporter des marchandises de trouver facilement des transporteurs fiables, et aux transporteurs d'optimiser leurs trajets et de trouver de nouveaux clients.\"\n      },\n      {\n        question: \"Comment fonctionne Pro-Trans ?\",\n        answer: \"C'est simple ! Les clients publient des annonces d�taillant ce qu'ils souhaitent transporter, d'o� � o�, et quand. Les transporteurs consultent ces annonces et envoient des devis. Le client choisit le transporteur qui lui convient le mieux, effectue le paiement via notre plateforme s�curis�e, et peut suivre sa livraison en temps r�el.\"\n      },\n      {\n        question: \"Qui peut utiliser Pro-Trans ?\",\n        answer: \"Notre plateforme est ouverte � tous : particuliers souhaitant transporter des biens, professionnels ayant des besoins r�guliers ou ponctuels de transport, transporteurs ind�pendants ou soci�t�s de transport. Tous les utilisateurs doivent s'inscrire et cr�er un compte pour acc�der � nos services.\"\n      },\n      {\n        question: \"Quels types de transports peut-on effectuer sur Pro-Trans ?\",\n        answer: \"Pro-Trans couvre une large gamme de besoins : transport de colis, de meubles, de marchandises diverses, de palettes, d�m�nagements, transport de v�hicules, et bien plus. Que vous ayez besoin de d�placer un simple colis ou de r�aliser un d�m�nagement complet, vous trouverez des transporteurs adapt�s � vos besoins.\"\n      }\n    ],\n    client: [\n      {\n        question: \"Comment cr�er une annonce de transport ?\",\n        answer: \"Pour cr�er une annonce, connectez-vous � votre compte, cliquez sur 'Publier une annonce' et remplissez le formulaire en d�taillant ce que vous souhaitez transporter, l'adresse de d�part et d'arriv�e, la date souhait�e et toute information pertinente. Vous pouvez �galement ajouter des photos pour aider les transporteurs � �valuer votre demande.\"\n      },\n      {\n        question: \"Comment choisir le meilleur transporteur ?\",\n        answer: \"Lorsque vous recevez des devis, consultez le profil des transporteurs, leurs �valuations et avis laiss�s par d'autres clients. Comparez les prix, les d�lais propos�s et les services inclus. N'h�sitez pas � poser des questions via notre messagerie int�gr�e avant de faire votre choix.\"\n      },\n      {\n        question: \"Que faire si ma livraison est endommag�e ou perdue ?\",\n        answer: \"Si votre bien est endommag� ou perdu, signalez-le imm�diatement via la plateforme. Notre �quipe de m�diation interviendra pour trouver une solution. Tous les transports effectu�s via Pro-Trans b�n�ficient d'une assurance de base. Pour les objets de valeur, nous recommandons de souscrire � notre assurance premium.\"\n      },\n      {\n        question: \"Puis-je annuler mon annonce ou un devis accept� ?\",\n        answer: \"Vous pouvez annuler votre annonce tant qu'aucun devis n'a �t� accept�. Si vous avez d�j� accept� un devis, une annulation peut entra�ner des frais selon notre politique d'annulation, qui d�pend du d�lai restant avant la date de transport pr�vue.\"\n      }\n    ],\n    transporteur: [\n      {\n        question: \"Comment devenir transporteur sur Pro-Trans ?\",\n        answer: \"Pour devenir transporteur, inscrivez-vous en choisissant le profil 'Transporteur', compl�tez votre profil avec vos informations professionnelles, et t�l�chargez les documents requis (assurance, licence de transport si applicable). Notre �quipe v�rifiera vos informations et vous donnera acc�s aux annonces disponibles.\"\n      },\n      {\n        question: \"Comment trouver des annonces adapt�es � mon v�hicule ?\",\n        answer: \"Utilisez nos filtres de recherche pour trouver des annonces correspondant � votre v�hicule et � vos trajets habituels. Vous pouvez filtrer par lieu, date, type de transport, poids, volume, etc. Vous pouvez �galement configurer des alertes pour �tre notifi� des nouvelles annonces correspondant � vos crit�res.\"\n      },\n      {\n        question: \"Comment sont calcul�s les frais de service pour les transporteurs ?\",\n        answer: \"Pro-Trans pr�l�ve une commission sur chaque transport effectu� via notre plateforme. Cette commission est calcul�e en pourcentage du montant total du devis accept�. Le pourcentage exact d�pend de votre statut (transporteur occasionnel ou professionnel) et de votre volume d'activit� sur la plateforme.\"\n      },\n      {\n        question: \"Quand et comment suis-je pay� pour mes transports ?\",\n        answer: \"Le client effectue le paiement sur la plateforme au moment d'accepter votre devis. L'argent est conserv� en s�questre et vous est vers� 24 heures apr�s la confirmation de livraison par le client. Vous pouvez suivre vos revenus et demander des virements vers votre compte bancaire depuis votre espace transporteur.\"\n      }\n    ],\n    payment: [\n      {\n        question: \"Quels moyens de paiement sont accept�s ?\",\n        answer: \"Pro-Trans accepte les cartes bancaires (Visa, Mastercard), les virements bancaires et PayPal. Tous les paiements sont s�curis�s et trait�s par des prestataires de confiance conformes aux normes PCI DSS.\"\n      },\n      {\n        question: \"Comment fonctionne le syst�me de s�questre ?\",\n        answer: \"Lorsqu'un client accepte un devis, le paiement est imm�diatement d�bit� mais conserv� en s�questre. L'argent n'est vers� au transporteur que 24 heures apr�s la confirmation de livraison par le client, garantissant ainsi la s�curit� des deux parties.\"\n      },\n      {\n        question: \"Quels sont les frais de service de Pro-Trans ?\",\n        answer: \"Les frais de service varient selon le montant du transport et le statut de l'utilisateur. Pour les clients, ils repr�sentent g�n�ralement entre 5% et 10% du montant du transport. Pour les transporteurs, ils varient entre 8% et 15%. Ces frais couvrent l'utilisation de la plateforme, le service client, le syst�me de paiement s�curis� et l'assurance de base.\"\n      },\n      {\n        question: \"Comment obtenir une facture pour mes transactions ?\",\n        answer: \"Toutes les factures sont automatiquement g�n�r�es et disponibles dans votre espace personnel. Vous pouvez les consulter, les t�l�charger au format PDF ou les recevoir par email. Les factures sont conformes � la l�gislation fran�aise et incluent toutes les informations n�cessaires pour votre comptabilit�.\"\n      }\n    ],\n    security: [\n      {\n        question: \"Comment Pro-Trans garantit-il la s�curit� des transactions ?\",\n        answer: \"Pro-Trans utilise un syst�me de paiement s�curis� conforme aux normes PCI DSS. Le syst�me de s�questre prot�ge � la fois les clients et les transporteurs. Toutes les communications sont crypt�es et nous ne stockons jamais les donn�es sensibles de paiement sur nos serveurs.\"\n      },\n      {\n        question: \"Les transports sont-ils assur�s ?\",\n        answer: \"Oui, tous les transports effectu�s via Pro-Trans b�n�ficient d'une assurance de base couvrant jusqu'� 1000� de dommages. Pour les objets de plus grande valeur, nous proposons une assurance premium optionnelle avec diff�rents niveaux de couverture. Les transporteurs doivent �galement disposer de leur propre assurance professionnelle.\"\n      },\n      {\n        question: \"Comment sont v�rifi�s les transporteurs ?\",\n        answer: \"Tous les transporteurs doivent compl�ter un processus de v�rification qui inclut la validation de leur identit�, la v�rification de leurs documents professionnels (assurance, licence de transport si applicable) et la confirmation de leurs coordonn�es. Nous surveillons �galement les �valuations et pouvons suspendre les transporteurs ne respectant pas nos standards de qualit�.\"\n      },\n      {\n        question: \"Que faire en cas de litige avec un transporteur ou un client ?\",\n        answer: \"En cas de litige, contactez notre service de m�diation via votre espace personnel ou par email � mediation@pro-trans.fr. Notre �quipe analysera la situation et interviendra pour trouver une solution �quitable. Si n�cessaire, nous pouvons geler les fonds en s�questre le temps de r�soudre le conflit.\"\n      }\n    ]\n  };\n\n  // Fonction pour basculer l'�tat d'ouverture d'un �l�ment FAQ\n  const toggleItem = (itemId) => {\n    setOpenItems(prev => ({\n      ...prev,\n      [itemId]: !prev[itemId]\n    }));\n  };\n\n  // Filtrer les questions en fonction de la recherche\n  const filteredFaqItems = {};\n  if (searchQuery.trim() !== '') {\n    // Recherche dans toutes les cat�gories\n    Object.keys(faqItems).forEach(category => {\n      const matchingItems = faqItems[category].filter(item => \n        item.question.toLowerCase().includes(searchQuery.toLowerCase()) || \n        item.answer.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n      \n      if (matchingItems.length > 0) {\n        filteredFaqItems[category] = matchingItems;\n      }\n    });\n  } else {\n    // Sans recherche, afficher uniquement la cat�gorie active\n    filteredFaqItems[activeCategory] = faqItems[activeCategory];\n  }\n\n  return (\n    <div className=\"bg-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n            Foire aux questions\n          </h1>\n          <p className=\"mt-4 text-xl text-gray-500 max-w-2xl mx-auto\">\n            Trouvez rapidement des r�ponses � vos questions sur Pro-Trans\n          </p>\n        </div>\n\n        {/* Barre de recherche */}\n        <div className=\"max-w-xl mx-auto mt-8 mb-12\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n            </div>\n            <input\n              type=\"text\"\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\"\n              placeholder=\"Rechercher une question...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <div className=\"lg:grid lg:grid-cols-12 lg:gap-8\">\n          {/* Cat�gories - visible uniquement en desktop et quand pas de recherche */}\n          {!searchQuery && (\n            <div className=\"hidden lg:block lg:col-span-3\">\n              <nav className=\"sticky top-4 space-y-1\">\n                {categories.map((category) => (\n                  <button\n                    key={category.id}\n                    onClick={() => setActiveCategory(category.id)}\n                    className={`${\n                      activeCategory === category.id\n                        ? 'bg-teal-50 border-teal-500 text-teal-700'\n                        : 'border-transparent text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                    } group w-full flex items-center px-3 py-2 text-sm font-medium border-l-4`}\n                  >\n                    {category.name}\n                  </button>\n                ))}\n              </nav>\n            </div>\n          )}\n\n          {/* Liste de cat�gories mobile - visible uniquement quand pas de recherche */}\n          {!searchQuery && (\n            <div className=\"lg:hidden mb-8\">\n              <label htmlFor=\"category\" className=\"sr-only\">\n                Cat�gorie\n              </label>\n              <select\n                id=\"category\"\n                name=\"category\"\n                className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md\"\n                value={activeCategory}\n                onChange={(e) => setActiveCategory(e.target.value)}\n              >\n                {categories.map((category) => (\n                  <option key={category.id} value={category.id}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Questions et r�ponses */}\n          <div className={`${searchQuery ? 'lg:col-span-12' : 'lg:col-span-9'}`}>\n            {Object.keys(filteredFaqItems).length === 0 ? (\n              <div className=\"text-center py-12\">\n                <QuestionMarkCircleIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Aucun r�sultat trouv�</h3>\n                <p className=\"mt-1 text-sm text-gray-500\">\n                  Essayez avec d'autres termes ou contactez notre support.\n                </p>\n                <div className=\"mt-6\">\n                  <Button to=\"/contact\" variant=\"primary\">\n                    Contactez-nous\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <div>\n                {/* Afficher le titre de la cat�gorie uniquement s'il n'y a pas de recherche */}\n                {!searchQuery && (\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n                    {categories.find(c => c.id === activeCategory)?.name}\n                  </h2>\n                )}\n                \n                {/* Si recherche, afficher les r�sultats par cat�gorie */}\n                {searchQuery && Object.keys(filteredFaqItems).length > 0 && (\n                  <p className=\"text-sm text-gray-500 mb-6\">\n                    {Object.values(filteredFaqItems).flat().length} r�sultat(s) pour \"{searchQuery}\"\n                  </p>\n                )}\n\n                <div className=\"space-y-6\">\n                  {/* Si recherche, afficher toutes les cat�gories avec des r�sultats */}\n                  {searchQuery ? (\n                    Object.keys(filteredFaqItems).map(categoryId => (\n                      <div key={categoryId} className=\"mb-8\">\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                          {categories.find(c => c.id === categoryId)?.name}\n                        </h3>\n                        <dl className=\"space-y-6 divide-y divide-gray-200\">\n                          {filteredFaqItems[categoryId].map((item, idx) => {\n                            const itemId = `${categoryId}-${idx}`;\n                            return (\n                              <div key={itemId} className={idx > 0 ? 'pt-6' : ''}>\n                                <dt className=\"text-lg\">\n                                  <button\n                                    onClick={() => toggleItem(itemId)}\n                                    className=\"text-left w-full flex justify-between items-start text-gray-900\"\n                                  >\n                                    <span className=\"font-medium text-gray-900\">{item.question}</span>\n                                    <span className=\"ml-6 h-7 flex items-center\">\n                                      {openItems[itemId] ? (\n                                        <ChevronUpIcon className=\"h-5 w-5 text-teal-500\" />\n                                      ) : (\n                                        <ChevronDownIcon className=\"h-5 w-5 text-teal-500\" />\n                                      )}\n                                    </span>\n                                  </button>\n                                </dt>\n                                {openItems[itemId] && (\n                                  <dd className=\"mt-2 pr-12\">\n                                    <p className=\"text-base text-gray-600\">{item.answer}</p>\n                                  </dd>\n                                )}\n                              </div>\n                            );\n                          })}\n                        </dl>\n                      </div>\n                    ))\n                  ) : (\n                    <dl className=\"space-y-6 divide-y divide-gray-200\">\n                      {filteredFaqItems[activeCategory].map((item, idx) => {\n                        const itemId = `${activeCategory}-${idx}`;\n                        return (\n                          <div key={itemId} className={idx > 0 ? 'pt-6' : ''}>\n                            <dt className=\"text-lg\">\n                              <button\n                                onClick={() => toggleItem(itemId)}\n                                className=\"text-left w-full flex justify-between items-start text-gray-900\"\n                              >\n                                <span className=\"font-medium text-gray-900\">{item.question}</span>\n                                <span className=\"ml-6 h-7 flex items-center\">\n                                  {openItems[itemId] ? (\n                                    <ChevronUpIcon className=\"h-5 w-5 text-teal-500\" />\n                                  ) : (\n                                    <ChevronDownIcon className=\"h-5 w-5 text-teal-500\" />\n                                  )}\n                                </span>\n                              </button>\n                            </dt>\n                            {openItems[itemId] && (\n                              <dd className=\"mt-2 pr-12\">\n                                <p className=\"text-base text-gray-600\">{item.answer}</p>\n                              </dd>\n                            )}\n                          </div>\n                        );\n                      })}\n                    </dl>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Section d'aide suppl�mentaire */}\n        <div className=\"mt-16 bg-teal-50 rounded-lg shadow-lg overflow-hidden\">\n          <div className=\"px-6 py-8 sm:p-10 sm:pb-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center\">\n              <div className=\"lg:col-span-2\">\n                <h3 className=\"text-xl font-semibold text-teal-900\">\n                  Vous n'avez pas trouv� de r�ponse � votre question ?\n                </h3>\n                <p className=\"mt-2 text-base text-teal-700\">\n                  Notre �quipe de support est disponible pour vous aider. Contactez-nous par email, t�l�phone ou via le formulaire de contact.\n                </p>\n              </div>\n              <div className=\"flex justify-center lg:justify-end\">\n                <Button to=\"/contact\" variant=\"primary\" size=\"lg\">\n                  Nous contacter\n                </Button>\n              </div>\n            </div>\n          </div>\n          <div className=\"px-6 pt-6 pb-8 bg-teal-100 sm:p-10 sm:pt-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n              <div>\n                <h4 className=\"text-sm font-medium text-teal-900\">Par email</h4>\n                <div className=\"mt-2 text-base text-teal-800\">\n                  <p>support@pro-trans.fr</p>\n                  <p className=\"mt-1 text-sm text-teal-700\">\n                    R�ponse sous 24h ouvr�es\n                  </p>\n                </div>\n              </div>\n              <div>\n                <h4 className=\"text-sm font-medium text-teal-900\">Par t�l�phone</h4>\n                <div className=\"mt-2 text-base text-teal-800\">\n                  <p>01 23 45 67 89</p>\n                  <p className=\"mt-1 text-sm text-teal-700\">\n                    Du lundi au vendredi, 9h - 18h\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FAQPage;","import React, { forwardRef } from 'react';\r\n\r\n/**\r\n * Composant Input réutilisable\r\n * @param {string} id - ID de l'input\r\n * @param {string} name - Nom de l'input\r\n * @param {string} type - Type d'input (text, email, password, etc.)\r\n * @param {string} label - Label de l'input\r\n * @param {string} placeholder - Placeholder de l'input\r\n * @param {string} value - Valeur de l'input\r\n * @param {boolean} disabled - Input désactivé ou non\r\n * @param {boolean} required - Input requis ou non\r\n * @param {Function} onChange - Fonction de changement\r\n * @param {Function} onBlur - Fonction de blur\r\n * @param {string} error - Message d'erreur\r\n * @param {boolean} touched - Champ touché ou non\r\n * @param {string} className - Classes CSS supplémentaires\r\n * @param {string} helperText - Texte d'aide\r\n * @param {ReactNode} icon - Icône à afficher\r\n * @param {string} iconPosition - Position de l'icône (left, right)\r\n */\r\nconst Input = forwardRef(({\r\n  id,\r\n  name,\r\n  type = 'text',\r\n  label,\r\n  placeholder,\r\n  value,\r\n  disabled = false,\r\n  required = false,\r\n  onChange,\r\n  onBlur,\r\n  error,\r\n  touched,\r\n  className = '',\r\n  helperText,\r\n  icon,\r\n  iconPosition = 'left',\r\n  ...rest\r\n}, ref) => {\r\n  // Définir les classes CSS de base\r\n  const baseInputClasses = 'block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm';\r\n  \r\n  // Classes pour les états spéciaux\r\n  const errorClasses = error && touched ? 'border-red-300 focus:border-red-500 focus:ring-red-500' : '';\r\n  const disabledClasses = disabled ? 'bg-gray-100 cursor-not-allowed' : '';\r\n  const iconClasses = icon ? (iconPosition === 'left' ? 'pl-10' : 'pr-10') : '';\r\n  \r\n  // Combiner toutes les classes\r\n  const inputClasses = `${baseInputClasses} ${errorClasses} ${disabledClasses} ${iconClasses} ${className}`;\r\n  \r\n  return (\r\n    <div className=\"mb-4\">\r\n      {/* Label */}\r\n      {label && (\r\n        <label htmlFor={id || name} className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n        </label>\r\n      )}\r\n      \r\n      {/* Conteneur pour l'input avec icône */}\r\n      <div className=\"relative\">\r\n        {/* Icône à gauche */}\r\n        {icon && iconPosition === 'left' && (\r\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n            {icon}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Input */}\r\n        <input\r\n          ref={ref}\r\n          id={id || name}\r\n          name={name}\r\n          type={type}\r\n          placeholder={placeholder}\r\n          value={value}\r\n          disabled={disabled}\r\n          required={required}\r\n          onChange={onChange}\r\n          onBlur={onBlur}\r\n          className={inputClasses}\r\n          aria-invalid={error && touched ? 'true' : 'false'}\r\n          aria-describedby={error && touched ? `${name}-error` : helperText ? `${name}-helper` : undefined}\r\n          {...rest}\r\n        />\r\n        \r\n        {/* Icône à droite */}\r\n        {icon && iconPosition === 'right' && (\r\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\r\n            {icon}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Message d'erreur */}\r\n      {error && touched && (\r\n        <p id={`${name}-error`} className=\"mt-1 text-sm text-red-600\">\r\n          {error}\r\n        </p>\r\n      )}\r\n      \r\n      {/* Texte d'aide */}\r\n      {helperText && !error && (\r\n        <p id={`${name}-helper`} className=\"mt-1 text-sm text-gray-500\">\r\n          {helperText}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;","import React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport {\n  EnvelopeIcon,\n  PhoneIcon,\n  MapPinIcon,\n  CheckCircleIcon,\n  ExclamationCircleIcon\n} from '@heroicons/react/24/outline';\nimport Button from '../../components/ui/Button';\nimport Input from '../../components/ui/Input';\nimport apiClient from '../../api/client';\n\nconst ContactPage = () => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  // Sch�ma de validation\n  const validationSchema = Yup.object({\n    nom: Yup.string()\n      .required('Votre nom est requis')\n      .min(2, 'Le nom doit comporter au moins 2 caract�res')\n      .max(50, 'Le nom ne doit pas d�passer 50 caract�res'),\n    email: Yup.string()\n      .required('Votre email est requis')\n      .email('Format d\\'email invalide'),\n    sujet: Yup.string()\n      .required('Le sujet est requis')\n      .min(5, 'Le sujet doit comporter au moins 5 caract�res')\n      .max(100, 'Le sujet ne doit pas d�passer 100 caract�res'),\n    message: Yup.string()\n      .required('Votre message est requis')\n      .min(20, 'Le message doit comporter au moins 20 caract�res'),\n    telephone: Yup.string()\n      .matches(/^((\\+)33|0)[1-9](\\d{2}){4}$/, 'Format de t�l�phone invalide (ex: 0612345678 ou +33612345678)')\n      .notRequired(),\n    politique: Yup.boolean()\n      .oneOf([true], 'Vous devez accepter la politique de confidentialit�')\n      .required('Vous devez accepter la politique de confidentialit�')\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      nom: '',\n      email: '',\n      telephone: '',\n      sujet: '',\n      message: '',\n      politique: false\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setIsSubmitting(true);\n        \n        // Appel API pour envoyer le message de contact\n        await apiClient.post('/contact', values);\n        \n        setSubmitSuccess(true);\n        toast.success('Votre message a �t� envoy� avec succ�s !');\n        \n        // R�initialiser le formulaire\n        formik.resetForm();\n      } catch (error) {\n        console.error('Erreur lors de l\\'envoi du message :', error);\n        toast.error(error.response?.data?.message || 'Erreur lors de l\\'envoi du message');\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  });\n\n  return (\n    <div className=\"bg-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n            Contactez-nous\n          </h1>\n          <p className=\"mt-4 text-xl text-gray-500 max-w-2xl mx-auto\">\n            Notre �quipe est � votre disposition pour r�pondre � toutes vos questions\n          </p>\n        </div>\n\n        <div className=\"mt-16 lg:grid lg:grid-cols-3 lg:gap-8\">\n          {/* Informations de contact */}\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Nos coordonn�es</h2>\n            <p className=\"mt-3 text-lg text-gray-500\">\n              N'h�sitez pas � nous contacter par t�l�phone, email ou en remplissant le formulaire.\n            </p>\n            \n            <div className=\"mt-9\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <PhoneIcon className=\"h-6 w-6 text-teal-600\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-3 text-base text-gray-500\">\n                  <p>01 23 45 67 89</p>\n                  <p className=\"mt-1\">Du lundi au vendredi, 9h - 18h</p>\n                </div>\n              </div>\n              \n              <div className=\"mt-6 flex\">\n                <div className=\"flex-shrink-0\">\n                  <EnvelopeIcon className=\"h-6 w-6 text-teal-600\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-3 text-base text-gray-500\">\n                  <p>contact@pro-trans.fr</p>\n                  <p className=\"mt-1\">R�ponse sous 24h ouvr�es</p>\n                </div>\n              </div>\n              \n              <div className=\"mt-6 flex\">\n                <div className=\"flex-shrink-0\">\n                  <MapPinIcon className=\"h-6 w-6 text-teal-600\" aria-hidden=\"true\" />\n                </div>\n                <div className=\"ml-3 text-base text-gray-500\">\n                  <p>123 Avenue des Transports</p>\n                  <p>75001 Paris, France</p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Liens vers les r�seaux sociaux */}\n            <div className=\"mt-8\">\n              <h3 className=\"text-sm font-semibold text-gray-400 tracking-wider uppercase\">\n                Suivez-nous\n              </h3>\n              <div className=\"mt-4 flex space-x-6\">\n                <a href=\"#\" className=\"text-gray-400 hover:text-gray-500\">\n                  <span className=\"sr-only\">Facebook</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path fillRule=\"evenodd\" d=\"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z\" clipRule=\"evenodd\" />\n                  </svg>\n                </a>\n                <a href=\"#\" className=\"text-gray-400 hover:text-gray-500\">\n                  <span className=\"sr-only\">Instagram</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path fillRule=\"evenodd\" d=\"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z\" clipRule=\"evenodd\" />\n                  </svg>\n                </a>\n                <a href=\"#\" className=\"text-gray-400 hover:text-gray-500\">\n                  <span className=\"sr-only\">Twitter</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path d=\"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84\" />\n                  </svg>\n                </a>\n                <a href=\"#\" className=\"text-gray-400 hover:text-gray-500\">\n                  <span className=\"sr-only\">LinkedIn</span>\n                  <svg className=\"h-6 w-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path fillRule=\"evenodd\" d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\" clipRule=\"evenodd\" />\n                  </svg>\n                </a>\n              </div>\n            </div>\n          </div>\n\n          {/* Formulaire de contact */}\n          <div className=\"mt-12 lg:mt-0 lg:col-span-2\">\n            <div className=\"bg-white shadow-lg rounded-lg p-8\">\n              {submitSuccess ? (\n                <div className=\"flex flex-col items-center justify-center h-full text-center py-12\">\n                  <CheckCircleIcon className=\"h-16 w-16 text-green-500 mb-4\" />\n                  <h2 className=\"text-2xl font-medium text-gray-900 mb-2\">Message envoy� !</h2>\n                  <p className=\"text-gray-600 mb-6\">\n                    Merci de nous avoir contact�s. Notre �quipe vous r�pondra dans les plus brefs d�lais.\n                  </p>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setSubmitSuccess(false)}\n                  >\n                    Envoyer un autre message\n                  </Button>\n                </div>\n              ) : (\n                <form onSubmit={formik.handleSubmit} className=\"grid grid-cols-1 gap-y-6\">\n                  <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n                    <Input\n                      id=\"nom\"\n                      name=\"nom\"\n                      type=\"text\"\n                      label=\"Nom complet\"\n                      placeholder=\"Votre nom et pr�nom\"\n                      value={formik.values.nom}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.nom && formik.errors.nom}\n                      touched={formik.touched.nom}\n                      required\n                    />\n                    <Input\n                      id=\"email\"\n                      name=\"email\"\n                      type=\"email\"\n                      label=\"Email\"\n                      placeholder=\"Votre adresse email\"\n                      value={formik.values.email}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.email && formik.errors.email}\n                      touched={formik.touched.email}\n                      required\n                      icon={<EnvelopeIcon className=\"h-5 w-5 text-gray-400\" />}\n                    />\n                  </div>\n                  \n                  <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n                    <Input\n                      id=\"telephone\"\n                      name=\"telephone\"\n                      type=\"tel\"\n                      label=\"T�l�phone\"\n                      placeholder=\"Votre num�ro de t�l�phone (facultatif)\"\n                      value={formik.values.telephone}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.telephone && formik.errors.telephone}\n                      touched={formik.touched.telephone}\n                      icon={<PhoneIcon className=\"h-5 w-5 text-gray-400\" />}\n                      helperText=\"Format: 0612345678 ou +33612345678\"\n                    />\n                    <Input\n                      id=\"sujet\"\n                      name=\"sujet\"\n                      type=\"text\"\n                      label=\"Sujet\"\n                      placeholder=\"Objet de votre message\"\n                      value={formik.values.sujet}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.sujet && formik.errors.sujet}\n                      touched={formik.touched.sujet}\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700\">\n                      Message <span className=\"text-red-500\">*</span>\n                    </label>\n                    <div className=\"mt-1\">\n                      <textarea\n                        id=\"message\"\n                        name=\"message\"\n                        rows={6}\n                        className=\"py-3 px-4 block w-full shadow-sm focus:ring-teal-500 focus:border-teal-500 border border-gray-300 rounded-md\"\n                        placeholder=\"D�taillez votre demande...\"\n                        value={formik.values.message}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        required\n                      />\n                      {formik.touched.message && formik.errors.message && (\n                        <p className=\"mt-2 text-sm text-red-600\">\n                          {formik.errors.message}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"politique\"\n                        name=\"politique\"\n                        type=\"checkbox\"\n                        className=\"focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300 rounded\"\n                        checked={formik.values.politique}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        required\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"politique\" className=\"font-medium text-gray-700\">\n                        J'accepte la politique de confidentialit� <span className=\"text-red-500\">*</span>\n                      </label>\n                      <p className=\"text-gray-500\">\n                        En soumettant ce formulaire, j'accepte que mes donn�es soient trait�es conform�ment � la{' '}\n                        <a href=\"/politique-confidentialite\" className=\"font-medium text-teal-600 hover:text-teal-500\">\n                          politique de confidentialit�\n                        </a>\n                        .\n                      </p>\n                      {formik.touched.politique && formik.errors.politique && (\n                        <p className=\"mt-2 text-sm text-red-600\">\n                          {formik.errors.politique}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <Button\n                      type=\"submit\"\n                      variant=\"primary\"\n                      fullWidth\n                      size=\"lg\"\n                      isLoading={isSubmitting}\n                      disabled={isSubmitting || !formik.isValid}\n                    >\n                      Envoyer le message\n                    </Button>\n                  </div>\n                </form>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Carte */}\n        <div className=\"mt-16 bg-gray-100 rounded-lg overflow-hidden\">\n          <div className=\"h-96 relative\">\n            <iframe\n              title=\"Carte de localisation\"\n              className=\"absolute inset-0 w-full h-full\"\n              frameBorder=\"0\"\n              src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.142047033236!2d2.3354330160472316!3d48.87456857928921!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e38f817b573%3A0x48d69c30470e7aeb!2sOp%C3%A9ra%20Garnier!5e0!3m2!1sfr!2sfr!4v1567000795195!5m2!1sfr!2sfr\"\n              allowFullScreen\n            ></iframe>\n          </div>\n        </div>\n\n        {/* Section FAQ */}\n        <div className=\"mt-16 bg-teal-50 rounded-lg shadow-lg overflow-hidden\">\n          <div className=\"px-6 py-8 sm:p-10 sm:pb-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-xl font-semibold text-teal-900\">\n                Questions fr�quentes\n              </h3>\n              <p className=\"mt-2 text-base text-teal-700\">\n                Consultez notre FAQ pour obtenir des r�ponses rapides � vos questions\n              </p>\n              <div className=\"mt-6\">\n                <Button to=\"/faq\" variant=\"primary\">\n                  Voir la FAQ\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ContactPage;","import { format, parseISO, formatDistanceToNow, addDays, isAfter, isBefore, isEqual } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\n\r\n/**\r\n * Formate une date selon le format spécifié\r\n * @param {Date|string} date - Date à formater\r\n * @param {string} formatStr - Format de date (défaut: dd/MM/yyyy)\r\n * @param {Object} options - Options additionnelles pour format\r\n * @returns {string} Date formatée\r\n */\r\nexport const formatDate = (date, formatStr = 'dd/MM/yyyy', options = {}) => {\r\n  if (!date) return '';\r\n  \r\n  try {\r\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n    return format(dateObj, formatStr, { locale: fr, ...options });\r\n  } catch (error) {\r\n    console.error('Erreur de formatage de date:', error);\r\n    return '';\r\n  }\r\n};\r\n\r\n/**\r\n * Calcule la différence relative entre une date et maintenant\r\n * @param {Date|string} date - Date à comparer\r\n * @param {Object} options - Options additionnelles\r\n * @returns {string} Différence relative (ex: \"il y a 2 jours\")\r\n */\r\nexport const timeAgo = (date, options = {}) => {\r\n  if (!date) return '';\r\n  \r\n  try {\r\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n    return formatDistanceToNow(dateObj, { \r\n      addSuffix: true, \r\n      locale: fr,\r\n      ...options \r\n    });\r\n  } catch (error) {\r\n    console.error('Erreur de calcul de temps relatif:', error);\r\n    return '';\r\n  }\r\n};\r\n\r\n/**\r\n * Vérifie si une date est dans le futur\r\n * @param {Date|string} date - Date à vérifier\r\n * @returns {boolean} true si la date est dans le futur\r\n */\r\nexport const isFutureDate = (date) => {\r\n  if (!date) return false;\r\n  \r\n  try {\r\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n    return isAfter(dateObj, new Date());\r\n  } catch (error) {\r\n    console.error('Erreur de vérification de date future:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Ajoute un nombre de jours à une date\r\n * @param {Date|string} date - Date de base\r\n * @param {number} days - Nombre de jours à ajouter\r\n * @returns {Date} Nouvelle date\r\n */\r\nexport const addDaysToDate = (date, days) => {\r\n  if (!date) return new Date();\r\n  \r\n  try {\r\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n    return addDays(dateObj, days);\r\n  } catch (error) {\r\n    console.error('Erreur d\\'ajout de jours à une date:', error);\r\n    return new Date();\r\n  }\r\n};\r\n\r\n/**\r\n * Compare deux dates (égalité)\r\n * @param {Date|string} date1 - Première date\r\n * @param {Date|string} date2 - Deuxième date\r\n * @returns {boolean} true si les dates sont égales\r\n */\r\nexport const areDatesEqual = (date1, date2) => {\r\n  if (!date1 || !date2) return false;\r\n  \r\n  try {\r\n    const dateObj1 = typeof date1 === 'string' ? parseISO(date1) : date1;\r\n    const dateObj2 = typeof date2 === 'string' ? parseISO(date2) : date2;\r\n    return isEqual(dateObj1, dateObj2);\r\n  } catch (error) {\r\n    console.error('Erreur de comparaison de dates:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Convertit une chaîne de date en objet Date\r\n * @param {string} dateStr - Chaîne de date à convertir\r\n * @returns {Date|null} Objet Date ou null en cas d'erreur\r\n */\r\nexport const parseDate = (dateStr) => {\r\n  if (!dateStr) return null;\r\n  \r\n  try {\r\n    return parseISO(dateStr);\r\n  } catch (error) {\r\n    console.error('Erreur de conversion de chaîne en date:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Calcule la différence en jours entre deux dates\r\n * @param {Date|string} startDate - Date de début\r\n * @param {Date|string} endDate - Date de fin\r\n * @returns {number} Différence en jours\r\n */\r\nexport const daysBetween = (startDate, endDate) => {\r\n  if (!startDate || !endDate) return 0;\r\n  \r\n  try {\r\n    const start = typeof startDate === 'string' ? parseISO(startDate) : startDate;\r\n    const end = typeof endDate === 'string' ? parseISO(endDate) : endDate;\r\n    \r\n    // Différence en millisecondes\r\n    const diffTime = Math.abs(end.getTime() - start.getTime());\r\n    // Conversion en jours\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n  } catch (error) {\r\n    console.error('Erreur de calcul de jours entre dates:', error);\r\n    return 0;\r\n  }\r\n};","// frontend/src/utils/constants.js\r\n// Types d'annonces\r\nexport const TYPE_TRANSPORT = {\r\n  COLIS: 'colis',\r\n  MEUBLE: 'meuble',\r\n  MARCHANDISE: 'marchandise',\r\n  PALETTE: 'palette',\r\n  DEMENAGEMENT: 'demenagement',\r\n  VEHICULE: 'vehicule',\r\n  AUTRE: 'autre'\r\n};\r\n\r\n// Libellés des types de transport\r\nexport const TYPE_TRANSPORT_LABELS = {\r\n  [TYPE_TRANSPORT.COLIS]: 'Colis',\r\n  [TYPE_TRANSPORT.MEUBLE]: 'Meuble',\r\n  [TYPE_TRANSPORT.MARCHANDISE]: 'Marchandise',\r\n  [TYPE_TRANSPORT.PALETTE]: 'Palette',\r\n  [TYPE_TRANSPORT.DEMENAGEMENT]: 'Déménagement',\r\n  [TYPE_TRANSPORT.VEHICULE]: 'Véhicule',\r\n  [TYPE_TRANSPORT.AUTRE]: 'Autre'\r\n};\r\n\r\n// Statuts des annonces\r\nexport const STATUT_ANNONCE = {\r\n  DISPONIBLE: 'disponible',\r\n  EN_ATTENTE: 'en_attente',\r\n  EN_COURS: 'en_cours',\r\n  TERMINE: 'termine',\r\n  ANNULE: 'annule'\r\n};\r\n\r\n// Libellés des statuts d'annonce\r\nexport const STATUT_ANNONCE_LABELS = {\r\n  [STATUT_ANNONCE.DISPONIBLE]: 'Disponible',\r\n  [STATUT_ANNONCE.EN_ATTENTE]: 'En attente',\r\n  [STATUT_ANNONCE.EN_COURS]: 'En cours',\r\n  [STATUT_ANNONCE.TERMINE]: 'Terminé',\r\n  [STATUT_ANNONCE.ANNULE]: 'Annulé'\r\n};\r\n\r\n// Couleurs des statuts d'annonce\r\nexport const STATUT_ANNONCE_COLORS = {\r\n  [STATUT_ANNONCE.DISPONIBLE]: 'bg-green-100 text-green-800',\r\n  [STATUT_ANNONCE.EN_ATTENTE]: 'bg-blue-100 text-blue-800',\r\n  [STATUT_ANNONCE.EN_COURS]: 'bg-yellow-100 text-yellow-800',\r\n  [STATUT_ANNONCE.TERMINE]: 'bg-gray-100 text-gray-800',\r\n  [STATUT_ANNONCE.ANNULE]: 'bg-red-100 text-red-800'\r\n};\r\n\r\n// Statuts des devis\r\nexport const STATUT_DEVIS = {\r\n  EN_ATTENTE: 'en_attente',\r\n  ACCEPTE: 'accepte',\r\n  REFUSE: 'refuse',\r\n  ANNULE: 'annule',\r\n  EXPIRE: 'expire',\r\n  EN_COURS: 'en_cours',\r\n  TERMINE: 'termine'\r\n};\r\n\r\n// Libellés des statuts de devis\r\nexport const STATUT_DEVIS_LABELS = {\r\n  [STATUT_DEVIS.EN_ATTENTE]: 'En attente',\r\n  [STATUT_DEVIS.ACCEPTE]: 'Accepté',\r\n  [STATUT_DEVIS.REFUSE]: 'Refusé',\r\n  [STATUT_DEVIS.ANNULE]: 'Annulé',\r\n  [STATUT_DEVIS.EXPIRE]: 'Expiré',\r\n  [STATUT_DEVIS.EN_COURS]: 'En cours',\r\n  [STATUT_DEVIS.TERMINE]: 'Terminé'\r\n};\r\n\r\n// Couleurs des statuts de devis\r\nexport const STATUT_DEVIS_COLORS = {\r\n  [STATUT_DEVIS.EN_ATTENTE]: 'bg-blue-100 text-blue-800',\r\n  [STATUT_DEVIS.ACCEPTE]: 'bg-green-100 text-green-800',\r\n  [STATUT_DEVIS.REFUSE]: 'bg-red-100 text-red-800',\r\n  [STATUT_DEVIS.ANNULE]: 'bg-gray-100 text-gray-800',\r\n  [STATUT_DEVIS.EXPIRE]: 'bg-yellow-100 text-yellow-800',\r\n  [STATUT_DEVIS.EN_COURS]: 'bg-indigo-100 text-indigo-800',\r\n  [STATUT_DEVIS.TERMINE]: 'bg-teal-100 text-teal-800'\r\n};\r\n\r\n// Statuts de suivi\r\nexport const STATUT_SUIVI = {\r\n  EN_ATTENTE: 'en_attente',\r\n  PRIS_EN_CHARGE: 'pris_en_charge',\r\n  EN_TRANSIT: 'en_transit',\r\n  EN_LIVRAISON: 'en_livraison',\r\n  LIVRE: 'livre',\r\n  PROBLEME: 'probleme'\r\n};\r\n\r\n// Libellés des statuts de suivi\r\nexport const STATUT_SUIVI_LABELS = {\r\n  [STATUT_SUIVI.EN_ATTENTE]: 'En attente',\r\n  [STATUT_SUIVI.PRIS_EN_CHARGE]: 'Pris en charge',\r\n  [STATUT_SUIVI.EN_TRANSIT]: 'En transit',\r\n  [STATUT_SUIVI.EN_LIVRAISON]: 'En livraison',\r\n  [STATUT_SUIVI.LIVRE]: 'Livré',\r\n  [STATUT_SUIVI.PROBLEME]: 'Problème'\r\n};\r\n\r\n// Couleurs des statuts de suivi\r\nexport const STATUT_SUIVI_COLORS = {\r\n  [STATUT_SUIVI.EN_ATTENTE]: 'bg-gray-100 text-gray-800',\r\n  [STATUT_SUIVI.PRIS_EN_CHARGE]: 'bg-blue-100 text-blue-800',\r\n  [STATUT_SUIVI.EN_TRANSIT]: 'bg-indigo-100 text-indigo-800',\r\n  [STATUT_SUIVI.EN_LIVRAISON]: 'bg-purple-100 text-purple-800',\r\n  [STATUT_SUIVI.LIVRE]: 'bg-green-100 text-green-800',\r\n  [STATUT_SUIVI.PROBLEME]: 'bg-red-100 text-red-800'\r\n};\r\n\r\n// Rôles utilisateur\r\nexport const ROLES = {\r\n  CLIENT: 'client',\r\n  TRANSPORTEUR: 'transporteur',\r\n  ADMIN: 'admin'\r\n};\r\n\r\n// Libellés des rôles\r\nexport const ROLES_LABELS = {\r\n  [ROLES.CLIENT]: 'Client',\r\n  [ROLES.TRANSPORTEUR]: 'Transporteur',\r\n  [ROLES.ADMIN]: 'Administrateur'\r\n};\r\n\r\n// Méthodes de paiement\r\nexport const METHODES_PAIEMENT = {\r\n  CARTE: 'carte',\r\n  VIREMENT: 'virement',\r\n  PAYPAL: 'paypal',\r\n  ESPECES: 'especes',\r\n  CHEQUE: 'cheque',\r\n  AUTRE: 'autre'\r\n};\r\n\r\n// Libellés des méthodes de paiement\r\nexport const METHODES_PAIEMENT_LABELS = {\r\n  [METHODES_PAIEMENT.CARTE]: 'Carte bancaire',\r\n  [METHODES_PAIEMENT.VIREMENT]: 'Virement bancaire',\r\n  [METHODES_PAIEMENT.PAYPAL]: 'PayPal',\r\n  [METHODES_PAIEMENT.ESPECES]: 'Espèces',\r\n  [METHODES_PAIEMENT.CHEQUE]: 'Chèque',\r\n  [METHODES_PAIEMENT.AUTRE]: 'Autre'\r\n};\r\n\r\n// Types de véhicules\r\nexport const TYPES_VEHICULES = {\r\n  VOITURE: 'voiture',\r\n  UTILITAIRE: 'utilitaire',\r\n  CAMION: 'camion',\r\n  POIDS_LOURD: 'poids_lourd',\r\n  AUTRE: 'autre'\r\n};\r\n\r\n// Libellés des types de véhicules\r\nexport const TYPES_VEHICULES_LABELS = {\r\n  [TYPES_VEHICULES.VOITURE]: 'Voiture',\r\n  [TYPES_VEHICULES.UTILITAIRE]: 'Utilitaire',\r\n  [TYPES_VEHICULES.CAMION]: 'Camion',\r\n  [TYPES_VEHICULES.POIDS_LOURD]: 'Poids lourd',\r\n  [TYPES_VEHICULES.AUTRE]: 'Autre'\r\n};\r\n\r\n// Unités de mesure\r\nexport const UNITES = {\r\n  POIDS: {\r\n    KG: 'kg',\r\n    TONNES: 'tonnes'\r\n  },\r\n  DIMENSIONS: {\r\n    CM: 'cm',\r\n    M: 'm'\r\n  }\r\n};\r\n\r\n// Statuts des paiements\r\nexport const STATUT_PAIEMENT = {\r\n  NON_PAYE: 'non_paye',\r\n  PAYE_PARTIELLEMENT: 'paye_partiellement',\r\n  PAYE: 'paye',\r\n  REMBOURSE: 'rembourse'\r\n};\r\n\r\n// Libellés des statuts de paiement\r\nexport const STATUT_PAIEMENT_LABELS = {\r\n  [STATUT_PAIEMENT.NON_PAYE]: 'Non payé',\r\n  [STATUT_PAIEMENT.PAYE_PARTIELLEMENT]: 'Payé partiellement',\r\n  [STATUT_PAIEMENT.PAYE]: 'Payé',\r\n  [STATUT_PAIEMENT.REMBOURSE]: 'Remboursé'\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { \r\n  MagnifyingGlassIcon,\r\n  AdjustmentsHorizontalIcon,\r\n  XMarkIcon,\r\n  MapPinIcon,\r\n  TruckIcon,\r\n  CalendarIcon\r\n} from '@heroicons/react/24/outline';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport Button from '../ui/Button';\r\n\r\nconst AdvancedSearchComponent = ({ onSearch, initialFilters = {} }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    villeDepart: '',\r\n    villeArrivee: '',\r\n    typeTransport: '',\r\n    dateDepartMin: null,\r\n    dateDepartMax: null,\r\n    poids: '',\r\n    volume: '',\r\n    isUrgent: false,\r\n    ...initialFilters\r\n  });\r\n\r\n  // Parse search params from URL on component mount\r\n  useEffect(() => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const urlFilters = {};\r\n\r\n    // Extract search parameters\r\n    if (searchParams.has('villeDepart')) urlFilters.villeDepart = searchParams.get('villeDepart');\r\n    if (searchParams.has('villeArrivee')) urlFilters.villeArrivee = searchParams.get('villeArrivee');\r\n    if (searchParams.has('typeTransport')) urlFilters.typeTransport = searchParams.get('typeTransport');\r\n    if (searchParams.has('dateDepartMin')) urlFilters.dateDepartMin = new Date(searchParams.get('dateDepartMin'));\r\n    if (searchParams.has('dateDepartMax')) urlFilters.dateDepartMax = new Date(searchParams.get('dateDepartMax'));\r\n    if (searchParams.has('poids')) urlFilters.poids = searchParams.get('poids');\r\n    if (searchParams.has('volume')) urlFilters.volume = searchParams.get('volume');\r\n    if (searchParams.has('isUrgent')) urlFilters.isUrgent = searchParams.get('isUrgent') === 'true';\r\n\r\n    // Show filter section if any advanced filter is applied\r\n    if (\r\n      Object.keys(urlFilters).some(key => \r\n        !['villeDepart', 'villeArrivee', 'typeTransport'].includes(key) && \r\n        urlFilters[key] !== null && \r\n        urlFilters[key] !== ''\r\n      )\r\n    ) {\r\n      setShowFilters(true);\r\n    }\r\n\r\n    // Update filters state with URL parameters\r\n    if (Object.keys(urlFilters).length > 0) {\r\n      setFilters(prev => ({ ...prev, ...urlFilters }));\r\n    }\r\n  }, [location.search]);\r\n\r\n  // Handle input change\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFilters({\r\n      ...filters,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    });\r\n  };\r\n\r\n  // Handle date change\r\n  const handleDateChange = (date, field) => {\r\n    setFilters({\r\n      ...filters,\r\n      [field]: date\r\n    });\r\n  };\r\n\r\n  // Toggle advanced filters visibility\r\n  const toggleFilters = () => {\r\n    setShowFilters(!showFilters);\r\n  };\r\n\r\n  // Clear filters\r\n  const clearFilters = () => {\r\n    setFilters({\r\n      villeDepart: '',\r\n      villeArrivee: '',\r\n      typeTransport: '',\r\n      dateDepartMin: null,\r\n      dateDepartMax: null,\r\n      poids: '',\r\n      volume: '',\r\n      isUrgent: false\r\n    });\r\n    \r\n    // Also update URL\r\n    navigate('/annonces');\r\n    \r\n    // Call the search function with empty filters\r\n    if (onSearch) {\r\n      onSearch({});\r\n    }\r\n  };\r\n\r\n  // Submit search\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Build search query\r\n    const searchParams = new URLSearchParams();\r\n    \r\n    // Add only non-empty parameters\r\n    if (filters.villeDepart) searchParams.append('villeDepart', filters.villeDepart);\r\n    if (filters.villeArrivee) searchParams.append('villeArrivee', filters.villeArrivee);\r\n    if (filters.typeTransport) searchParams.append('typeTransport', filters.typeTransport);\r\n    if (filters.dateDepartMin) searchParams.append('dateDepartMin', filters.dateDepartMin.toISOString());\r\n    if (filters.dateDepartMax) searchParams.append('dateDepartMax', filters.dateDepartMax.toISOString());\r\n    if (filters.poids) searchParams.append('poids', filters.poids);\r\n    if (filters.volume) searchParams.append('volume', filters.volume);\r\n    if (filters.isUrgent) searchParams.append('isUrgent', filters.isUrgent);\r\n    \r\n    // Update URL with search params\r\n    navigate({\r\n      pathname: '/annonces',\r\n      search: searchParams.toString()\r\n    });\r\n    \r\n    // Call the search function if provided\r\n    if (onSearch) {\r\n      onSearch(filters);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\r\n      <div className=\"p-4\">\r\n        <form onSubmit={handleSubmit}>\r\n          {/* Basic Search */}\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            <div className=\"flex-1 relative\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <MapPinIcon className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                name=\"villeDepart\"\r\n                value={filters.villeDepart}\r\n                onChange={handleChange}\r\n                placeholder=\"Ville de départ\"\r\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex-1 relative\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <MapPinIcon className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                name=\"villeArrivee\"\r\n                value={filters.villeArrivee}\r\n                onChange={handleChange}\r\n                placeholder=\"Ville d'arrivée\"\r\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex-1 relative\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <TruckIcon className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <select\r\n                name=\"typeTransport\"\r\n                value={filters.typeTransport}\r\n                onChange={handleChange}\r\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n              >\r\n                <option value=\"\">Type de transport</option>\r\n                <option value=\"colis\">Colis</option>\r\n                <option value=\"meuble\">Meuble</option>\r\n                <option value=\"marchandise\">Marchandise</option>\r\n                <option value=\"palette\">Palette</option>\r\n                <option value=\"demenagement\">Déménagement</option>\r\n                <option value=\"vehicule\">Véhicule</option>\r\n                <option value=\"autre\">Autre</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"md:w-auto\">\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"primary\"\r\n                className=\"w-full md:w-auto\"\r\n              >\r\n                <MagnifyingGlassIcon className=\"h-5 w-5 mr-1\" />\r\n                Rechercher\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Advanced Filters Toggle */}\r\n          <div className=\"mt-4 flex justify-between items-center\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"text-teal-600 hover:text-teal-700 text-sm font-medium flex items-center\"\r\n              onClick={toggleFilters}\r\n            >\r\n              <AdjustmentsHorizontalIcon className=\"h-5 w-5 mr-1\" />\r\n              {showFilters ? 'Masquer les filtres avancés' : 'Afficher les filtres avancés'}\r\n            </button>\r\n            \r\n            {(filters.dateDepartMin || filters.dateDepartMax || filters.poids || filters.volume || filters.isUrgent) && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"text-gray-500 hover:text-gray-700 text-sm font-medium\"\r\n                onClick={clearFilters}\r\n              >\r\n                <XMarkIcon className=\"h-5 w-5 mr-1 inline-block\" />\r\n                Effacer les filtres\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Advanced Filters */}\r\n          {showFilters && (\r\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-md grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Date de départ (entre)\r\n                </label>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <div className=\"relative flex-1\">\r\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                      <CalendarIcon className=\"h-5 w-5 text-gray-400\" />\r\n                    </div>\r\n                    <DatePicker\r\n                      selected={filters.dateDepartMin}\r\n                      onChange={(date) => handleDateChange(date, 'dateDepartMin')}\r\n                      className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n                      placeholderText=\"Date min\"\r\n                      dateFormat=\"dd/MM/yyyy\"\r\n                      isClearable\r\n                    />\r\n                  </div>\r\n                  <span className=\"text-gray-500\">et</span>\r\n                  <div className=\"relative flex-1\">\r\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                      <CalendarIcon className=\"h-5 w-5 text-gray-400\" />\r\n                    </div>\r\n                    <DatePicker\r\n                      selected={filters.dateDepartMax}\r\n                      onChange={(date) => handleDateChange(date, 'dateDepartMax')}\r\n                      className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n                      placeholderText=\"Date max\"\r\n                      dateFormat=\"dd/MM/yyyy\"\r\n                      isClearable\r\n                      minDate={filters.dateDepartMin || null}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label htmlFor=\"poids\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Poids max (kg)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"poids\"\r\n                    name=\"poids\"\r\n                    value={filters.poids}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Ex: 100\"\r\n                    min=\"0\"\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label htmlFor=\"volume\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Volume max (m³)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"volume\"\r\n                    name=\"volume\"\r\n                    value={filters.volume}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Ex: 2\"\r\n                    min=\"0\"\r\n                    step=\"0.1\"\r\n                    className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"md:col-span-2\">\r\n                <div className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"isUrgent\"\r\n                    name=\"isUrgent\"\r\n                    checked={filters.isUrgent}\r\n                    onChange={handleChange}\r\n                    className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\r\n                  />\r\n                  <label htmlFor=\"isUrgent\" className=\"ml-2 block text-sm text-gray-700\">\r\n                    Urgences uniquement\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdvancedSearchComponent;","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  TruckIcon, \n  MapPinIcon, \n  CalendarIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ExclamationCircleIcon,\n  PlusIcon,\n  ArrowsUpDownIcon,\n} from '@heroicons/react/24/outline';\nimport { formatDate } from '../../utils/dateUtils';\nimport { TYPE_TRANSPORT_LABELS, STATUT_ANNONCE_COLORS } from '../../utils/constants';\nimport Button from '../../components/ui/Button';\nimport AdvancedSearchComponent from '../../components/search/AdvancedSearchComponent';\nimport apiClient from '../../api/client';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst AnnonceListPage = () => {\n  const [annonces, setAnnonces] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [totalAnnonces, setTotalAnnonces] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [sortBy, setSortBy] = useState('date_desc');\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { isAuthenticated, user } = useAuth();\n  \n  // Extraire les param�tres de recherche depuis l'URL\n  const searchParams = new URLSearchParams(location.search);\n  const initialFilters = {\n    villeDepart: searchParams.get('villeDepart') || '',\n    villeArrivee: searchParams.get('villeArrivee') || '',\n    typeTransport: searchParams.get('typeTransport') || '',\n    dateDepartMin: searchParams.get('dateDepartMin') ? new Date(searchParams.get('dateDepartMin')) : null,\n    dateDepartMax: searchParams.get('dateDepartMax') ? new Date(searchParams.get('dateDepartMax')) : null,\n    poids: searchParams.get('poids') || '',\n    volume: searchParams.get('volume') || '',\n    isUrgent: searchParams.get('isUrgent') === 'true',\n  };\n\n  // Charger les annonces\n  const fetchAnnonces = async (filters = {}, page = 1, sort = sortBy) => {\n    try {\n      setLoading(true);\n      \n      // Construire les param�tres de requ�te\n      const params = {\n        page,\n        limit: 10,\n        sort,\n        ...filters\n      };\n      \n      // Filtrer les param�tres vides\n      Object.keys(params).forEach(key => {\n        if (params[key] === null || params[key] === '') {\n          delete params[key];\n        }\n        \n        // Convertir les dates en ISO string\n        if (key === 'dateDepartMin' && params[key]) {\n          params[key] = params[key].toISOString();\n        }\n        if (key === 'dateDepartMax' && params[key]) {\n          params[key] = params[key].toISOString();\n        }\n      });\n      \n      const response = await apiClient.get('/annonces', { params });\n      \n      setAnnonces(response.data.data);\n      setTotalAnnonces(response.data.totalResults);\n      setTotalPages(response.data.totalPages);\n      setCurrentPage(response.data.currentPage);\n      setError(null);\n    } catch (err) {\n      console.error('Erreur lors du chargement des annonces:', err);\n      setError('Erreur lors du chargement des annonces. Veuillez r�essayer.');\n      toast.error('Erreur lors du chargement des annonces');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Effet pour charger les annonces lorsque les param�tres de recherche changent\n  useEffect(() => {\n    fetchAnnonces(initialFilters);\n  }, [location.search]);\n\n  // G�rer le changement de page\n  const handlePageChange = (newPage) => {\n    if (newPage >= 1 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n      fetchAnnonces(initialFilters, newPage, sortBy);\n      \n      // Scroll vers le haut de la page\n      window.scrollTo(0, 0);\n    }\n  };\n\n  // G�rer le changement de tri\n  const handleSortChange = (e) => {\n    const newSortBy = e.target.value;\n    setSortBy(newSortBy);\n    fetchAnnonces(initialFilters, currentPage, newSortBy);\n  };\n\n  // G�rer la recherche\n  const handleSearch = (filters) => {\n    fetchAnnonces(filters, 1, sortBy);\n  };\n\n  // Format d'affichage de la date\n  const displayDate = (date) => {\n    return formatDate(date, 'dd MMMM yyyy');\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <h1 className=\"text-3xl font-extrabold text-gray-900 mb-6\">Annonces de transport</h1>\n      \n      {/* Composant de recherche avanc�e */}\n      <div className=\"mb-8\">\n        <AdvancedSearchComponent \n          onSearch={handleSearch} \n          initialFilters={initialFilters}\n        />\n      </div>\n      \n      {/* Options de tri et informations de r�sultats */}\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6\">\n        <div className=\"mb-4 sm:mb-0\">\n          <p className=\"text-sm text-gray-700\">\n            {totalAnnonces > 0 \n              ? `${totalAnnonces} annonce${totalAnnonces > 1 ? 's' : ''} trouv�e${totalAnnonces > 1 ? 's' : ''}`\n              : 'Aucune annonce trouv�e'}\n          </p>\n        </div>\n        <div className=\"flex items-center\">\n          <label htmlFor=\"sortBy\" className=\"mr-2 text-sm text-gray-700\">Trier par:</label>\n          <select\n            id=\"sortBy\"\n            name=\"sortBy\"\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm\"\n            value={sortBy}\n            onChange={handleSortChange}\n          >\n            <option value=\"date_desc\">Date (plus r�cente)</option>\n            <option value=\"date_asc\">Date (plus ancienne)</option>\n            <option value=\"depart_asc\">Date de d�part (plus proche)</option>\n            <option value=\"prix_asc\">Prix max (croissant)</option>\n            <option value=\"prix_desc\">Prix max (d�croissant)</option>\n          </select>\n        </div>\n      </div>\n      \n      {/* Bouton de cr�ation d'annonce */}\n      {isAuthenticated && user?.role === 'client' && (\n        <div className=\"mb-6\">\n          <Button \n            to=\"/dashboard/annonces/create\" \n            variant=\"primary\"\n          >\n            <PlusIcon className=\"h-5 w-5 mr-2\" />\n            Cr�er une nouvelle annonce\n          </Button>\n        </div>\n      )}\n      \n      {/* Liste des annonces */}\n      {loading && annonces.length === 0 ? (\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">{error}</p>\n              <Button \n                variant=\"outline\" \n                size=\"sm\" \n                className=\"mt-2\" \n                onClick={() => fetchAnnonces(initialFilters)}\n              >\n                R�essayer\n              </Button>\n            </div>\n          </div>\n        </div>\n      ) : annonces.length === 0 ? (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-md p-6 text-center\">\n          <TruckIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900\">Aucune annonce disponible</h3>\n          <p className=\"mt-2 text-gray-500\">\n            Aucune annonce ne correspond � vos crit�res de recherche.\n          </p>\n          <div className=\"mt-4\">\n            <Button \n              variant=\"outline\" \n              onClick={() => {\n                navigate('/annonces');\n                fetchAnnonces({});\n              }}\n            >\n              Effacer les filtres\n            </Button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n          <ul className=\"divide-y divide-gray-200\">\n            {annonces.map((annonce) => (\n              <li key={annonce._id}>\n                <Link to={`/annonces/${annonce._id}`} className=\"block hover:bg-gray-50\">\n                  <div className=\"px-4 py-4 sm:px-6\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-teal-600 truncate\">\n                          {annonce.titre}\n                        </p>\n                        <p className=\"flex items-center mt-2 text-sm text-gray-500\">\n                          <MapPinIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                          <span className=\"truncate\">\n                            {annonce.villeDepart} ? {annonce.villeArrivee}\n                          </span>\n                        </p>\n                      </div>\n                      <div className=\"ml-4 flex flex-col flex-shrink-0 items-end space-y-1\">\n                        <p className=\"text-sm text-gray-900\">\n                          {annonce.prixMax ? `${annonce.prixMax}� max` : 'Prix � d�finir'}\n                        </p>\n                        <p className=\"flex-shrink-0\">\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${STATUT_ANNONCE_COLORS[annonce.statut]}`}>\n                            {annonce.statut === 'disponible' ? 'Disponible' : \n                             annonce.statut === 'en_attente' ? 'En attente' : \n                             annonce.statut === 'en_cours' ? 'En cours' : \n                             annonce.statut === 'termine' ? 'Termin�' : 'Annul�'}\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"mt-4 sm:flex sm:justify-between\">\n                      <div className=\"sm:flex\">\n                        <p className=\"flex items-center text-sm text-gray-500\">\n                          <TruckIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                          {TYPE_TRANSPORT_LABELS[annonce.typeTransport] || annonce.typeTransport}\n                        </p>\n                        <p className=\"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6\">\n                          <CalendarIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                          {displayDate(annonce.dateDepart)}\n                        </p>\n                      </div>\n                      <div className=\"mt-2 flex items-center text-sm text-gray-500 sm:mt-0\">\n                        {annonce.isUrgent && (\n                          <span className=\"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full\">\n                            Urgent\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n      \n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-4 rounded-md shadow\">\n          <div className=\"flex flex-1 justify-between sm:hidden\">\n            <Button\n              variant=\"outline\"\n              onClick={() => handlePageChange(currentPage - 1)}\n              disabled={currentPage === 1}\n            >\n              Pr�c�dent\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => handlePageChange(currentPage + 1)}\n              disabled={currentPage === totalPages}\n            >\n              Suivant\n            </Button>\n          </div>\n          <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-700\">\n                Affichage de la page <span className=\"font-medium\">{currentPage}</span> sur <span className=\"font-medium\">{totalPages}</span>\n              </p>\n            </div>\n            <div>\n              <nav className=\"isolate inline-flex -space-x-px rounded-md shadow-sm\" aria-label=\"Pagination\">\n                <button\n                  onClick={() => handlePageChange(currentPage - 1)}\n                  disabled={currentPage === 1}\n                  className=\"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <span className=\"sr-only\">Pr�c�dent</span>\n                  <ChevronLeftIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n                \n                {/* Pages numbers */}\n                {Array.from({ length: totalPages }).map((_, index) => {\n                  const pageNumber = index + 1;\n                  const isCurrentPage = pageNumber === currentPage;\n                  \n                  // Afficher uniquement les pages proches de la page actuelle\n                  if (\n                    pageNumber === 1 ||\n                    pageNumber === totalPages ||\n                    (pageNumber >= currentPage - 1 && pageNumber <= currentPage + 1)\n                  ) {\n                    return (\n                      <button\n                        key={pageNumber}\n                        onClick={() => handlePageChange(pageNumber)}\n                        className={`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${\n                          isCurrentPage\n                            ? 'bg-teal-600 text-white'\n                            : 'text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50'\n                        } focus:z-20 focus:outline-offset-0`}\n                      >\n                        {pageNumber}\n                      </button>\n                    );\n                  }\n                  \n                  // Afficher des points de suspension\n                  if (\n                    (pageNumber === 2 && currentPage > 3) ||\n                    (pageNumber === totalPages - 1 && currentPage < totalPages - 2)\n                  ) {\n                    return (\n                      <span\n                        key={pageNumber}\n                        className=\"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300\"\n                      >\n                        ...\n                      </span>\n                    );\n                  }\n                  \n                  return null;\n                })}\n                \n                <button\n                  onClick={() => handlePageChange(currentPage + 1)}\n                  disabled={currentPage === totalPages}\n                  className=\"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <span className=\"sr-only\">Suivant</span>\n                  <ChevronRightIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n              </nav>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AnnonceListPage;","import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  MapPinIcon, \n  CalendarIcon, \n  TruckIcon,\n  UserIcon,\n  ScaleIcon,\n  CubeIcon,\n  CurrencyEuroIcon,\n  ClockIcon,\n  ChatBubbleLeftRightIcon,\n  ArrowLeftIcon,\n  ExclamationCircleIcon,\n  ShieldCheckIcon\n} from '@heroicons/react/24/outline';\nimport { StarIcon } from '@heroicons/react/24/solid';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\n\nimport Button from '../../components/ui/Button';\nimport { useAuth } from '../../hooks/useAuth';\nimport apiClient from '../../api/client';\nimport { TYPE_TRANSPORT_LABELS, STATUT_ANNONCE_COLORS } from '../../utils/constants';\n\nconst AnnonceDetailPage = () => {\n  const { id } = useParams();\n  const { isAuthenticated, user } = useAuth();\n  const navigate = useNavigate();\n  const [annonce, setAnnonce] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Etat pour le formulaire de message\n  const [message, setMessage] = useState('');\n  const [isSendingMessage, setIsSendingMessage] = useState(false);\n  \n  // Etats pour le formulaire de devis (transporteurs uniquement)\n  const [showDevisForm, setShowDevisForm] = useState(false);\n  const [devisData, setDevisData] = useState({\n    montant: '',\n    message: '',\n    delaiLivraison: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000) // par d�faut : dans 7 jours\n  });\n  const [isSendingDevis, setIsSendingDevis] = useState(false);\n\n  // Chargement des donn�es de l'annonce\n  useEffect(() => {\n    const fetchAnnonce = async () => {\n      try {\n        setLoading(true);\n        const response = await apiClient.get(`/annonces/${id}`);\n        setAnnonce(response.data.data);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement de l\\'annonce:', err);\n        setError('Erreur lors du chargement de l\\'annonce. Veuillez r�essayer.');\n        toast.error('Erreur lors du chargement de l\\'annonce');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAnnonce();\n  }, [id]);\n\n  // G�rer l'envoi d'un message\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    \n    if (!isAuthenticated) {\n      toast.error('Vous devez �tre connect� pour envoyer un message');\n      navigate('/login', { state: { from: `/annonces/${id}` } });\n      return;\n    }\n    \n    if (!message.trim()) {\n      toast.error('Veuillez entrer un message');\n      return;\n    }\n    \n    try {\n      setIsSendingMessage(true);\n      \n      await apiClient.post('/messages', {\n        contenu: message,\n        destinataire: annonce.utilisateur._id,\n        annonce: annonce._id\n      });\n      \n      toast.success('Message envoy� avec succ�s');\n      setMessage('');\n      \n      // Rediriger vers la page de conversation\n      navigate(`/dashboard/messages/${annonce._id}_${annonce.utilisateur._id}`);\n    } catch (err) {\n      console.error('Erreur lors de l\\'envoi du message:', err);\n      toast.error('Erreur lors de l\\'envoi du message');\n    } finally {\n      setIsSendingMessage(false);\n    }\n  };\n\n  // G�rer l'envoi d'un devis (pour les transporteurs)\n  const handleSendDevis = async (e) => {\n    e.preventDefault();\n    \n    if (!isAuthenticated || user.role !== 'transporteur') {\n      toast.error('Vous devez �tre connect� en tant que transporteur pour envoyer un devis');\n      return;\n    }\n    \n    if (!devisData.montant || !devisData.message || !devisData.delaiLivraison) {\n      toast.error('Veuillez remplir tous les champs du devis');\n      return;\n    }\n    \n    try {\n      setIsSendingDevis(true);\n      \n      await apiClient.post('/devis', {\n        annonce: annonce._id,\n        montant: parseFloat(devisData.montant),\n        message: devisData.message,\n        delaiLivraison: devisData.delaiLivraison\n      });\n      \n      toast.success('Devis envoy� avec succ�s');\n      setShowDevisForm(false);\n      setDevisData({\n        montant: '',\n        message: '',\n        delaiLivraison: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)\n      });\n      \n      // Rediriger vers la page des devis\n      navigate('/dashboard/devis');\n    } catch (err) {\n      console.error('Erreur lors de l\\'envoi du devis:', err);\n      toast.error(err.response?.data?.message || 'Erreur lors de l\\'envoi du devis');\n    } finally {\n      setIsSendingDevis(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !annonce) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">{error || 'Annonce non trouv�e'}</p>\n              <Button \n                to=\"/annonces\"\n                variant=\"outline\" \n                size=\"sm\" \n                className=\"mt-2\"\n              >\n                Retour aux annonces\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Formater la date\n  const formatDate = (date) => {\n    return format(new Date(date), 'dd MMMM yyyy', { locale: fr });\n  };\n\n  // D�terminer si l'utilisateur connect� est le propri�taire de l'annonce\n  const isOwner = isAuthenticated && user.id === annonce.utilisateur._id;\n  \n  // D�terminer si l'utilisateur peut envoyer un devis (transporteur et pas propri�taire)\n  const canSendDevis = isAuthenticated && user.role === 'transporteur' && !isOwner && annonce.statut === 'disponible';\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Bouton de retour et statut */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6\">\n        <Button\n          to=\"/annonces\"\n          variant=\"outline\"\n          className=\"mb-4 sm:mb-0\"\n        >\n          <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n          Retour aux annonces\n        </Button>\n        \n        <div className=\"flex items-center\">\n          <span className={`px-3 py-1 text-sm font-medium rounded-full ${STATUT_ANNONCE_COLORS[annonce.statut]}`}>\n            {annonce.statut === 'disponible' ? 'Disponible' : \n             annonce.statut === 'en_attente' ? 'En attente' : \n             annonce.statut === 'en_cours' ? 'En cours' : \n             annonce.statut === 'termine' ? 'Termin�' : 'Annul�'}\n          </span>\n          \n          {annonce.isUrgent && (\n            <span className=\"ml-2 px-3 py-1 text-sm font-medium bg-red-100 text-red-800 rounded-full\">\n              Urgent\n            </span>\n          )}\n        </div>\n      </div>\n      \n      {/* Bandeau d'information pour le propri�taire */}\n      {isOwner && (\n        <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <InformationCircleIcon className=\"h-5 w-5 text-blue-400\" aria-hidden=\"true\" />\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-blue-700\">\n                Vous �tes le propri�taire de cette annonce. \n                <Link \n                  to={`/dashboard/annonces/${annonce._id}`} \n                  className=\"font-medium text-blue-700 underline ml-1\"\n                >\n                  G�rer cette annonce\n                </Link>\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* D�tails de l'annonce */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\n            {/* Titre et informations principales */}\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">{annonce.titre}</h1>\n              <div className=\"flex flex-col sm:flex-row sm:items-center text-sm text-gray-500 mt-2\">\n                <div className=\"flex items-center mr-6 mb-2 sm:mb-0\">\n                  <TruckIcon className=\"h-5 w-5 text-gray-400 mr-1\" />\n                  <span>{TYPE_TRANSPORT_LABELS[annonce.typeTransport] || annonce.typeTransport}</span>\n                </div>\n                <div className=\"flex items-center mr-6 mb-2 sm:mb-0\">\n                  <CalendarIcon className=\"h-5 w-5 text-gray-400 mr-1\" />\n                  <span>{formatDate(annonce.dateDepart)}</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <MapPinIcon className=\"h-5 w-5 text-gray-400 mr-1\" />\n                  <span>{annonce.villeDepart} ? {annonce.villeArrivee}</span>\n                </div>\n              </div>\n            </div>\n            \n            {/* Description */}\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-3\">Description</h2>\n              <p className=\"text-gray-700 whitespace-pre-line\">{annonce.description}</p>\n            </div>\n            \n            {/* Photos */}\n            {annonce.images && annonce.images.length > 0 && (\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-medium text-gray-900 mb-3\">Photos</h2>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                  {annonce.images.map((image, index) => (\n                    <div \n                      key={index} \n                      className=\"relative h-40 bg-gray-100 rounded-lg overflow-hidden shadow-sm\"\n                    >\n                      <img \n                        src={image} \n                        alt={`Photo ${index + 1}`} \n                        className=\"absolute inset-0 h-full w-full object-cover\"\n                      />\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n            \n            {/* D�tails du transport */}\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-3\">D�tails du transport</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-500\">Adresse de d�part</h3>\n                  <p className=\"mt-1 text-gray-900 whitespace-pre-line\">{annonce.adresseDepart}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-500\">Adresse d'arriv�e</h3>\n                  <p className=\"mt-1 text-gray-900 whitespace-pre-line\">{annonce.adresseArrivee}</p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Caract�ristiques */}\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-3\">Caract�ristiques</h2>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n                {annonce.poids && (\n                  <div className=\"flex items-center\">\n                    <ScaleIcon className=\"h-5 w-5 text-gray-400 mr-2\" />\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">Poids</h3>\n                      <p className=\"text-gray-900\">{annonce.poids} kg</p>\n                    </div>\n                  </div>\n                )}\n                \n                {annonce.volume && (\n                  <div className=\"flex items-center\">\n                    <CubeIcon className=\"h-5 w-5 text-gray-400 mr-2\" />\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">Volume</h3>\n                      <p className=\"text-gray-900\">{annonce.volume} m�</p>\n                    </div>\n                  </div>\n                )}\n                \n                {(annonce.longueur || annonce.largeur || annonce.hauteur) && (\n                  <div className=\"flex items-center\">\n                    <div className=\"h-5 w-5 flex items-center justify-center text-gray-400 mr-2\">\n                      <span className=\"text-sm font-semibold\">3D</span>\n                    </div>\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">Dimensions</h3>\n                      <p className=\"text-gray-900\">\n                        {annonce.longueur ? `L: ${annonce.longueur} cm` : ''} \n                        {annonce.largeur ? ` l: ${annonce.largeur} cm` : ''} \n                        {annonce.hauteur ? ` H: ${annonce.hauteur} cm` : ''}\n                      </p>\n                    </div>\n                  </div>\n                )}\n                \n                {annonce.prixMax && (\n                  <div className=\"flex items-center\">\n                    <CurrencyEuroIcon className=\"h-5 w-5 text-gray-400 mr-2\" />\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500\">Prix maximum</h3>\n                      <p className=\"text-gray-900\">{annonce.prixMax} �</p>\n                    </div>\n                  </div>\n                )}\n                \n                <div className=\"flex items-center\">\n                  <ClockIcon className=\"h-5 w-5 text-gray-400 mr-2\" />\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-500\">Date de cr�ation</h3>\n                    <p className=\"text-gray-900\">{formatDate(annonce.createdAt)}</p>\n                  </div>\n                </div>\n              </div>\n              \n              {annonce.instructions && (\n                <div className=\"mt-4\">\n                  <h3 className=\"text-sm font-medium text-gray-500\">Instructions particuli�res</h3>\n                  <p className=\"mt-1 text-gray-900 whitespace-pre-line\">{annonce.instructions}</p>\n                </div>\n              )}\n            </div>\n            \n            {/* Formulaire de devis (pour les transporteurs) */}\n            {canSendDevis && (\n              <div className=\"px-6 py-4\">\n                {!showDevisForm ? (\n                  <Button \n                    variant=\"primary\" \n                    onClick={() => setShowDevisForm(true)}\n                    fullWidth\n                  >\n                    <TruckIcon className=\"h-5 w-5 mr-2\" />\n                    Proposer un devis\n                  </Button>\n                ) : (\n                  <div className=\"bg-gray-50 p-4 rounded-lg\">\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Proposer un devis</h3>\n                    <form onSubmit={handleSendDevis} className=\"space-y-4\">\n                      <div>\n                        <label htmlFor=\"montant\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          Montant (�) <span className=\"text-red-500\">*</span>\n                        </label>\n                        <div className=\"relative\">\n                          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                            <CurrencyEuroIcon className=\"h-5 w-5 text-gray-400\" />\n                          </div>\n                          <input\n                            type=\"number\"\n                            name=\"montant\"\n                            id=\"montant\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            required\n                            className=\"block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md focus:ring-teal-500 focus:border-teal-500\"\n                            placeholder=\"0.00\"\n                            value={devisData.montant}\n                            onChange={(e) => setDevisData({ ...devisData, montant: e.target.value })}\n                          />\n                          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                            <span className=\"text-gray-500 sm:text-sm\">EUR</span>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <div>\n                        <label htmlFor=\"delaiLivraison\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          Date de livraison estim�e <span className=\"text-red-500\">*</span>\n                        </label>\n                        <div className=\"relative\">\n                          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                            <CalendarIcon className=\"h-5 w-5 text-gray-400\" />\n                          </div>\n                          <input\n                            type=\"date\"\n                            name=\"delaiLivraison\"\n                            id=\"delaiLivraison\"\n                            required\n                            className=\"block w-full pl-10 sm:text-sm border-gray-300 rounded-md focus:ring-teal-500 focus:border-teal-500\"\n                            value={devisData.delaiLivraison ? format(new Date(devisData.delaiLivraison), 'yyyy-MM-dd') : ''}\n                            onChange={(e) => setDevisData({ ...devisData, delaiLivraison: new Date(e.target.value) })}\n                            min={format(new Date(), 'yyyy-MM-dd')}\n                          />\n                        </div>\n                      </div>\n                      \n                      <div>\n                        <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          Message <span className=\"text-red-500\">*</span>\n                        </label>\n                        <textarea\n                          id=\"message\"\n                          name=\"message\"\n                          rows={4}\n                          required\n                          className=\"block w-full sm:text-sm border-gray-300 rounded-md focus:ring-teal-500 focus:border-teal-500\"\n                          placeholder=\"Pr�sentez votre offre en d�tail...\"\n                          value={devisData.message}\n                          onChange={(e) => setDevisData({ ...devisData, message: e.target.value })}\n                        ></textarea>\n                      </div>\n                      \n                      <div className=\"flex justify-end space-x-3\">\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          onClick={() => setShowDevisForm(false)}\n                          disabled={isSendingDevis}\n                        >\n                          Annuler\n                        </Button>\n                        <Button\n                          type=\"submit\"\n                          variant=\"primary\"\n                          isLoading={isSendingDevis}\n                          disabled={isSendingDevis}\n                        >\n                          Envoyer le devis\n                        </Button>\n                      </div>\n                    </form>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Sidebar - Informations sur l'utilisateur et contact */}\n        <div>\n          {/* Carte utilisateur */}\n          <div className=\"bg-white shadow-sm rounded-lg overflow-hidden mb-6\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900\">A propos du client</h2>\n            </div>\n            \n            <div className=\"px-6 py-4\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  {annonce.utilisateur.photo ? (\n                    <img \n                      src={annonce.utilisateur.photo} \n                      alt={`${annonce.utilisateur.prenom} ${annonce.utilisateur.nom}`}\n                      className=\"h-12 w-12 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"h-12 w-12 rounded-full bg-teal-500 flex items-center justify-center\">\n                      <UserIcon className=\"h-6 w-6 text-white\" />\n                    </div>\n                  )}\n                </div>\n                <div className=\"ml-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    {annonce.utilisateur.prenom} {annonce.utilisateur.nom}\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">\n                    Membre depuis {format(new Date(annonce.utilisateur.createdAt), 'MMMM yyyy', { locale: fr })}\n                  </p>\n                </div>\n              </div>\n              \n              {/* Note et avis */}\n              {annonce.utilisateur.noteMoyenne && (\n                <div className=\"mt-4 flex items-center\">\n                  <div className=\"flex\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <StarIcon\n                        key={star}\n                        className={`h-5 w-5 ${\n                          star <= Math.round(annonce.utilisateur.noteMoyenne)\n                            ? 'text-yellow-400'\n                            : 'text-gray-300'\n                        }`}\n                      />\n                    ))}\n                  </div>\n                  <p className=\"ml-2 text-sm text-gray-700\">\n                    {annonce.utilisateur.noteMoyenne.toFixed(1)} ({annonce.utilisateur.nbAvis || 0} avis)\n                  </p>\n                </div>\n              )}\n              \n              {/* Badges de confiance */}\n              <div className=\"mt-4\">\n                <div className=\"flex items-center text-sm text-gray-500\">\n                  <ShieldCheckIcon className=\"h-5 w-5 text-green-500 mr-1\" />\n                  <span>Identit� v�rifi�e</span>\n                </div>\n                <div className=\"flex items-center text-sm text-gray-500 mt-1\">\n                  <ShieldCheckIcon className=\"h-5 w-5 text-green-500 mr-1\" />\n                  <span>Email v�rifi�</span>\n                </div>\n                <div className=\"flex items-center text-sm text-gray-500 mt-1\">\n                  <ShieldCheckIcon className=\"h-5 w-5 text-green-500 mr-1\" />\n                  <span>T�l�phone v�rifi�</span>\n                </div>\n              </div>\n              \n              {/* Lien vers le profil */}\n              <div className=\"mt-6\">\n                <Button \n                  to={`/transporteurs/${annonce.utilisateur._id}`} \n                  variant=\"outline\"\n                  fullWidth\n                >\n                  Voir le profil\n                </Button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Formulaire de contact */}\n          {!isOwner && (\n            <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-medium text-gray-900\">Contacter le client</h2>\n              </div>\n              \n              <div className=\"px-6 py-4\">\n                {!isAuthenticated ? (\n                  <div className=\"text-center py-4\">\n                    <ChatBubbleLeftRightIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                    <p className=\"text-gray-500 mb-4\">\n                      Connectez-vous pour contacter le client\n                    </p>\n                    <Button \n                      to={`/login?redirect=/annonces/${annonce._id}`} \n                      variant=\"primary\"\n                    >\n                      Se connecter\n                    </Button>\n                  </div>\n                ) : (\n                  <form onSubmit={handleSendMessage} className=\"space-y-4\">\n                    <div>\n                      <label htmlFor=\"contact-message\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Message <span className=\"text-red-500\">*</span>\n                      </label>\n                      <textarea\n                        id=\"contact-message\"\n                        name=\"contact-message\"\n                        rows={4}\n                        required\n                        className=\"block w-full sm:text-sm border-gray-300 rounded-md focus:ring-teal-500 focus:border-teal-500\"\n                        placeholder=\"Posez vos questions au client...\"\n                        value={message}\n                        onChange={(e) => setMessage(e.target.value)}\n                      ></textarea>\n                    </div>\n                    \n                    <Button\n                      type=\"submit\"\n                      variant=\"primary\"\n                      fullWidth\n                      isLoading={isSendingMessage}\n                      disabled={isSendingMessage || !message.trim()}\n                    >\n                      <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-2\" />\n                      Envoyer un message\n                    </Button>\n                  </form>\n                )}\n                \n                {/* Note d'information */}\n                <div className=\"mt-4 p-3 bg-blue-50 rounded-md\">\n                  <p className=\"text-xs text-blue-700\">\n                    En contactant le client, vous acceptez de respecter les r�gles de notre plateforme. \n                    Les n�gociations et paiements doivent �tre effectu�s via Pro-Trans pour votre s�curit�.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AnnonceDetailPage;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  MagnifyingGlassIcon, \n  StarIcon, \n  TruckIcon,\n  MapPinIcon,\n  FunnelIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\nimport apiClient from '../../api/client';\nimport Button from '../../components/ui/Button';\n\nconst TransporteurListPage = () => {\n  const [transporteurs, setTransporteurs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Etat des filtres\n  const [filters, setFilters] = useState({\n    specialite: '',\n    localisation: '',\n    noteMin: '',\n    typeVehicule: ''\n  });\n\n  // Pagination\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Options pour les filtres\n  const specialites = [\n    'Colis', 'Meubles', 'D�m�nagement', 'Marchandises', 'V�hicules', 'Palette', 'International'\n  ];\n  \n  const typesVehicules = [\n    'Utilitaire', 'Camion', 'Camionnette', 'Poids lourd', 'Fourgon', 'Porte-voiture'\n  ];\n\n  // Chargement des transporteurs\n  useEffect(() => {\n    const fetchTransporteurs = async () => {\n      try {\n        setLoading(true);\n        \n        // Pr�parer les param�tres de requ�te\n        const params = {\n          page,\n          limit: 10,\n          search: searchTerm,\n          ...filters\n        };\n        \n        // Nettoyer les param�tres vides\n        Object.keys(params).forEach(key => \n          (params[key] === '' || params[key] === null) && delete params[key]\n        );\n        \n        const response = await apiClient.get('/users/transporteurs', { params });\n        setTransporteurs(response.data.data);\n        setTotalPages(response.data.pages || 1);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des transporteurs:', err);\n        setError('Impossible de charger la liste des transporteurs');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTransporteurs();\n  }, [page, searchTerm, filters]);\n\n  // Gestion du changement des filtres\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setPage(1); // R�initialiser la pagination lors d'un changement de filtre\n  };\n\n  // R�initialiser les filtres\n  const resetFilters = () => {\n    setFilters({\n      specialite: '',\n      localisation: '',\n      noteMin: '',\n      typeVehicule: ''\n    });\n    setSearchTerm('');\n    setPage(1);\n  };\n\n  // Gestion de la recherche\n  const handleSearch = (e) => {\n    e.preventDefault();\n    setPage(1);\n  };\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"text-center mb-10\">\n          <h1 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n            Trouvez un transporteur professionnel\n          </h1>\n          <p className=\"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4\">\n            Des centaines de transporteurs v�rifi�s pr�ts � livrer vos marchandises\n          </p>\n        </div>\n\n        {/* Recherche et filtres */}\n        <div className=\"bg-white shadow rounded-lg mb-8\">\n          <div className=\"p-4\">\n            <form onSubmit={handleSearch}>\n              <div className=\"flex flex-col md:flex-row gap-4\">\n                <div className=\"flex-1 relative\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\n                  </div>\n                  <input\n                    type=\"text\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    placeholder=\"Rechercher un transporteur...\"\n                    className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\n                  />\n                </div>\n                <div>\n                  <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                  >\n                    Rechercher\n                  </Button>\n                </div>\n                <div>\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => setShowFilters(!showFilters)}\n                  >\n                    <FunnelIcon className=\"h-5 w-5 mr-1\" />\n                    Filtres\n                  </Button>\n                </div>\n              </div>\n\n              {/* Filtres avanc�s */}\n              {showFilters && (\n                <div className=\"mt-4 p-4 bg-gray-50 rounded-md\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">Filtres avanc�s</h3>\n                    <button\n                      type=\"button\"\n                      onClick={resetFilters}\n                      className=\"text-sm text-teal-600 hover:text-teal-500 flex items-center\"\n                    >\n                      <XMarkIcon className=\"h-4 w-4 mr-1\" />\n                      R�initialiser\n                    </button>\n                  </div>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                    <div>\n                      <label htmlFor=\"specialite\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Sp�cialit�\n                      </label>\n                      <select\n                        id=\"specialite\"\n                        name=\"specialite\"\n                        value={filters.specialite}\n                        onChange={handleFilterChange}\n                        className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md\"\n                      >\n                        <option value=\"\">Toutes les sp�cialit�s</option>\n                        {specialites.map((specialite) => (\n                          <option key={specialite} value={specialite.toLowerCase()}>\n                            {specialite}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label htmlFor=\"localisation\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Localisation\n                      </label>\n                      <input\n                        type=\"text\"\n                        id=\"localisation\"\n                        name=\"localisation\"\n                        value={filters.localisation}\n                        onChange={handleFilterChange}\n                        placeholder=\"Ville ou d�partement\"\n                        className=\"block w-full pl-3 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500\"\n                      />\n                    </div>\n                    <div>\n                      <label htmlFor=\"noteMin\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Note minimum\n                      </label>\n                      <select\n                        id=\"noteMin\"\n                        name=\"noteMin\"\n                        value={filters.noteMin}\n                        onChange={handleFilterChange}\n                        className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md\"\n                      >\n                        <option value=\"\">Toutes les notes</option>\n                        <option value=\"3\">3 �toiles et plus</option>\n                        <option value=\"4\">4 �toiles et plus</option>\n                        <option value=\"4.5\">4.5 �toiles et plus</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label htmlFor=\"typeVehicule\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Type de v�hicule\n                      </label>\n                      <select\n                        id=\"typeVehicule\"\n                        name=\"typeVehicule\"\n                        value={filters.typeVehicule}\n                        onChange={handleFilterChange}\n                        className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md\"\n                      >\n                        <option value=\"\">Tous les v�hicules</option>\n                        {typesVehicules.map((type) => (\n                          <option key={type} value={type.toLowerCase()}>\n                            {type}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </form>\n          </div>\n        </div>\n\n        {/* Liste des transporteurs */}\n        {loading ? (\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n          </div>\n        ) : error ? (\n          <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <XMarkIcon className=\"h-5 w-5 text-red-400\" />\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-red-700\">{error}</p>\n              </div>\n            </div>\n          </div>\n        ) : transporteurs.length === 0 ? (\n          <div className=\"bg-white shadow rounded-lg p-6 text-center\">\n            <TruckIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Aucun transporteur trouv�</h3>\n            <p className=\"text-gray-500 mb-4\">\n              Aucun transporteur ne correspond � vos crit�res de recherche.\n            </p>\n            <Button onClick={resetFilters} variant=\"outline\">\n              R�initialiser les filtres\n            </Button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {transporteurs.map((transporteur) => (\n              <div key={transporteur._id} className=\"bg-white shadow rounded-lg overflow-hidden\">\n                <div className=\"px-6 py-4\">\n                  <div className=\"flex items-center mb-4\">\n                    <div className=\"h-16 w-16 rounded-full overflow-hidden bg-gray-200 flex-shrink-0\">\n                      {transporteur.photo ? (\n                        <img\n                          src={transporteur.photo}\n                          alt={`${transporteur.prenom} ${transporteur.nom}`}\n                          className=\"h-full w-full object-cover\"\n                        />\n                      ) : (\n                        <TruckIcon className=\"h-8 w-8 text-gray-400 m-4\" />\n                      )}\n                    </div>\n                    <div className=\"ml-4\">\n                      <h3 className=\"text-lg font-medium text-gray-900\">\n                        {transporteur.prenom} {transporteur.nom}\n                      </h3>\n                      <div className=\"flex items-center\">\n                        <div className=\"flex items-center\">\n                          {[...Array(5)].map((_, index) => (\n                            <StarIcon\n                              key={index}\n                              className={`h-4 w-4 ${\n                                (transporteur.rating || 0) > index\n                                  ? 'text-yellow-400'\n                                  : 'text-gray-300'\n                              }`}\n                            />\n                          ))}\n                        </div>\n                        <span className=\"ml-1 text-sm text-gray-500\">\n                          ({transporteur.nbAvis || 0} avis)\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-2 mb-4\">\n                    {transporteur.specialites && transporteur.specialites.length > 0 && (\n                      <div className=\"flex flex-wrap gap-2\">\n                        {transporteur.specialites.slice(0, 3).map((specialite, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800\"\n                          >\n                            {specialite}\n                          </span>\n                        ))}\n                        {transporteur.specialites.length > 3 && (\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                            +{transporteur.specialites.length - 3}\n                          </span>\n                        )}\n                      </div>\n                    )}\n                    \n                    {transporteur.adresse && transporteur.adresse.ville && (\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <MapPinIcon className=\"h-4 w-4 text-gray-400 mr-1\" />\n                        {transporteur.adresse.ville}, {transporteur.adresse.pays || 'France'}\n                      </div>\n                    )}\n                    \n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      <TruckIcon className=\"h-4 w-4 text-gray-400 mr-1\" />\n                      {transporteur.nbLivraisons || 0} livraisons effectu�es\n                    </div>\n                  </div>\n                  \n                  {transporteur.aboutMe && (\n                    <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">\n                      {transporteur.aboutMe}\n                    </p>\n                  )}\n                  \n                  <div className=\"mt-4\">\n                    <Button\n                      to={`/transporteurs/${transporteur._id}`}\n                      variant=\"outline\"\n                      fullWidth\n                    >\n                      Voir le profil\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Pagination */}\n        {!loading && !error && transporteurs.length > 0 && totalPages > 1 && (\n          <div className=\"flex justify-center mt-8\">\n            <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n              <button\n                onClick={() => setPage((prev) => Math.max(prev - 1, 1))}\n                disabled={page === 1}\n                className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\n                  page === 1\n                    ? 'text-gray-300 cursor-not-allowed'\n                    : 'text-gray-500 hover:bg-gray-50'\n                }`}\n              >\n                <span className=\"sr-only\">Pr�c�dent</span>\n                <svg\n                  className=\"h-5 w-5\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\"\n                    clipRule=\"evenodd\"\n                  />\n                </svg>\n              </button>\n              \n              {[...Array(totalPages)].map((_, index) => {\n                const pageNumber = index + 1;\n                // Afficher seulement certaines pages pour ne pas surcharger\n                if (\n                  pageNumber === 1 ||\n                  pageNumber === totalPages ||\n                  (pageNumber >= page - 1 && pageNumber <= page + 1)\n                ) {\n                  return (\n                    <button\n                      key={pageNumber}\n                      onClick={() => setPage(pageNumber)}\n                      className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                        page === pageNumber\n                          ? 'z-10 bg-teal-50 border-teal-500 text-teal-600'\n                          : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                      }`}\n                    >\n                      {pageNumber}\n                    </button>\n                  );\n                } else if (\n                  (pageNumber === 2 && page > 3) ||\n                  (pageNumber === totalPages - 1 && page < totalPages - 2)\n                ) {\n                  return (\n                    <span\n                      key={pageNumber}\n                      className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\"\n                    >\n                      ...\n                    </span>\n                  );\n                }\n                return null;\n              })}\n              \n              <button\n                onClick={() => setPage((prev) => Math.min(prev + 1, totalPages))}\n                disabled={page === totalPages}\n                className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\n                  page === totalPages\n                    ? 'text-gray-300 cursor-not-allowed'\n                    : 'text-gray-500 hover:bg-gray-50'\n                }`}\n              >\n                <span className=\"sr-only\">Suivant</span>\n                <svg\n                  className=\"h-5 w-5\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n                    clipRule=\"evenodd\"\n                  />\n                </svg>\n              </button>\n            </nav>\n          </div>\n        )}\n\n        {/* CTA pour devenir transporteur */}\n        <div className=\"mt-16 bg-teal-700 rounded-lg shadow-xl overflow-hidden\">\n          <div className=\"px-4 py-12 sm:px-6 lg:px-8 lg:py-16 flex flex-col md:flex-row md:items-center md:justify-between\">\n            <div className=\"max-w-2xl\">\n              <h2 className=\"text-2xl font-extrabold tracking-tight text-white sm:text-3xl\">\n                Vous �tes transporteur ?\n              </h2>\n              <p className=\"mt-3 text-lg text-teal-100\">\n                Rejoignez notre r�seau de transporteurs et d�veloppez votre activit� avec de nouveaux clients chaque jour.\n              </p>\n            </div>\n            <div className=\"mt-8 md:mt-0\">\n              <Button\n                to=\"/register?role=transporteur\"\n                variant=\"primary\"\n                size=\"lg\"\n                className=\"bg-white text-teal-700 hover:bg-gray-100\"\n              >\n                Devenir transporteur\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TransporteurListPage;","import React, { useState, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\nimport { \r\n  StarIcon,\r\n  UserCircleIcon,\r\n  ChevronUpIcon,\r\n  ChevronDownIcon\r\n} from '@heroicons/react/24/solid';\r\nimport { toast } from 'react-hot-toast';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport apiClient from '../../api/client';\r\nimport Button from '../ui/Button';\r\n\r\n// Component to display a rating with stars\r\nexport const StarRating = ({ rating, size = 'md' }) => {\r\n  // Define sizes for stars\r\n  const starSizes = {\r\n    sm: 'h-3 w-3',\r\n    md: 'h-5 w-5',\r\n    lg: 'h-6 w-6'\r\n  };\r\n  \r\n  const starSize = starSizes[size] || starSizes.md;\r\n  \r\n  // If rating is null or undefined\r\n  if (rating === null || rating === undefined) {\r\n    return (\r\n      <div className=\"flex items-center\">\r\n        {[...Array(5)].map((_, i) => (\r\n          <StarIcon key={i} className={`${starSize} text-gray-300`} />\r\n        ))}\r\n        <span className=\"ml-1 text-sm text-gray-500\">Non évalué</span>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Create arrays of filled and empty stars\r\n  const filledStars = Math.floor(rating);\r\n  const halfStar = rating % 1 >= 0.5;\r\n  const emptyStars = 5 - filledStars - (halfStar ? 1 : 0);\r\n  \r\n  return (\r\n    <div className=\"flex items-center\">\r\n      {/* Filled stars */}\r\n      {[...Array(filledStars)].map((_, i) => (\r\n        <StarIcon key={`filled-${i}`} className={`${starSize} text-yellow-400`} />\r\n      ))}\r\n      \r\n      {/* Half star */}\r\n      {halfStar && (\r\n        <div className=\"relative\">\r\n          <StarIcon className={`${starSize} text-gray-300`} />\r\n          <div className=\"absolute top-0 left-0 w-1/2 overflow-hidden\">\r\n            <StarIcon className={`${starSize} text-yellow-400`} />\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Empty stars */}\r\n      {[...Array(emptyStars)].map((_, i) => (\r\n        <StarIcon key={`empty-${i}`} className={`${starSize} text-gray-300`} />\r\n      ))}\r\n      \r\n      {/* Numeric rating */}\r\n      <span className=\"ml-1 text-sm text-gray-700\">{rating.toFixed(1)}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Component to submit a review\r\nexport const SubmitReviewForm = ({ destinataireId, annonceId, onReviewSubmitted }) => {\r\n  const [rating, setRating] = useState(0);\r\n  const [hoverRating, setHoverRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const { user } = useAuth();\r\n\r\n  // Handle rating selection\r\n  const handleSetRating = (value) => {\r\n    setRating(value);\r\n  };\r\n\r\n  // Handle mouse enter on star\r\n  const handleMouseEnter = (value) => {\r\n    setHoverRating(value);\r\n  };\r\n\r\n  // Handle mouse leave on star\r\n  const handleMouseLeave = () => {\r\n    setHoverRating(0);\r\n  };\r\n\r\n  // Handle comment change\r\n  const handleCommentChange = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (rating === 0) {\r\n      toast.error('Veuillez sélectionner une note');\r\n      return;\r\n    }\r\n    \r\n    if (comment.trim().length < 10) {\r\n      toast.error('Veuillez laisser un commentaire d\\'au moins 10 caractères');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setIsSubmitting(true);\r\n      \r\n      const response = await apiClient.post('/avis', {\r\n        note: rating,\r\n        commentaire: comment,\r\n        destinataireId,\r\n        annonceId\r\n      });\r\n      \r\n      toast.success('Avis envoyé avec succès');\r\n      \r\n      // Reset form\r\n      setRating(0);\r\n      setComment('');\r\n      \r\n      // Call callback function if provided\r\n      if (onReviewSubmitted) {\r\n        onReviewSubmitted(response.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error submitting review:', err);\r\n      toast.error(err.response?.data?.message || 'Erreur lors de l\\'envoi de l\\'avis');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm p-4 border border-gray-200\">\r\n      <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Laisser un avis</h3>\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Note\r\n          </label>\r\n          <div className=\"flex\">\r\n            {[1, 2, 3, 4, 5].map((value) => (\r\n              <button\r\n                key={value}\r\n                type=\"button\"\r\n                className=\"focus:outline-none p-1\"\r\n                onClick={() => handleSetRating(value)}\r\n                onMouseEnter={() => handleMouseEnter(value)}\r\n                onMouseLeave={handleMouseLeave}\r\n              >\r\n                <StarIcon \r\n                  className={`h-8 w-8 ${\r\n                    (hoverRating || rating) >= value \r\n                      ? 'text-yellow-400' \r\n                      : 'text-gray-300'\r\n                  }`} \r\n                />\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"comment\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Commentaire\r\n          </label>\r\n          <textarea\r\n            id=\"comment\"\r\n            name=\"comment\"\r\n            rows=\"4\"\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500\"\r\n            placeholder=\"Partagez votre expérience...\"\r\n            value={comment}\r\n            onChange={handleCommentChange}\r\n            required\r\n            minLength={10}\r\n          ></textarea>\r\n          <div className=\"mt-1 text-xs text-gray-500\">\r\n            Minimum 10 caractères\r\n          </div>\r\n        </div>\r\n        \r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"primary\"\r\n          isLoading={isSubmitting}\r\n          disabled={isSubmitting || rating === 0 || comment.trim().length < 10}\r\n          className=\"w-full sm:w-auto\"\r\n        >\r\n          Envoyer mon avis\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main component to display ratings and reviews\r\nconst RatingAndReviewsComponent = ({ userId, showSubmitForm = false, annonceId = null }) => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [sortOrder, setSortOrder] = useState('recent'); // 'recent', 'highest', 'lowest'\r\n  const [visibleReviews, setVisibleReviews] = useState(5);\r\n  const [userStats, setUserStats] = useState(null);\r\n  const { user } = useAuth();\r\n  \r\n  // Fetch user reviews\r\n  useEffect(() => {\r\n    const fetchReviews = async () => {\r\n      if (!userId) return;\r\n      \r\n      try {\r\n        setLoading(true);\r\n        const response = await apiClient.get(`/avis/utilisateur/${userId}`);\r\n        setReviews(response.data.data);\r\n        \r\n        // Calculate user stats\r\n        const totalReviews = response.data.data.length;\r\n        const totalRating = response.data.data.reduce((sum, review) => sum + review.note, 0);\r\n        const averageRating = totalReviews > 0 ? totalRating / totalReviews : 0;\r\n        \r\n        // Count reviews by rating\r\n        const ratingCounts = [0, 0, 0, 0, 0]; // For ratings 1 to 5\r\n        response.data.data.forEach(review => {\r\n          ratingCounts[review.note - 1]++;\r\n        });\r\n        \r\n        setUserStats({\r\n          totalReviews,\r\n          averageRating,\r\n          ratingCounts\r\n        });\r\n      } catch (err) {\r\n        console.error('Error fetching reviews:', err);\r\n        setError('Erreur lors du chargement des avis');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchReviews();\r\n  }, [userId]);\r\n  \r\n  // Handle sort change\r\n  const handleSortChange = (order) => {\r\n    setSortOrder(order);\r\n    \r\n    // Sort the reviews based on the selected order\r\n    const sortedReviews = [...reviews];\r\n    \r\n    if (order === 'recent') {\r\n      sortedReviews.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n    } else if (order === 'highest') {\r\n      sortedReviews.sort((a, b) => b.note - a.note);\r\n    } else if (order === 'lowest') {\r\n      sortedReviews.sort((a, b) => a.note - b.note);\r\n    }\r\n    \r\n    setReviews(sortedReviews);\r\n  };\r\n  \r\n  // Handle show more reviews\r\n  const handleShowMore = () => {\r\n    setVisibleReviews(prev => prev + 5);\r\n  };\r\n  \r\n  // Handle review submission\r\n  const handleReviewSubmitted = (newReview) => {\r\n    // Add the new review to the list and sort according to current order\r\n    setReviews(prev => {\r\n      const updatedReviews = [newReview, ...prev];\r\n      \r\n      if (sortOrder === 'recent') {\r\n        return updatedReviews.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n      } else if (sortOrder === 'highest') {\r\n        return updatedReviews.sort((a, b) => b.note - a.note);\r\n      } else if (sortOrder === 'lowest') {\r\n        return updatedReviews.sort((a, b) => a.note - b.note);\r\n      }\r\n      \r\n      return updatedReviews;\r\n    });\r\n    \r\n    // Update user stats\r\n    setUserStats(prev => {\r\n      if (!prev) return null;\r\n      \r\n      const newTotalReviews = prev.totalReviews + 1;\r\n      const newTotalRating = prev.totalReviews * prev.averageRating + newReview.note;\r\n      const newAverageRating = newTotalRating / newTotalReviews;\r\n      \r\n      const newRatingCounts = [...prev.ratingCounts];\r\n      newRatingCounts[newReview.note - 1]++;\r\n      \r\n      return {\r\n        totalReviews: newTotalReviews,\r\n        averageRating: newAverageRating,\r\n        ratingCounts: newRatingCounts\r\n      };\r\n    });\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-teal-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n        <strong className=\"font-bold\">Erreur!</strong>\r\n        <span className=\"block sm:inline\"> {error}</span>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Prepare reviews to display\r\n  const displayedReviews = reviews.slice(0, visibleReviews);\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Submit review form */}\r\n      {showSubmitForm && user && user.id !== userId && (\r\n        <SubmitReviewForm \r\n          destinataireId={userId} \r\n          annonceId={annonceId}\r\n          onReviewSubmitted={handleReviewSubmitted}\r\n        />\r\n      )}\r\n      \r\n      {/* User rating summary */}\r\n      {userStats && (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6 border border-gray-200\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\r\n            <div className=\"mb-4 md:mb-0\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">Note globale</h3>\r\n              <div className=\"flex items-center mt-1\">\r\n                <StarRating rating={userStats.averageRating} size=\"lg\" />\r\n                <span className=\"ml-2 text-sm text-gray-500\">\r\n                  ({userStats.totalReviews} avis)\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"space-y-2 flex-1 max-w-xs\">\r\n              {[5, 4, 3, 2, 1].map(rating => {\r\n                const count = userStats.ratingCounts[rating - 1];\r\n                const percentage = userStats.totalReviews > 0 \r\n                  ? (count / userStats.totalReviews) * 100 \r\n                  : 0;\r\n                \r\n                return (\r\n                  <div key={rating} className=\"flex items-center text-sm\">\r\n                    <div className=\"w-6 text-right mr-2\">{rating}</div>\r\n                    <StarIcon className=\"h-4 w-4 text-yellow-400 mr-2\" />\r\n                    <div className=\"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden\">\r\n                      <div \r\n                        className=\"h-full bg-yellow-400 rounded-full\" \r\n                        style={{ width: `${percentage}%` }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"w-8 text-right ml-2 text-xs text-gray-500\">{count}</div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Reviews list */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">Avis ({reviews.length})</h3>\r\n            \r\n            {/* Sort options */}\r\n            <div className=\"flex items-center\">\r\n              <span className=\"text-sm text-gray-500 mr-2\">Trier par:</span>\r\n              <select\r\n                className=\"text-sm border-gray-300 rounded-md shadow-sm focus:border-teal-500 focus:ring-teal-500\"\r\n                value={sortOrder}\r\n                onChange={e => handleSortChange(e.target.value)}\r\n              >\r\n                <option value=\"recent\">Plus récents</option>\r\n                <option value=\"highest\">Meilleures notes</option>\r\n                <option value=\"lowest\">Moins bonnes notes</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Reviews */}\r\n        {reviews.length === 0 ? (\r\n          <div className=\"px-6 py-8 text-center text-gray-500\">\r\n            Aucun avis pour le moment\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <ul className=\"divide-y divide-gray-200\">\r\n              {displayedReviews.map(review => (\r\n                <li key={review._id} className=\"px-6 py-4\">\r\n                  <div className=\"flex items-start\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      {review.auteur.photo ? (\r\n                        <img \r\n                          src={review.auteur.photo} \r\n                          alt={`${review.auteur.prenom} ${review.auteur.nom}`}\r\n                          className=\"h-10 w-10 rounded-full object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <UserCircleIcon className=\"h-10 w-10 text-gray-400\" />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"ml-3 flex-1\">\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div>\r\n                          <h4 className=\"text-sm font-medium text-gray-900\">\r\n                            {review.auteur.prenom} {review.auteur.nom}\r\n                          </h4>\r\n                          <div className=\"mt-1\">\r\n                            <StarRating rating={review.note} size=\"sm\" />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {format(new Date(review.createdAt), 'd MMM yyyy', { locale: fr })}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"mt-2 text-sm text-gray-600\">\r\n                        {review.commentaire}\r\n                      </div>\r\n                      {review.annonce && (\r\n                        <div className=\"mt-2 text-xs text-gray-500\">\r\n                          Transport: {review.annonce.titre}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            \r\n            {/* Show more button */}\r\n            {visibleReviews < reviews.length && (\r\n              <div className=\"px-6 py-4 border-t border-gray-200 text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"text-teal-600 hover:text-teal-700 font-medium\"\r\n                  onClick={handleShowMore}\r\n                >\r\n                  Afficher plus d'avis\r\n                </button>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RatingAndReviewsComponent;","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  UserIcon, \n  TruckIcon, \n  MapPinIcon, \n  CalendarIcon, \n  ChatBubbleLeftRightIcon \n} from '@heroicons/react/24/outline';\nimport apiClient from '../../api/client';\nimport Button from '../../components/ui/Button';\nimport RatingAndReviewsComponent from '../../components/reviews/RatingAndReviewsComponent';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst TransporteurDetailPage = () => {\n  const { id } = useParams();\n  const { isAuthenticated, user } = useAuth();\n  const [transporteur, setTransporteur] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [recentAnnonces, setRecentAnnonces] = useState([]);\n\n  useEffect(() => {\n    const fetchTransporteur = async () => {\n      try {\n        setLoading(true);\n        const response = await apiClient.get(`/users/profile/${id}`);\n        setTransporteur(response.data.data);\n        \n        // R�cup�rer les annonces r�centes o� ce transporteur a �t� choisi\n        if (response.data.data.recentDeliveries) {\n          setRecentAnnonces(response.data.data.recentDeliveries);\n        }\n        \n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement du profil transporteur:', err);\n        setError('Impossible de charger les informations du transporteur');\n        toast.error('Erreur lors du chargement du profil transporteur');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) {\n      fetchTransporteur();\n    }\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !transporteur) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-500\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">\n                {error || \"Ce transporteur n'existe pas ou a �t� supprim�.\"}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"mt-6 text-center\">\n          <Button\n            to=\"/transporteurs\"\n            variant=\"primary\"\n          >\n            Retour � la liste des transporteurs\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* En-t�te du transporteur */}\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg mb-8\">\n          <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n            <div className=\"flex items-center\">\n              <div className=\"h-20 w-20 rounded-full overflow-hidden bg-gray-200 flex-shrink-0\">\n                {transporteur.photo ? (\n                  <img\n                    src={transporteur.photo}\n                    alt={`${transporteur.prenom} ${transporteur.nom}`}\n                    className=\"h-full w-full object-cover\"\n                  />\n                ) : (\n                  <UserIcon className=\"h-12 w-12 text-gray-400 m-4\" />\n                )}\n              </div>\n              <div className=\"ml-6\">\n                <h1 className=\"text-2xl font-bold text-gray-900\">\n                  {transporteur.prenom} {transporteur.nom}\n                </h1>\n                <p className=\"text-sm text-gray-500\">Membre depuis {new Date(transporteur.createdAt).toLocaleDateString('fr-FR', { year: 'numeric', month: 'long' })}</p>\n              </div>\n            </div>\n            {isAuthenticated && user?.id !== id && (\n              <Button\n                to={`/messages/nouveau/${id}`}\n                variant=\"outline\"\n              >\n                <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-2\" />\n                Contacter\n              </Button>\n            )}\n          </div>\n          <div className=\"border-t border-gray-200 px-4 py-5 sm:px-6\">\n            <dl className=\"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2\">\n              <div className=\"sm:col-span-1\">\n                <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                  <TruckIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                  Type de transporteur\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900\">\n                  {transporteur.typeTransporteur || 'Ind�pendant'}\n                </dd>\n              </div>\n              <div className=\"sm:col-span-1\">\n                <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                  <MapPinIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                  Localisation\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900\">\n                  {transporteur.adresse?.ville || 'Non sp�cifi�'}, {transporteur.adresse?.pays || 'France'}\n                </dd>\n              </div>\n              <div className=\"sm:col-span-1\">\n                <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                  <CalendarIcon className=\"h-5 w-5 mr-1 text-gray-400\" />\n                  Disponibilit�\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900\">\n                  {transporteur.disponibilite || 'Flexible'}\n                </dd>\n              </div>\n              <div className=\"sm:col-span-1\">\n                <dt className=\"text-sm font-medium text-gray-500\">Transports effectu�s</dt>\n                <dd className=\"mt-1 text-sm text-gray-900\">\n                  {transporteur.nbLivraisons || '0'}\n                </dd>\n              </div>\n              {transporteur.specialites && transporteur.specialites.length > 0 && (\n                <div className=\"sm:col-span-2\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Sp�cialit�s</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">\n                    <div className=\"flex flex-wrap gap-2\">\n                      {transporteur.specialites.map((specialite, index) => (\n                        <span \n                          key={index}\n                          className=\"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-teal-100 text-teal-800\"\n                        >\n                          {specialite}\n                        </span>\n                      ))}\n                    </div>\n                  </dd>\n                </div>\n              )}\n              {transporteur.aboutMe && (\n                <div className=\"sm:col-span-2\">\n                  <dt className=\"text-sm font-medium text-gray-500\">A propos</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">\n                    {transporteur.aboutMe}\n                  </dd>\n                </div>\n              )}\n            </dl>\n          </div>\n        </div>\n\n        {/* Types de v�hicules */}\n        {transporteur.vehicules && transporteur.vehicules.length > 0 && (\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg mb-8\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h2 className=\"text-lg font-medium text-gray-900\">V�hicules</h2>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Liste des v�hicules utilis�s pour le transport\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <div className=\"px-4 py-5 sm:p-6\">\n                <ul className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n                  {transporteur.vehicules.map((vehicule, index) => (\n                    <li key={index} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-10 w-10 bg-teal-100 rounded-full flex items-center justify-center\">\n                          <TruckIcon className=\"h-6 w-6 text-teal-600\" />\n                        </div>\n                        <div className=\"ml-4\">\n                          <h3 className=\"text-base font-medium text-gray-900\">\n                            {vehicule.type || 'V�hicule'} - {vehicule.marque} {vehicule.modele}\n                          </h3>\n                          <p className=\"text-sm text-gray-500\">\n                            {vehicule.annee || ''}\n                            {vehicule.capacite && ` - Capacit�: ${vehicule.capacite}`}\n                          </p>\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Livraisons r�centes */}\n        {recentAnnonces && recentAnnonces.length > 0 && (\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg mb-8\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Livraisons r�centes</h2>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Aper�u des derni�res livraisons effectu�es\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <ul className=\"divide-y divide-gray-200\">\n                {recentAnnonces.map((annonce) => (\n                  <li key={annonce._id} className=\"px-4 py-4\">\n                    <div className=\"flex justify-between items-center\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">\n                          {annonce.villeDepart} ? {annonce.villeArrivee}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {annonce.typeTransport} - {new Date(annonce.dateDepart).toLocaleDateString('fr-FR')}\n                        </p>\n                      </div>\n                      <div>\n                        {annonce.rating && (\n                          <div className=\"flex items-center\">\n                            <span className=\"text-yellow-400 mr-1\">?</span>\n                            <span className=\"text-sm text-gray-600\">{annonce.rating}/5</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        )}\n\n        {/* Avis sur le transporteur */}\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:px-6\">\n            <h2 className=\"text-lg font-medium text-gray-900\">Avis et �valuations</h2>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Ce que disent les clients de {transporteur.prenom}\n            </p>\n          </div>\n          <div className=\"border-t border-gray-200\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <RatingAndReviewsComponent \n                userId={id}\n                showSubmitForm={isAuthenticated && user?.id !== id} \n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TransporteurDetailPage;","import React, { useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { toast } from 'react-hot-toast';\r\nimport { EnvelopeIcon, LockClosedIcon } from '@heroicons/react/24/outline';\r\n\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport Input from '../../components/ui/Input';\r\nimport Button from '../../components/ui/Button';\r\n\r\nconst LoginPage = () => {\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  \r\n  // Récupération de l'URL de redirection (si présente)\r\n  const from = location.state?.from || '/dashboard';\r\n  \r\n  // Schéma de validation avec Yup\r\n  const validationSchema = Yup.object({\r\n    email: Yup.string()\r\n      .email('Adresse email invalide')\r\n      .required('L\\'email est obligatoire'),\r\n    password: Yup.string()\r\n      .required('Le mot de passe est obligatoire')\r\n  });\r\n  \r\n  // Initialisation du formulaire avec Formik\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: ''\r\n    },\r\n    validationSchema,\r\n    onSubmit: async (values) => {\r\n      try {\r\n        setIsLoading(true);\r\n        await login(values);\r\n        toast.success('Connexion réussie');\r\n        navigate(from, { replace: true });\r\n      } catch (error) {\r\n        toast.error(error.message || 'Échec de la connexion');\r\n        console.error('Erreur de connexion:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <div>\r\n      <h2 className=\"text-center text-3xl font-extrabold text-gray-900\">\r\n        Connexion à votre compte\r\n      </h2>\r\n      <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n        Ou{' '}\r\n        <Link to=\"/register\" className=\"font-medium text-teal-600 hover:text-teal-500\">\r\n          créez un compte gratuitement\r\n        </Link>\r\n      </p>\r\n      \r\n      <form className=\"mt-8 space-y-6\" onSubmit={formik.handleSubmit}>\r\n        <div className=\"space-y-4\">\r\n          <Input\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            label=\"Adresse email\"\r\n            placeholder=\"Votre adresse email\"\r\n            value={formik.values.email}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.email && formik.errors.email}\r\n            touched={formik.touched.email}\r\n            required\r\n            icon={<EnvelopeIcon className=\"h-5 w-5 text-gray-400\" />}\r\n          />\r\n          \r\n          <Input\r\n            id=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            label=\"Mot de passe\"\r\n            placeholder=\"Votre mot de passe\"\r\n            value={formik.values.password}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.password && formik.errors.password}\r\n            touched={formik.touched.password}\r\n            required\r\n            icon={<LockClosedIcon className=\"h-5 w-5 text-gray-400\" />}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center\">\r\n            <input\r\n              id=\"remember-me\"\r\n              name=\"remember-me\"\r\n              type=\"checkbox\"\r\n              className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\r\n            />\r\n            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\r\n              Se souvenir de moi\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"text-sm\">\r\n            <Link to=\"/forgot-password\" className=\"font-medium text-teal-600 hover:text-teal-500\">\r\n              Mot de passe oublié?\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        \r\n        <div>\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"primary\"\r\n            fullWidth\r\n            isLoading={isLoading}\r\n            disabled={isLoading}\r\n          >\r\n            Se connecter\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport { \n  EnvelopeIcon, \n  LockClosedIcon, \n  UserIcon, \n  PhoneIcon,\n  IdentificationIcon \n} from '@heroicons/react/24/outline';\n\nimport { useAuth } from '../../hooks/useAuth';\nimport Input from '../../components/ui/Input';\nimport Button from '../../components/ui/Button';\n\nconst RegisterPage = () => {\n  const { register } = useAuth();\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(false);\n  \n  // Sch�ma de validation avec Yup\n  const validationSchema = Yup.object({\n    nom: Yup.string()\n      .required('Le nom est obligatoire')\n      .min(2, 'Le nom doit comporter au moins 2 caract�res')\n      .max(50, 'Le nom ne doit pas d�passer 50 caract�res'),\n    \n    prenom: Yup.string()\n      .required('Le pr�nom est obligatoire')\n      .min(2, 'Le pr�nom doit comporter au moins 2 caract�res')\n      .max(50, 'Le pr�nom ne doit pas d�passer 50 caract�res'),\n    \n    email: Yup.string()\n      .required('L\\'email est obligatoire')\n      .email('Format d\\'email invalide'),\n    \n    telephone: Yup.string()\n      .required('Le num�ro de t�l�phone est obligatoire')\n      .matches(\n        /^(\\+33|0)[1-9](\\d{2}){4}$/, \n        'Format de t�l�phone invalide (ex: 0612345678 ou +33612345678)'\n      ),\n    \n    password: Yup.string()\n      .required('Le mot de passe est obligatoire')\n      .min(8, 'Le mot de passe doit comporter au moins 8 caract�res')\n      .matches(\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/, \n        'Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre'\n      ),\n    \n    passwordConfirm: Yup.string()\n      .required('La confirmation du mot de passe est obligatoire')\n      .oneOf([Yup.ref('password'), null], 'Les mots de passe ne correspondent pas'),\n    \n    role: Yup.string()\n      .required('Le r�le est obligatoire')\n      .oneOf(['client', 'transporteur'], 'R�le invalide'),\n    \n    acceptTerms: Yup.boolean()\n      .required('Vous devez accepter les conditions g�n�rales')\n      .oneOf([true], 'Vous devez accepter les conditions g�n�rales')\n  });\n  \n  // Initialisation du formulaire avec Formik\n  const formik = useFormik({\n    initialValues: {\n      nom: '',\n      prenom: '',\n      email: '',\n      telephone: '',\n      password: '',\n      passwordConfirm: '',\n      role: 'client',\n      acceptTerms: false\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setIsLoading(true);\n        await register(values);\n        toast.success('Inscription r�ussie ! Bienvenue sur Pro-Trans');\n        navigate('/dashboard');\n      } catch (error) {\n        toast.error(error.message || 'Echec de l\\'inscription');\n        console.error('Erreur d\\'inscription:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  });\n  \n  return (\n    <div>\n      <h2 className=\"text-center text-3xl font-extrabold text-gray-900\">\n        Cr�er votre compte\n      </h2>\n      <p className=\"mt-2 text-center text-sm text-gray-600\">\n        Ou{' '}\n        <Link to=\"/login\" className=\"font-medium text-teal-600 hover:text-teal-500\">\n          connectez-vous � votre compte existant\n        </Link>\n      </p>\n      \n      <form className=\"mt-8 space-y-6\" onSubmit={formik.handleSubmit}>\n        <div className=\"space-y-4\">\n          {/* Informations personnelles */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Input\n              id=\"prenom\"\n              name=\"prenom\"\n              type=\"text\"\n              label=\"Pr�nom\"\n              placeholder=\"Votre pr�nom\"\n              value={formik.values.prenom}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              error={formik.touched.prenom && formik.errors.prenom}\n              touched={formik.touched.prenom}\n              required\n              icon={<UserIcon className=\"h-5 w-5 text-gray-400\" />}\n            />\n            \n            <Input\n              id=\"nom\"\n              name=\"nom\"\n              type=\"text\"\n              label=\"Nom\"\n              placeholder=\"Votre nom\"\n              value={formik.values.nom}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              error={formik.touched.nom && formik.errors.nom}\n              touched={formik.touched.nom}\n              required\n              icon={<UserIcon className=\"h-5 w-5 text-gray-400\" />}\n            />\n          </div>\n          \n          <Input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            label=\"Adresse email\"\n            placeholder=\"Votre adresse email\"\n            value={formik.values.email}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            error={formik.touched.email && formik.errors.email}\n            touched={formik.touched.email}\n            required\n            icon={<EnvelopeIcon className=\"h-5 w-5 text-gray-400\" />}\n          />\n          \n          <Input\n            id=\"telephone\"\n            name=\"telephone\"\n            type=\"tel\"\n            label=\"T�l�phone\"\n            placeholder=\"Votre num�ro de t�l�phone\"\n            value={formik.values.telephone}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            error={formik.touched.telephone && formik.errors.telephone}\n            touched={formik.touched.telephone}\n            required\n            icon={<PhoneIcon className=\"h-5 w-5 text-gray-400\" />}\n            helperText=\"Format: 0612345678 ou +33612345678\"\n          />\n          \n          <Input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            label=\"Mot de passe\"\n            placeholder=\"Votre mot de passe\"\n            value={formik.values.password}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            error={formik.touched.password && formik.errors.password}\n            touched={formik.touched.password}\n            required\n            icon={<LockClosedIcon className=\"h-5 w-5 text-gray-400\" />}\n            helperText=\"Min. 8 caract�res avec au moins 1 majuscule, 1 minuscule et 1 chiffre\"\n          />\n          \n          <Input\n            id=\"passwordConfirm\"\n            name=\"passwordConfirm\"\n            type=\"password\"\n            label=\"Confirmer le mot de passe\"\n            placeholder=\"Confirmez votre mot de passe\"\n            value={formik.values.passwordConfirm}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            error={formik.touched.passwordConfirm && formik.errors.passwordConfirm}\n            touched={formik.touched.passwordConfirm}\n            required\n            icon={<LockClosedIcon className=\"h-5 w-5 text-gray-400\" />}\n          />\n          \n          {/* Choix du r�le */}\n          <div className=\"mt-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Je m'inscris en tant que\n              <span className=\"text-red-500 ml-1\">*</span>\n            </label>\n            \n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div\n                className={`border rounded-lg p-4 cursor-pointer transition-colors ${\n                  formik.values.role === 'client'\n                    ? 'border-teal-500 bg-teal-50 text-teal-700'\n                    : 'border-gray-200 hover:border-gray-300'\n                }`}\n                onClick={() => formik.setFieldValue('role', 'client')}\n              >\n                <div className=\"flex items-center\">\n                  <input\n                    type=\"radio\"\n                    name=\"role\"\n                    id=\"role-client\"\n                    value=\"client\"\n                    checked={formik.values.role === 'client'}\n                    onChange={formik.handleChange}\n                    className=\"h-4 w-4 text-teal-600 border-gray-300 focus:ring-teal-500\"\n                  />\n                  <label \n                    htmlFor=\"role-client\" \n                    className=\"ml-3 block font-medium cursor-pointer\"\n                  >\n                    Client\n                  </label>\n                </div>\n                <p className=\"mt-2 text-sm text-gray-500 ml-7\">\n                  Je souhaite faire transporter des marchandises\n                </p>\n              </div>\n              \n              <div\n                className={`border rounded-lg p-4 cursor-pointer transition-colors ${\n                  formik.values.role === 'transporteur'\n                    ? 'border-teal-500 bg-teal-50 text-teal-700'\n                    : 'border-gray-200 hover:border-gray-300'\n                }`}\n                onClick={() => formik.setFieldValue('role', 'transporteur')}\n              >\n                <div className=\"flex items-center\">\n                  <input\n                    type=\"radio\"\n                    name=\"role\"\n                    id=\"role-transporteur\"\n                    value=\"transporteur\"\n                    checked={formik.values.role === 'transporteur'}\n                    onChange={formik.handleChange}\n                    className=\"h-4 w-4 text-teal-600 border-gray-300 focus:ring-teal-500\"\n                  />\n                  <label \n                    htmlFor=\"role-transporteur\" \n                    className=\"ml-3 block font-medium cursor-pointer\"\n                  >\n                    Transporteur\n                  </label>\n                </div>\n                <p className=\"mt-2 text-sm text-gray-500 ml-7\">\n                  Je propose des services de transport\n                </p>\n              </div>\n            </div>\n            \n            {formik.touched.role && formik.errors.role && (\n              <p className=\"mt-1 text-sm text-red-600\">{formik.errors.role}</p>\n            )}\n          </div>\n          \n          {/* Conditions g�n�rales */}\n          <div className=\"flex items-center mt-4\">\n            <input\n              id=\"acceptTerms\"\n              name=\"acceptTerms\"\n              type=\"checkbox\"\n              checked={formik.values.acceptTerms}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              className=\"h-4 w-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n            />\n            <label htmlFor=\"acceptTerms\" className=\"ml-2 block text-sm text-gray-900\">\n              J'accepte les{' '}\n              <Link to=\"/cgu\" className=\"font-medium text-teal-600 hover:text-teal-500\">\n                conditions g�n�rales d'utilisation\n              </Link>{' '}\n              et la{' '}\n              <Link to=\"/politique-confidentialite\" className=\"font-medium text-teal-600 hover:text-teal-500\">\n                politique de confidentialit�\n              </Link>\n              <span className=\"text-red-500 ml-1\">*</span>\n            </label>\n          </div>\n          {formik.touched.acceptTerms && formik.errors.acceptTerms && (\n            <p className=\"mt-1 text-sm text-red-600\">{formik.errors.acceptTerms}</p>\n          )}\n        </div>\n        \n        <div>\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            fullWidth\n            isLoading={isLoading}\n            disabled={isLoading}\n          >\n            Cr�er mon compte\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterPage;","import React from 'react';\n\nconst ForgotPasswordPage = () => {\n  return (\n    <div>\n      <h1>ForgotPasswordPage</h1>\n      <p>Cette page est en cours de d�veloppement.</p>\n    </div>\n  );\n};\n\nexport default ForgotPasswordPage;\r\n","import React from 'react';\n\nconst ResetPasswordPage = () => {\n  return (\n    <div>\n      <h1>ResetPasswordPage</h1>\n      <p>Cette page est en cours de d�veloppement.</p>\n    </div>\n  );\n};\n\nexport default ResetPasswordPage;\r\n","import React from 'react';\n\nconst VerifyEmailPage = () => {\n  return (\n    <div>\n      <h1>VerifyEmailPage</h1>\n      <p>Cette page est en cours de d�veloppement.</p>\n    </div>\n  );\n};\n\nexport default VerifyEmailPage;\r\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { toast } from 'react-hot-toast';\nimport { \n  DocumentTextIcon, \n  TruckIcon, \n  ChatBubbleLeftRightIcon, \n  StarIcon,\n  ArrowRightIcon,\n  ExclamationCircleIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport apiClient from '../../api/client';\nimport Button from '../../components/ui/Button';\n\nconst DashboardPage = () => {\n  const { user } = useAuth();\n  const [stats, setStats] = useState(null);\n  const [recentItems, setRecentItems] = useState({\n    annonces: [],\n    devis: [],\n    messages: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        \n        // Endpoint diff�rent selon le r�le de l'utilisateur\n        const endpoint = user.role === 'transporteur' \n          ? '/dashboard/transporteur' \n          : '/dashboard/client';\n        \n        const response = await apiClient.get(endpoint);\n        \n        setStats(response.data.data.stats);\n        setRecentItems({\n          annonces: response.data.data.recentAnnonces || [],\n          devis: response.data.data.recentDevis || [],\n          messages: response.data.data.recentMessages || []\n        });\n        \n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement du tableau de bord:', err);\n        setError('Erreur lors du chargement des donn�es. Veuillez r�essayer.');\n        toast.error('Erreur lors du chargement des donn�es');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, [user.role]);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border-l-4 border-red-500 p-4 mb-4\">\n        <div className=\"flex\">\n          <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n          <div>\n            <p className=\"text-red-700\">{error}</p>\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              className=\"mt-2\" \n              onClick={() => window.location.reload()}\n            >\n              R�essayer\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Contenu pour le client\n  const ClientDashboard = () => (\n    <div className=\"space-y-6\">\n      {/* Cartes de stats */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {/* Annonces */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-teal-500 rounded-md p-3\">\n                <DocumentTextIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Annonces Actives</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.annonces?.actives || 0}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/annonces\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir toutes mes annonces\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Devis */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-blue-500 rounded-md p-3\">\n                <TruckIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Devis en Attente</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.devis?.enAttente || 0}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/devis\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir tous mes devis\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Messages */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-indigo-500 rounded-md p-3\">\n                <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Messages non lus</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.messages?.nonLus || 0}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/messages\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir tous mes messages\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Avis */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-yellow-500 rounded-md p-3\">\n                <StarIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Avis Re�us</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.avis?.total || 0}\n                    </div>\n                    {stats?.avis?.note && (\n                      <div className=\"ml-2 flex items-baseline text-sm font-semibold text-green-600\">\n                        {stats.avis.note.toFixed(1)} / 5\n                      </div>\n                    )}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/avis\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir tous mes avis\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Actions rapides */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Actions rapides</h3>\n        </div>\n        <div className=\"px-6 py-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Button to=\"/dashboard/annonces/create\" variant=\"primary\">\n              <DocumentTextIcon className=\"h-5 w-5 mr-2\" />\n              Cr�er une nouvelle annonce\n            </Button>\n            <Button to=\"/transporteurs\" variant=\"outline\">\n              <TruckIcon className=\"h-5 w-5 mr-2\" />\n              Rechercher un transporteur\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Derni�res annonces */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Mes derni�res annonces</h3>\n        </div>\n        <div className=\"divide-y divide-gray-200\">\n          {recentItems.annonces.length === 0 ? (\n            <div className=\"px-6 py-8 text-center text-gray-500\">\n              <DocumentTextIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <p className=\"mt-2 text-sm\">Vous n'avez pas encore cr�� d'annonce.</p>\n              <Button to=\"/dashboard/annonces/create\" variant=\"primary\" className=\"mt-3\">\n                Cr�er ma premi�re annonce\n              </Button>\n            </div>\n          ) : (\n            recentItems.annonces.map((annonce) => (\n              <div key={annonce._id} className=\"px-6 py-4 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <Link \n                      to={`/dashboard/annonces/${annonce._id}`}\n                      className=\"text-lg font-medium text-gray-900 hover:text-teal-600\"\n                    >\n                      {annonce.titre}\n                    </Link>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      {annonce.villeDepart} ? {annonce.villeArrivee}\n                    </p>\n                  </div>\n                  <div className=\"flex flex-col items-end\">\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                      annonce.statut === 'disponible' \n                        ? 'bg-green-100 text-green-800' \n                        : annonce.statut === 'en_cours' \n                          ? 'bg-blue-100 text-blue-800' \n                          : 'bg-gray-100 text-gray-800'\n                    }`}>\n                      {annonce.statut === 'disponible' \n                        ? 'Disponible' \n                        : annonce.statut === 'en_cours' \n                          ? 'En cours' \n                          : 'Termin�e'}\n                    </span>\n                    <span className=\"mt-1 text-xs text-gray-500\">\n                      {format(new Date(annonce.dateDepart), 'dd MMMM yyyy', { locale: fr })}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        {recentItems.annonces.length > 0 && (\n          <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n            <Link \n              to=\"/dashboard/annonces\" \n              className=\"text-sm font-medium text-teal-600 hover:text-teal-500\"\n            >\n              Voir toutes mes annonces\n            </Link>\n          </div>\n        )}\n      </div>\n\n      {/* Derniers devis */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Mes derniers devis</h3>\n        </div>\n        <div className=\"divide-y divide-gray-200\">\n          {recentItems.devis.length === 0 ? (\n            <div className=\"px-6 py-8 text-center text-gray-500\">\n              <TruckIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <p className=\"mt-2 text-sm\">Vous n'avez pas encore re�u de devis.</p>\n              <Button to=\"/dashboard/annonces/create\" variant=\"primary\" className=\"mt-3\">\n                Cr�er une annonce pour recevoir des devis\n              </Button>\n            </div>\n          ) : (\n            recentItems.devis.map((devis) => (\n              <div key={devis._id} className=\"px-6 py-4 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <Link \n                      to={`/dashboard/devis/${devis._id}`}\n                      className=\"text-lg font-medium text-gray-900 hover:text-teal-600\"\n                    >\n                      Devis pour: {devis.annonce.titre}\n                    </Link>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      Par: {devis.transporteur.prenom} {devis.transporteur.nom}\n                    </p>\n                  </div>\n                  <div className=\"flex flex-col items-end\">\n                    <span className=\"text-lg font-bold text-gray-900\">\n                      {devis.montant.toFixed(2)} �\n                    </span>\n                    <span className={`mt-1 px-2 py-1 text-xs font-medium rounded-full ${\n                      devis.statut === 'en_attente' \n                        ? 'bg-yellow-100 text-yellow-800' \n                        : devis.statut === 'accepte' \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-red-100 text-red-800'\n                    }`}>\n                      {devis.statut === 'en_attente' \n                        ? 'En attente' \n                        : devis.statut === 'accepte' \n                          ? 'Accept�' \n                          : 'Refus�'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        {recentItems.devis.length > 0 && (\n          <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n            <Link \n              to=\"/dashboard/devis\" \n              className=\"text-sm font-medium text-teal-600 hover:text-teal-500\"\n            >\n              Voir tous mes devis\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  // Contenu pour le transporteur\n  const TransporteurDashboard = () => (\n    <div className=\"space-y-6\">\n      {/* Cartes de stats */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {/* Devis */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-blue-500 rounded-md p-3\">\n                <TruckIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Devis Envoy�s</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.devis?.envoyes || 0}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/devis\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir tous mes devis\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Transports en cours */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-indigo-500 rounded-md p-3\">\n                <ClockIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Transports en cours</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.transports?.enCours || 0}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/devis?statut=en_cours\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir les transports en cours\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Messages */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-purple-500 rounded-md p-3\">\n                <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Messages non lus</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.messages?.nonLus || 0}\n                    </div>\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/messages\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir tous mes messages\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Avis */}\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"p-5\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0 bg-yellow-500 rounded-md p-3\">\n                <StarIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">Avis Re�us</dt>\n                  <dd className=\"flex items-baseline\">\n                    <div className=\"text-2xl font-semibold text-gray-900\">\n                      {stats?.avis?.total || 0}\n                    </div>\n                    {stats?.avis?.note && (\n                      <div className=\"ml-2 flex items-baseline text-sm font-semibold text-green-600\">\n                        {stats.avis.note.toFixed(1)} / 5\n                      </div>\n                    )}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gray-50 px-5 py-3\">\n            <div className=\"text-sm\">\n              <Link to=\"/dashboard/avis\" className=\"font-medium text-teal-700 hover:text-teal-900 flex items-center\">\n                Voir tous mes avis\n                <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Actions rapides */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Actions rapides</h3>\n        </div>\n        <div className=\"px-6 py-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Button to=\"/annonces\" variant=\"primary\">\n              <DocumentTextIcon className=\"h-5 w-5 mr-2\" />\n              Rechercher des annonces\n            </Button>\n            <Button to=\"/dashboard/profile\" variant=\"outline\">\n              <TruckIcon className=\"h-5 w-5 mr-2\" />\n              Mettre � jour mon profil\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Derni�res annonces disponibles */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Derni�res annonces disponibles</h3>\n        </div>\n        <div className=\"divide-y divide-gray-200\">\n          {recentItems.annonces.length === 0 ? (\n            <div className=\"px-6 py-8 text-center text-gray-500\">\n              <DocumentTextIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <p className=\"mt-2 text-sm\">Aucune annonce disponible pour le moment.</p>\n              <Button to=\"/annonces\" variant=\"primary\" className=\"mt-3\">\n                Rechercher des annonces\n              </Button>\n            </div>\n          ) : (\n            recentItems.annonces.map((annonce) => (\n              <div key={annonce._id} className=\"px-6 py-4 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <Link \n                      to={`/annonces/${annonce._id}`}\n                      className=\"text-lg font-medium text-gray-900 hover:text-teal-600\"\n                    >\n                      {annonce.titre}\n                    </Link>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      {annonce.villeDepart} ? {annonce.villeArrivee}\n                    </p>\n                  </div>\n                  <div className=\"flex flex-col items-end\">\n                    <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\">\n                      Disponible\n                    </span>\n                    <span className=\"mt-1 text-xs text-gray-500\">\n                      {format(new Date(annonce.dateDepart), 'dd MMMM yyyy', { locale: fr })}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        {recentItems.annonces.length > 0 && (\n          <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n            <Link \n              to=\"/annonces\" \n              className=\"text-sm font-medium text-teal-600 hover:text-teal-500\"\n            >\n              Voir toutes les annonces\n            </Link>\n          </div>\n        )}\n      </div>\n\n      {/* Derniers devis */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Mes derniers devis</h3>\n        </div>\n        <div className=\"divide-y divide-gray-200\">\n          {recentItems.devis.length === 0 ? (\n            <div className=\"px-6 py-8 text-center text-gray-500\">\n              <TruckIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <p className=\"mt-2 text-sm\">Vous n'avez pas encore envoy� de devis.</p>\n              <Button to=\"/annonces\" variant=\"primary\" className=\"mt-3\">\n                Rechercher des annonces pour proposer vos services\n              </Button>\n            </div>\n          ) : (\n            recentItems.devis.map((devis) => (\n              <div key={devis._id} className=\"px-6 py-4 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <Link \n                      to={`/dashboard/devis/${devis._id}`}\n                      className=\"text-lg font-medium text-gray-900 hover:text-teal-600\"\n                    >\n                      Devis pour: {devis.annonce.titre}\n                    </Link>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                      Client: {devis.client.prenom} {devis.client.nom}\n                    </p>\n                  </div>\n                  <div className=\"flex flex-col items-end\">\n                    <span className=\"text-lg font-bold text-gray-900\">\n                      {devis.montant.toFixed(2)} �\n                    </span>\n                    <span className={`mt-1 px-2 py-1 text-xs font-medium rounded-full ${\n                      devis.statut === 'en_attente' \n                        ? 'bg-yellow-100 text-yellow-800' \n                        : devis.statut === 'accepte' \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-red-100 text-red-800'\n                    }`}>\n                      {devis.statut === 'en_attente' \n                        ? 'En attente' \n                        : devis.statut === 'accepte' \n                          ? 'Accept�' \n                          : 'Refus�'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        {recentItems.devis.length > 0 && (\n          <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n            <Link \n              to=\"/dashboard/devis\" \n              className=\"text-sm font-medium text-teal-600 hover:text-teal-500\"\n            >\n              Voir tous mes devis\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Tableau de bord</h1>\n      \n      {/* Message de bienvenue */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden mb-6\">\n        <div className=\"px-6 py-4\">\n          <h2 className=\"text-xl font-medium text-gray-900\">\n            Bienvenue, {user.prenom} !\n          </h2>\n          <p className=\"mt-1 text-gray-600\">\n            {user.role === 'client' \n              ? 'Voici un aper�u de vos activit�s et des outils pour g�rer vos transports.' \n              : 'Voici un aper�u de vos activit�s et des opportunit�s de transport disponibles.'}\n          </p>\n        </div>\n      </div>\n      \n      {/* Afficher le contenu sp�cifique au r�le */}\n      {user.role === 'client' ? <ClientDashboard /> : <TransporteurDashboard />}\n    </div>\n  );\n};\n\nexport default DashboardPage;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { toast } from 'react-hot-toast';\nimport {\n  UserIcon,\n  EnvelopeIcon,\n  PhoneIcon,\n  MapPinIcon,\n  IdentificationIcon,\n  PencilSquareIcon,\n  TruckIcon,\n  StarIcon\n} from '@heroicons/react/24/outline';\nimport Button from '../../components/ui/Button';\nimport RatingAndReviewsComponent from '../../components/reviews/RatingAndReviewsComponent';\nimport apiClient from '../../api/client';\nimport { formatDate } from '../../utils/dateUtils';\n\nconst ProfilePage = () => {\n  const { user } = useAuth();\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        setLoading(true);\n        const response = await apiClient.get('/users/profile');\n        setProfile(response.data.data);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement du profil:', err);\n        setError('Erreur lors du chargement du profil');\n        toast.error('Erreur lors du chargement du profil');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProfile();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n            </svg>\n          </div>\n          <div className=\"ml-3\">\n            <p className=\"text-sm text-red-700\">{error}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-500\">Aucune information de profil disponible</p>\n      </div>\n    );\n  }\n\n  const TransporteurInfo = () => {\n    if (user.role !== 'transporteur') return null;\n\n    return (\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg mb-6\">\n        <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n          <div>\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Information transporteur</h3>\n            <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">D�tails de votre activit� de transport</p>\n          </div>\n        </div>\n        <div className=\"border-t border-gray-200\">\n          <dl>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Type de v�hicule</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.transporteur?.typeVehicule || 'Non sp�cifi�'}\n              </dd>\n            </div>\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Capacit� (poids)</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.transporteur?.capacitePoids \n                  ? `${profile.transporteur.capacitePoids} kg` \n                  : 'Non sp�cifi�'}\n              </dd>\n            </div>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Capacit� (volume)</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.transporteur?.capaciteVolume \n                  ? `${profile.transporteur.capaciteVolume} m�` \n                  : 'Non sp�cifi�'}\n              </dd>\n            </div>\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Zones desservies</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.transporteur?.zonesDesservies?.join(', ') || 'Non sp�cifi�'}\n              </dd>\n            </div>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Assurance</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.transporteur?.assurance ? 'V�rifi�' : 'Non v�rifi�'}\n              </dd>\n            </div>\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Statut de v�rification</dt>\n              <dd className=\"mt-1 text-sm sm:mt-0 sm:col-span-2\">\n                <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                  profile.transporteur?.verifie \n                    ? 'bg-green-100 text-green-800' \n                    : 'bg-yellow-100 text-yellow-800'\n                }`}>\n                  {profile.transporteur?.verifie ? 'V�rifi�' : 'En attente de v�rification'}\n                </span>\n              </dd>\n            </div>\n          </dl>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Mon profil</h1>\n        <Button to=\"/profile/edit\" variant=\"primary\">\n          <PencilSquareIcon className=\"h-5 w-5 mr-2\" />\n          Modifier mon profil\n        </Button>\n      </div>\n\n      {/* Section d'informations personnelles */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n        <div className=\"px-4 py-5 sm:px-6 flex items-start\">\n          <div className=\"flex-shrink-0 h-20 w-20 rounded-full overflow-hidden bg-gray-200 mr-4\">\n            {profile.photo ? (\n              <img \n                src={profile.photo} \n                alt={`${profile.prenom} ${profile.nom}`} \n                className=\"h-full w-full object-cover\"\n              />\n            ) : (\n              <div className=\"h-full w-full flex items-center justify-center bg-teal-500 text-white\">\n                <UserIcon className=\"h-10 w-10\" />\n              </div>\n            )}\n          </div>\n          <div>\n            <h3 className=\"text-xl font-bold text-gray-900\">\n              {profile.prenom} {profile.nom}\n            </h3>\n            <p className=\"mt-1 max-w-2xl text-sm text-gray-500 flex items-center\">\n              <span className={`mr-2 px-2 py-1 text-xs font-medium rounded-full ${\n                profile.role === 'transporteur' \n                  ? 'bg-blue-100 text-blue-800' \n                  : 'bg-green-100 text-green-800'\n              }`}>\n                {profile.role === 'transporteur' ? 'Transporteur' : 'Client'}\n              </span>\n              <span>Membre depuis {formatDate(profile.createdAt, 'MMMM yyyy')}</span>\n            </p>\n          </div>\n        </div>\n        <div className=\"border-t border-gray-200\">\n          <dl>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                <EnvelopeIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                Email\n              </dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">{profile.email}</dd>\n            </div>\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                <PhoneIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                T�l�phone\n              </dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">{profile.telephone}</dd>\n            </div>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                <MapPinIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                Adresse\n              </dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.adresse ? (\n                  <>\n                    {profile.adresse.rue}<br />\n                    {profile.adresse.codePostal} {profile.adresse.ville}<br />\n                    {profile.adresse.pays}\n                  </>\n                ) : (\n                  'Non sp�cifi�e'\n                )}\n              </dd>\n            </div>\n            <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                <IdentificationIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                SIRET (si professionnel)\n              </dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                {profile.siret || 'Non sp�cifi�'}\n              </dd>\n            </div>\n            <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n              <dt className=\"text-sm font-medium text-gray-500\">Description</dt>\n              <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-line\">\n                {profile.description || 'Aucune description'}\n              </dd>\n            </div>\n          </dl>\n        </div>\n      </div>\n\n      {/* Section d'informations transporteur */}\n      <TransporteurInfo />\n\n      {/* Section des avis */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\n          <StarIcon className=\"h-5 w-5 mr-2 text-yellow-500\" />\n          Avis et �valuations\n        </h3>\n        <RatingAndReviewsComponent userId={user.id} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;","import apiClient from '../api/client';\r\n\r\nconst userService = {\r\n  // Récupérer les transporteurs avec filtres optionnels\r\n  getTransporteurs: async (filters = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/users/transporteurs', { params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des transporteurs' };\r\n    }\r\n  },\r\n\r\n  // Récupérer le profil d'un utilisateur\r\n  getUserProfile: async (userId) => {\r\n    try {\r\n      const response = await apiClient.get(`/users/profile/${userId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération du profil utilisateur' };\r\n    }\r\n  },\r\n\r\n  // Récupérer son propre profil\r\n  getMyProfile: async () => {\r\n    try {\r\n      const response = await apiClient.get('/users/profile');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération de votre profil' };\r\n    }\r\n  },\r\n\r\n  // Mettre à jour son profil\r\n  updateProfile: async (userData) => {\r\n    try {\r\n      const response = await apiClient.put('/users/profile', userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la mise à jour du profil' };\r\n    }\r\n  },\r\n\r\n  // Télécharger une photo de profil\r\n  uploadProfilePhoto: async (formData) => {\r\n    try {\r\n      const response = await apiClient.post('/users/profile/upload-photo', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors du téléchargement de la photo' };\r\n    }\r\n  },\r\n\r\n  // Télécharger des documents (pour les transporteurs)\r\n  uploadDocuments: async (formData) => {\r\n    try {\r\n      const response = await apiClient.post('/users/profile/upload-documents', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors du téléchargement des documents' };\r\n    }\r\n  },\r\n\r\n  // Mettre à jour le mot de passe\r\n  updatePassword: async (passwordData) => {\r\n    try {\r\n      const response = await apiClient.put('/users/profile/update-password', passwordData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la mise à jour du mot de passe' };\r\n    }\r\n  }\r\n};\r\n\r\nexport default userService;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport { \n  UserIcon, \n  EnvelopeIcon, \n  PhoneIcon, \n  MapPinIcon, \n  LockClosedIcon,\n  PlusIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\nimport { useDropzone } from 'react-dropzone';\nimport { useAuth } from '../../hooks/useAuth';\nimport userService from '../../services/userService';\nimport Button from '../../components/ui/Button';\nimport Input from '../../components/ui/Input';\n\nconst EditProfilePage = () => {\n  const { user, updateUserProfile } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [profilePhoto, setProfilePhoto] = useState(null);\n  const [documents, setDocuments] = useState([]);\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\n  const [uploadingDocuments, setUploadingDocuments] = useState(false);\n  const [activeTab, setActiveTab] = useState('profile');\n  const [specialites, setSpecialites] = useState([]);\n  const [newSpecialite, setNewSpecialite] = useState('');\n\n  // Sch�ma de validation pour l'information personnelle\n  const validationSchema = Yup.object({\n    prenom: Yup.string()\n      .required('Le pr�nom est obligatoire')\n      .min(2, 'Le pr�nom doit comporter au moins 2 caract�res')\n      .max(50, 'Le pr�nom ne doit pas d�passer 50 caract�res'),\n    nom: Yup.string()\n      .required('Le nom est obligatoire')\n      .min(2, 'Le nom doit comporter au moins 2 caract�res')\n      .max(50, 'Le nom ne doit pas d�passer 50 caract�res'),\n    telephone: Yup.string()\n      .required('Le num�ro de t�l�phone est obligatoire')\n      .matches(\n        /^((\\+)33|0)[1-9](\\d{2}){4}$/,\n        'Le format du num�ro de t�l�phone est invalide (ex: 0612345678 ou +33612345678)'\n      ),\n    'adresse.rue': Yup.string()\n      .required('L\\'adresse est obligatoire'),\n    'adresse.codePostal': Yup.string()\n      .required('Le code postal est obligatoire')\n      .matches(/^\\d{5}$/, 'Le code postal doit contenir 5 chiffres'),\n    'adresse.ville': Yup.string()\n      .required('La ville est obligatoire'),\n    'adresse.pays': Yup.string()\n      .required('Le pays est obligatoire'),\n    aboutMe: Yup.string()\n      .max(500, 'La description ne doit pas d�passer 500 caract�res')\n  });\n\n  // Sch�ma de validation pour le changement de mot de passe\n  const passwordValidationSchema = Yup.object({\n    currentPassword: Yup.string()\n      .required('Le mot de passe actuel est obligatoire'),\n    newPassword: Yup.string()\n      .required('Le nouveau mot de passe est obligatoire')\n      .min(8, 'Le mot de passe doit contenir au moins 8 caract�res')\n      .matches(\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/,\n        'Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre'\n      ),\n    confirmPassword: Yup.string()\n      .required('La confirmation du mot de passe est obligatoire')\n      .oneOf([Yup.ref('newPassword'), null], 'Les mots de passe ne correspondent pas')\n  });\n\n  // Initialiser le formulaire avec les valeurs de l'utilisateur\n  const formik = useFormik({\n    initialValues: {\n      prenom: user?.prenom || '',\n      nom: user?.nom || '',\n      email: user?.email || '',\n      telephone: user?.telephone || '',\n      adresse: {\n        rue: user?.adresse?.rue || '',\n        codePostal: user?.adresse?.codePostal || '',\n        ville: user?.adresse?.ville || '',\n        pays: user?.adresse?.pays || 'France'\n      },\n      aboutMe: user?.aboutMe || '',\n      disponibilite: user?.disponibilite || '',\n      typeTransporteur: user?.typeTransporteur || ''\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        const response = await userService.updateProfile(values);\n        \n        // Mettre � jour le contexte d'authentification\n        updateUserProfile(response.data.data);\n        \n        toast.success('Profil mis � jour avec succ�s');\n        navigate('/profile');\n      } catch (error) {\n        console.error('Erreur lors de la mise � jour du profil:', error);\n        toast.error(error.message || 'Erreur lors de la mise � jour du profil');\n      } finally {\n        setLoading(false);\n      }\n    }\n  });\n\n  // Formulaire pour le changement de mot de passe\n  const passwordFormik = useFormik({\n    initialValues: {\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    },\n    validationSchema: passwordValidationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        await userService.updatePassword({\n          passwordCurrent: values.currentPassword,\n          password: values.newPassword,\n          passwordConfirm: values.confirmPassword\n        });\n        \n        toast.success('Mot de passe mis � jour avec succ�s');\n        passwordFormik.resetForm();\n      } catch (error) {\n        console.error('Erreur lors de la mise � jour du mot de passe:', error);\n        toast.error(error.message || 'Erreur lors de la mise � jour du mot de passe');\n      } finally {\n        setLoading(false);\n      }\n    }\n  });\n\n  // Initialiser les sp�cialit�s\n  useEffect(() => {\n    if (user && user.specialites) {\n      setSpecialites(user.specialites);\n    }\n  }, [user]);\n\n  // Configuration de react-dropzone pour la photo de profil\n  const { getRootProps: getPhotoRootProps, getInputProps: getPhotoInputProps } = useDropzone({\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif']\n    },\n    maxSize: 5242880, // 5MB\n    maxFiles: 1,\n    onDrop: async (acceptedFiles) => {\n      if (acceptedFiles.length > 0) {\n        const file = acceptedFiles[0];\n        setProfilePhoto(file);\n        \n        // Cr�er une URL pour pr�visualiser l'image\n        const previewUrl = URL.createObjectURL(file);\n        formik.setFieldValue('photoPreview', previewUrl);\n        \n        // Uploader la photo imm�diatement\n        await handlePhotoUpload(file);\n      }\n    },\n    onDropRejected: (rejectedFiles) => {\n      if (rejectedFiles.length > 0) {\n        const { errors } = rejectedFiles[0];\n        if (errors.some(e => e.code === 'file-too-large')) {\n          toast.error('L\\'image est trop volumineuse. Taille maximale: 5MB');\n        } else {\n          toast.error('Format de fichier non accept�. Utilisez JPG, PNG ou GIF');\n        }\n      }\n    }\n  });\n\n  // Configuration de react-dropzone pour les documents\n  const { getRootProps: getDocumentRootProps, getInputProps: getDocumentInputProps } = useDropzone({\n    accept: {\n      'application/pdf': ['.pdf'],\n      'image/*': ['.jpeg', '.jpg', '.png'],\n      'application/msword': ['.doc'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx']\n    },\n    maxSize: 10485760, // 10MB\n    onDrop: (acceptedFiles) => {\n      // Ajouter les nouveaux fichiers � la liste existante\n      const newDocuments = [...documents, ...acceptedFiles.map(file => ({\n        file,\n        preview: file.type.startsWith('image/') ? URL.createObjectURL(file) : null,\n        name: file.name,\n        uploading: false,\n        uploaded: false,\n        error: null\n      }))];\n      \n      setDocuments(newDocuments);\n    },\n    onDropRejected: (rejectedFiles) => {\n      if (rejectedFiles.length > 0) {\n        const { errors } = rejectedFiles[0];\n        if (errors.some(e => e.code === 'file-too-large')) {\n          toast.error('Le document est trop volumineux. Taille maximale: 10MB');\n        } else {\n          toast.error('Format de fichier non accept�. Utilisez PDF, JPG, PNG, DOC ou DOCX');\n        }\n      }\n    }\n  });\n\n  // Uploader la photo de profil\n  const handlePhotoUpload = async (file) => {\n    try {\n      setUploadingPhoto(true);\n      \n      const formData = new FormData();\n      formData.append('photo', file);\n      \n      const response = await userService.uploadProfilePhoto(formData);\n      \n      // Mettre � jour le contexte d'authentification avec la nouvelle photo\n      updateUserProfile({\n        ...user,\n        photo: response.data.photo\n      });\n      \n      toast.success('Photo de profil mise � jour avec succ�s');\n    } catch (error) {\n      console.error('Erreur lors du t�l�chargement de la photo:', error);\n      toast.error(error.message || 'Erreur lors du t�l�chargement de la photo');\n    } finally {\n      setUploadingPhoto(false);\n    }\n  };\n\n  // Uploader les documents\n  const handleDocumentsUpload = async () => {\n    if (documents.length === 0) {\n      toast.error('Aucun document � t�l�charger');\n      return;\n    }\n    \n    try {\n      setUploadingDocuments(true);\n      \n      const formData = new FormData();\n      documents.forEach((doc, index) => {\n        if (!doc.uploaded && !doc.uploading) {\n          formData.append(`documents`, doc.file);\n          \n          // Marquer le document comme en cours de t�l�chargement\n          setDocuments(prev => \n            prev.map((d, i) => \n              i === index ? { ...d, uploading: true } : d\n            )\n          );\n        }\n      });\n      \n      const response = await userService.uploadDocuments(formData);\n      \n      // Mettre � jour le statut des documents\n      setDocuments(prev => \n        prev.map(doc => {\n          const uploadedDoc = response.data.documents.find(d => d.originalname === doc.name);\n          if (uploadedDoc) {\n            return { ...doc, uploading: false, uploaded: true, url: uploadedDoc.path };\n          }\n          return doc;\n        })\n      );\n      \n      toast.success('Documents t�l�charg�s avec succ�s');\n    } catch (error) {\n      console.error('Erreur lors du t�l�chargement des documents:', error);\n      toast.error(error.message || 'Erreur lors du t�l�chargement des documents');\n      \n      // R�initialiser le statut des documents en cours de t�l�chargement\n      setDocuments(prev => \n        prev.map(doc => doc.uploading ? { ...doc, uploading: false, error: 'Echec du t�l�chargement' } : doc)\n      );\n    } finally {\n      setUploadingDocuments(false);\n    }\n  };\n\n  // Supprimer un document de la liste\n  const removeDocument = (index) => {\n    const doc = documents[index];\n    \n    // Si le document a une pr�visualisation, lib�rer la m�moire\n    if (doc.preview) {\n      URL.revokeObjectURL(doc.preview);\n    }\n    \n    // Supprimer le document de la liste\n    setDocuments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Ajouter une sp�cialit�\n  const addSpecialite = () => {\n    if (newSpecialite.trim() === '') return;\n    \n    if (!specialites.includes(newSpecialite)) {\n      setSpecialites([...specialites, newSpecialite]);\n      formik.setFieldValue('specialites', [...specialites, newSpecialite]);\n    }\n    \n    setNewSpecialite('');\n  };\n\n  // Supprimer une sp�cialit�\n  const removeSpecialite = (index) => {\n    const newSpecialites = [...specialites];\n    newSpecialites.splice(index, 1);\n    setSpecialites(newSpecialites);\n    formik.setFieldValue('specialites', newSpecialites);\n  };\n\n  // Nettoyer les pr�visualisations lors du d�montage du composant\n  useEffect(() => {\n    return () => {\n      // Nettoyer les pr�visualisations de documents\n      documents.forEach(doc => {\n        if (doc.preview) {\n          URL.revokeObjectURL(doc.preview);\n        }\n      });\n      \n      // Nettoyer la pr�visualisation de la photo de profil\n      if (formik.values.photoPreview) {\n        URL.revokeObjectURL(formik.values.photoPreview);\n      }\n    };\n  }, [documents, formik.values.photoPreview]);\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate\">\n            Modifier mon profil\n          </h1>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Button\n            to=\"/profile\"\n            variant=\"outline\"\n          >\n            Annuler\n          </Button>\n        </div>\n      </div>\n\n      {/* Onglets */}\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"flex -mb-px\">\n          <button\n            className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'profile'\n                ? 'border-teal-500 text-teal-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('profile')}\n          >\n            Informations personnelles\n          </button>\n          <button\n            className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'password'\n                ? 'border-teal-500 text-teal-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('password')}\n          >\n            Changer le mot de passe\n          </button>\n          {user?.role === 'transporteur' && (\n            <button\n              className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'documents'\n                  ? 'border-teal-500 text-teal-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              onClick={() => setActiveTab('documents')}\n            >\n              Documents et v�rification\n            </button>\n          )}\n        </nav>\n      </div>\n\n      {/* Formulaire du profil */}\n      {activeTab === 'profile' && (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <form onSubmit={formik.handleSubmit}>\n              <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n                {/* Photo de profil */}\n                <div className=\"sm:col-span-6\">\n                  <label className=\"block text-sm font-medium text-gray-700\">Photo de profil</label>\n                  <div className=\"mt-2 flex items-center\">\n                    <div className=\"h-20 w-20 rounded-full overflow-hidden bg-gray-100\">\n                      {formik.values.photoPreview ? (\n                        <img\n                          src={formik.values.photoPreview}\n                          alt=\"Pr�visualisation\"\n                          className=\"h-full w-full object-cover\"\n                        />\n                      ) : user?.photo ? (\n                        <img\n                          src={user.photo}\n                          alt={`${user.prenom} ${user.nom}`}\n                          className=\"h-full w-full object-cover\"\n                        />\n                      ) : (\n                        <UserIcon className=\"h-full w-full text-gray-300 p-4\" />\n                      )}\n                    </div>\n                    <div {...getPhotoRootProps()} className=\"ml-5\">\n                      <input {...getPhotoInputProps()} />\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        disabled={uploadingPhoto}\n                      >\n                        {uploadingPhoto ? 'T�l�chargement...' : 'Changer'}\n                      </Button>\n                    </div>\n                  </div>\n                  <p className=\"mt-2 text-xs text-gray-500\">\n                    JPG, PNG ou GIF. 5 MB maximum.\n                  </p>\n                </div>\n\n                {/* Pr�nom */}\n                <div className=\"sm:col-span-3\">\n                  <Input\n                    id=\"prenom\"\n                    name=\"prenom\"\n                    type=\"text\"\n                    label=\"Pr�nom\"\n                    value={formik.values.prenom}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.prenom && formik.errors.prenom}\n                    touched={formik.touched.prenom}\n                    icon={<UserIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                  />\n                </div>\n\n                {/* Nom */}\n                <div className=\"sm:col-span-3\">\n                  <Input\n                    id=\"nom\"\n                    name=\"nom\"\n                    type=\"text\"\n                    label=\"Nom\"\n                    value={formik.values.nom}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.nom && formik.errors.nom}\n                    touched={formik.touched.nom}\n                    icon={<UserIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                  />\n                </div>\n\n                {/* Email */}\n                <div className=\"sm:col-span-3\">\n                  <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    label=\"Adresse email\"\n                    value={formik.values.email}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    disabled\n                    icon={<EnvelopeIcon className=\"h-5 w-5 text-gray-400\" />}\n                    helperText=\"Vous ne pouvez pas modifier votre adresse email\"\n                  />\n                </div>\n\n                {/* T�l�phone */}\n                <div className=\"sm:col-span-3\">\n                  <Input\n                    id=\"telephone\"\n                    name=\"telephone\"\n                    type=\"tel\"\n                    label=\"Num�ro de t�l�phone\"\n                    value={formik.values.telephone}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.telephone && formik.errors.telephone}\n                    touched={formik.touched.telephone}\n                    icon={<PhoneIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                  />\n                </div>\n\n                {/* Adresse */}\n                <div className=\"sm:col-span-6\">\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Adresse</h3>\n                </div>\n\n                {/* Rue */}\n                <div className=\"sm:col-span-6\">\n                  <Input\n                    id=\"adresse.rue\"\n                    name=\"adresse.rue\"\n                    type=\"text\"\n                    label=\"Adresse\"\n                    value={formik.values.adresse.rue}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={\n                      formik.touched.adresse?.rue && formik.errors.adresse?.rue\n                    }\n                    touched={formik.touched.adresse?.rue}\n                    icon={<MapPinIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                  />\n                </div>\n\n                {/* Code postal */}\n                <div className=\"sm:col-span-2\">\n                  <Input\n                    id=\"adresse.codePostal\"\n                    name=\"adresse.codePostal\"\n                    type=\"text\"\n                    label=\"Code postal\"\n                    value={formik.values.adresse.codePostal}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={\n                      formik.touched.adresse?.codePostal && formik.errors.adresse?.codePostal\n                    }\n                    touched={formik.touched.adresse?.codePostal}\n                    required\n                  />\n                </div>\n\n                {/* Ville */}\n                <div className=\"sm:col-span-2\">\n                  <Input\n                    id=\"adresse.ville\"\n                    name=\"adresse.ville\"\n                    type=\"text\"\n                    label=\"Ville\"\n                    value={formik.values.adresse.ville}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={\n                      formik.touched.adresse?.ville && formik.errors.adresse?.ville\n                    }\n                    touched={formik.touched.adresse?.ville}\n                    required\n                  />\n                </div>\n\n                {/* Pays */}\n                <div className=\"sm:col-span-2\">\n                  <Input\n                    id=\"adresse.pays\"\n                    name=\"adresse.pays\"\n                    type=\"text\"\n                    label=\"Pays\"\n                    value={formik.values.adresse.pays}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={\n                      formik.touched.adresse?.pays && formik.errors.adresse?.pays\n                    }\n                    touched={formik.touched.adresse?.pays}\n                    required\n                  />\n                </div>\n\n                {/* A propos de moi */}\n                <div className=\"sm:col-span-6\">\n                  <label htmlFor=\"aboutMe\" className=\"block text-sm font-medium text-gray-700\">\n                    A propos de moi\n                  </label>\n                  <div className=\"mt-1\">\n                    <textarea\n                      id=\"aboutMe\"\n                      name=\"aboutMe\"\n                      rows=\"3\"\n                      className=\"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                      value={formik.values.aboutMe}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                    ></textarea>\n                  </div>\n                  <p className=\"mt-2 text-sm text-gray-500\">\n                    Une br�ve description de vous-m�me. {formik.values.aboutMe?.length || 0}/500 caract�res.\n                  </p>\n                  {formik.touched.aboutMe && formik.errors.aboutMe && (\n                    <p className=\"mt-2 text-sm text-red-600\">{formik.errors.aboutMe}</p>\n                  )}\n                </div>\n\n                {/* Champs sp�cifiques aux transporteurs */}\n                {user?.role === 'transporteur' && (\n                  <>\n                    <div className=\"sm:col-span-6\">\n                      <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Informations professionnelles</h3>\n                    </div>\n\n                    {/* Type de transporteur */}\n                    <div className=\"sm:col-span-3\">\n                      <label htmlFor=\"typeTransporteur\" className=\"block text-sm font-medium text-gray-700\">\n                        Type de transporteur\n                      </label>\n                      <select\n                        id=\"typeTransporteur\"\n                        name=\"typeTransporteur\"\n                        className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md\"\n                        value={formik.values.typeTransporteur}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                      >\n                        <option value=\"\">S�lectionnez un type</option>\n                        <option value=\"independant\">Ind�pendant</option>\n                        <option value=\"entreprise\">Entreprise</option>\n                        <option value=\"autoentrepreneur\">Auto-entrepreneur</option>\n                      </select>\n                    </div>\n\n                    {/* Disponibilit� */}\n                    <div className=\"sm:col-span-3\">\n                      <label htmlFor=\"disponibilite\" className=\"block text-sm font-medium text-gray-700\">\n                        Disponibilit�\n                      </label>\n                      <select\n                        id=\"disponibilite\"\n                        name=\"disponibilite\"\n                        className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md\"\n                        value={formik.values.disponibilite}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                      >\n                        <option value=\"\">S�lectionnez une disponibilit�</option>\n                        <option value=\"temps_plein\">Temps plein</option>\n                        <option value=\"temps_partiel\">Temps partiel</option>\n                        <option value=\"weekends\">Weekends uniquement</option>\n                        <option value=\"sur_demande\">Sur demande</option>\n                      </select>\n                    </div>\n\n                    {/* Sp�cialit�s */}\n                    <div className=\"sm:col-span-6\">\n                      <label className=\"block text-sm font-medium text-gray-700\">\n                        Sp�cialit�s\n                      </label>\n                      <div className=\"mt-2\">\n                        <div className=\"flex flex-wrap gap-2 mb-3\">\n                          {specialites.map((specialite, index) => (\n                            <div\n                              key={index}\n                              className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-teal-100 text-teal-800\"\n                            >\n                              {specialite}\n                              <button\n                                type=\"button\"\n                                onClick={() => removeSpecialite(index)}\n                                className=\"ml-1.5 h-5 w-5 inline-flex items-center justify-center rounded-full text-teal-500 hover:bg-teal-200 hover:text-teal-600 focus:outline-none\"\n                              >\n                                <XMarkIcon className=\"h-4 w-4\" />\n                              </button>\n                            </div>\n                          ))}\n                        </div>\n                        <div className=\"flex\">\n                          <input\n                            type=\"text\"\n                            value={newSpecialite}\n                            onChange={(e) => setNewSpecialite(e.target.value)}\n                            placeholder=\"Ajouter une sp�cialit�\"\n                            className=\"block w-full rounded-l-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={addSpecialite}\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500\"\n                          >\n                            <PlusIcon className=\"h-5 w-5\" />\n                          </button>\n                        </div>\n                      </div>\n                      <p className=\"mt-2 text-sm text-gray-500\">\n                        Indiquez vos domaines d'expertise (ex: d�m�nagement, transport de meuble, international...)\n                      </p>\n                    </div>\n                  </>\n                )}\n              </div>\n\n              <div className=\"pt-5\">\n                <div className=\"flex justify-end\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => navigate('/profile')}\n                    className=\"mr-3\"\n                  >\n                    Annuler\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                    isLoading={loading}\n                    disabled={loading}\n                  >\n                    Enregistrer\n                  </Button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Formulaire de changement de mot de passe */}\n      {activeTab === 'password' && (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <form onSubmit={passwordFormik.handleSubmit}>\n              <div className=\"space-y-6\">\n                <div>\n                  <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Changer le mot de passe</h3>\n                  <p className=\"mt-1 text-sm text-gray-500\">\n                    Assurez-vous d'utiliser un mot de passe fort et unique que vous n'utilisez pas pour d'autres sites.\n                  </p>\n                </div>\n\n                <div className=\"space-y-4\">\n                  {/* Mot de passe actuel */}\n                  <Input\n                    id=\"currentPassword\"\n                    name=\"currentPassword\"\n                    type=\"password\"\n                    label=\"Mot de passe actuel\"\n                    value={passwordFormik.values.currentPassword}\n                    onChange={passwordFormik.handleChange}\n                    onBlur={passwordFormik.handleBlur}\n                    error={\n                      passwordFormik.touched.currentPassword && passwordFormik.errors.currentPassword\n                    }\n                    touched={passwordFormik.touched.currentPassword}\n                    icon={<LockClosedIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                  />\n\n                  {/* Nouveau mot de passe */}\n                  <Input\n                    id=\"newPassword\"\n                    name=\"newPassword\"\n                    type=\"password\"\n                    label=\"Nouveau mot de passe\"\n                    value={passwordFormik.values.newPassword}\n                    onChange={passwordFormik.handleChange}\n                    onBlur={passwordFormik.handleBlur}\n                    error={\n                      passwordFormik.touched.newPassword && passwordFormik.errors.newPassword\n                    }\n                    touched={passwordFormik.touched.newPassword}\n                    icon={<LockClosedIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                    helperText=\"Au moins 8 caract�res, incluant une majuscule, une minuscule et un chiffre.\"\n                  />\n\n                  {/* Confirmation du mot de passe */}\n                  <Input\n                    id=\"confirmPassword\"\n                    name=\"confirmPassword\"\n                    type=\"password\"\n                    label=\"Confirmer le mot de passe\"\n                    value={passwordFormik.values.confirmPassword}\n                    onChange={passwordFormik.handleChange}\n                    onBlur={passwordFormik.handleBlur}\n                    error={\n                      passwordFormik.touched.confirmPassword && passwordFormik.errors.confirmPassword\n                    }\n                    touched={passwordFormik.touched.confirmPassword}\n                    icon={<LockClosedIcon className=\"h-5 w-5 text-gray-400\" />}\n                    required\n                  />\n                </div>\n\n                <div className=\"pt-5\">\n                  <div className=\"flex justify-end\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => passwordFormik.resetForm()}\n                      className=\"mr-3\"\n                    >\n                      Annuler\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      variant=\"primary\"\n                      isLoading={loading}\n                      disabled={loading}\n                    >\n                      Mettre � jour le mot de passe\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Section documents et v�rification pour les transporteurs */}\n      {activeTab === 'documents' && user?.role === 'transporteur' && (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <div>\n              <h3 className=\"text-lg font-medium leading-6 text-gray-900\">Documents et v�rification</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                T�l�chargez vos documents professionnels pour la v�rification de votre compte. Cela augmentera votre visibilit� et la confiance des clients.\n              </p>\n            </div>\n\n            <div className=\"mt-6\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                T�l�charger des documents\n              </label>\n              <div className=\"mt-2\">\n                <div\n                  {...getDocumentRootProps()}\n                  className=\"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\"\n                >\n                  <div className=\"space-y-1 text-center\">\n                    <svg\n                      className=\"mx-auto h-12 w-12 text-gray-400\"\n                      stroke=\"currentColor\"\n                      fill=\"none\"\n                      viewBox=\"0 0 48 48\"\n                      aria-hidden=\"true\"\n                    >\n                      <path\n                        d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                        strokeWidth=\"2\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                    </svg>\n                    <div className=\"flex text-sm text-gray-600\">\n                      <label className=\"relative cursor-pointer bg-white rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-teal-500\">\n                        <span>T�l�charger un fichier</span>\n                        <input {...getDocumentInputProps()} />\n                      </label>\n                      <p className=\"pl-1\">ou glisser-d�poser</p>\n                    </div>\n                    <p className=\"text-xs text-gray-500\">\n                      PDF, PNG, JPG, DOC jusqu'� 10MB\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Liste des documents */}\n            {documents.length > 0 && (\n              <div className=\"mt-6\">\n                <h4 className=\"text-sm font-medium text-gray-700\">Documents � t�l�charger</h4>\n                <ul className=\"mt-3 divide-y divide-gray-200\">\n                  {documents.map((doc, index) => (\n                    <li key={index} className=\"py-3 flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        {doc.preview ? (\n                          <img\n                            src={doc.preview}\n                            alt={doc.name}\n                            className=\"h-10 w-10 object-cover rounded\"\n                          />\n                        ) : (\n                          <div className=\"h-10 w-10 flex items-center justify-center bg-gray-100 rounded\">\n                            <svg\n                              className=\"h-6 w-6 text-gray-400\"\n                              xmlns=\"http://www.w3.org/2000/svg\"\n                              fill=\"none\"\n                              viewBox=\"0 0 24 24\"\n                              stroke=\"currentColor\"\n                            >\n                              <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth=\"2\"\n                                d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\"\n                              />\n                            </svg>\n                          </div>\n                        )}\n                        <div className=\"ml-3\">\n                          <p className=\"text-sm font-medium text-gray-900 truncate\" style={{ maxWidth: '200px' }}>\n                            {doc.name}\n                          </p>\n                          <p className=\"text-xs text-gray-500\">\n                            {doc.uploading\n                              ? 'T�l�chargement en cours...'\n                              : doc.uploaded\n                              ? 'T�l�charg� avec succ�s'\n                              : doc.error\n                              ? doc.error\n                              : 'En attente de t�l�chargement'}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"ml-4 flex-shrink-0\">\n                        {doc.uploading ? (\n                          <div className=\"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-teal-500\"></div>\n                        ) : doc.uploaded ? (\n                          <CheckCircleIcon className=\"h-5 w-5 text-green-500\" />\n                        ) : (\n                          <button\n                            type=\"button\"\n                            onClick={() => removeDocument(index)}\n                            className=\"text-red-500 hover:text-red-700\"\n                          >\n                            <XMarkIcon className=\"h-5 w-5\" />\n                          </button>\n                        )}\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n\n                {documents.some(doc => !doc.uploaded && !doc.uploading) && (\n                  <div className=\"mt-4\">\n                    <Button\n                      type=\"button\"\n                      variant=\"primary\"\n                      onClick={handleDocumentsUpload}\n                      isLoading={uploadingDocuments}\n                      disabled={uploadingDocuments}\n                    >\n                      T�l�charger les documents\n                    </Button>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Documents d�j� t�l�charg�s */}\n            {user?.documents && user.documents.length > 0 && (\n              <div className=\"mt-8\">\n                <h4 className=\"text-sm font-medium text-gray-700\">Documents t�l�charg�s</h4>\n                <ul className=\"mt-3 divide-y divide-gray-200\">\n                  {user.documents.map((doc, index) => (\n                    <li key={index} className=\"py-3 flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className=\"h-10 w-10 flex items-center justify-center bg-gray-100 rounded\">\n                          <svg\n                            className=\"h-6 w-6 text-gray-400\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth=\"2\"\n                              d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\"\n                            />\n                          </svg>\n                        </div>\n                        <div className=\"ml-3\">\n                          <p className=\"text-sm font-medium text-gray-900\">\n                            {doc.name || `Document ${index + 1}`}\n                          </p>\n                          <p className=\"text-xs text-gray-500\">\n                            {new Date(doc.uploadedAt).toLocaleDateString('fr-FR')}\n                            {doc.verified && ' - V�rifi�'}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"ml-4 flex-shrink-0\">\n                        {doc.verified ? (\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                            V�rifi�\n                          </span>\n                        ) : (\n                          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n                            En attente\n                          </span>\n                        )}\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EditProfilePage;","import apiClient from '../api/client';\r\n\r\n// Service pour la gestion des annonces\r\nconst annonceService = {\r\n  // Récupérer toutes les annonces avec filtres optionnels\r\n  getAnnonces: async (filters = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/annonces', { params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des annonces' };\r\n    }\r\n  },\r\n\r\n  // Récupérer une annonce par son ID\r\n  getAnnonceById: async (id) => {\r\n    try {\r\n      const response = await apiClient.get(`/annonces/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération de l\\'annonce' };\r\n    }\r\n  },\r\n\r\n  // Créer une nouvelle annonce\r\n  createAnnonce: async (annonceData) => {\r\n    try {\r\n      const response = await apiClient.post('/annonces', annonceData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la création de l\\'annonce' };\r\n    }\r\n  },\r\n\r\n  // Mettre à jour une annonce existante\r\n  updateAnnonce: async (id, annonceData) => {\r\n    try {\r\n      const response = await apiClient.put(`/annonces/${id}`, annonceData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la mise à jour de l\\'annonce' };\r\n    }\r\n  },\r\n\r\n  // Supprimer une annonce\r\n  deleteAnnonce: async (id) => {\r\n    try {\r\n      const response = await apiClient.delete(`/annonces/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la suppression de l\\'annonce' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les annonces de l'utilisateur connecté\r\n  getMesAnnonces: async (filters = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/annonces/user/mes-annonces', { params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération de vos annonces' };\r\n    }\r\n  },\r\n\r\n  // Uploader des images pour une annonce\r\n  uploadImages: async (id, formData) => {\r\n    try {\r\n      const response = await apiClient.post(`/annonces/${id}/upload`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors du téléchargement des images' };\r\n    }\r\n  },\r\n};\r\n\r\nexport default annonceService;","// frontend/src/utils/formatters.js\r\nimport { format, parseISO, formatDistance as dateFnsFormatDistance, formatDistanceToNow } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\n\r\n/**\r\n * Formatage de date au format français\r\n * @param {string|Date} date - Date à formater\r\n * @param {string} formatStr - Format de date (ex: 'dd/MM/yyyy')\r\n * @returns {string} - Date formatée\r\n */\r\nexport const formatDate = (date, formatStr = 'dd/MM/yyyy') => {\r\n  if (!date) return '';\r\n  \r\n  try {\r\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n    return format(dateObj, formatStr, { locale: fr });\r\n  } catch (error) {\r\n    console.error('Erreur de formatage de date:', error);\r\n    return '';\r\n  }\r\n};\r\n\r\n/**\r\n * Convertit une date en formulation relative (ex: \"il y a 2 jours\")\r\n * @param {string|Date} date - Date à convertir\r\n * @param {Object} options - Options supplémentaires\r\n * @returns {string} - Date relative\r\n */\r\nexport const formatRelativeDate = (date, options = {}) => {\r\n  if (!date) return '';\r\n  \r\n  try {\r\n    const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n    return formatDistanceToNow(dateObj, {\r\n      addSuffix: true,\r\n      locale: fr,\r\n      ...options\r\n    });\r\n  } catch (error) {\r\n    console.error('Erreur de formatage de date relative:', error);\r\n    return '';\r\n  }\r\n};\r\n\r\n/**\r\n * Formate un montant en euros\r\n * @param {number} amount - Montant à formater\r\n * @param {Object} options - Options de formatage\r\n * @returns {string} - Montant formaté\r\n */\r\nexport const formatCurrency = (amount, options = {}) => {\r\n  if (amount === undefined || amount === null) return '';\r\n  \r\n  const formatter = new Intl.NumberFormat('fr-FR', {\r\n    style: 'currency',\r\n    currency: 'EUR',\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n    ...options\r\n  });\r\n  \r\n  return formatter.format(amount);\r\n};\r\n\r\n/**\r\n * Tronque un texte à une certaine longueur en ajoutant \"...\" si nécessaire\r\n * @param {string} text - Texte à tronquer\r\n * @param {number} maxLength - Longueur maximale\r\n * @returns {string} - Texte tronqué\r\n */\r\nexport const truncateText = (text, maxLength = 100) => {\r\n  if (!text) return '';\r\n  if (text.length <= maxLength) return text;\r\n  \r\n  return text.substring(0, maxLength) + '...';\r\n};\r\n\r\n/**\r\n * Formate un numéro de téléphone français\r\n * @param {string} phone - Numéro de téléphone\r\n * @returns {string} - Numéro formaté\r\n */\r\nexport const formatPhoneNumber = (phone) => {\r\n  if (!phone) return '';\r\n  \r\n  // Nettoyer le numéro (garder uniquement les chiffres)\r\n  const cleaned = ('' + phone).replace(/\\D/g, '');\r\n  \r\n  // Format français: XX XX XX XX XX\r\n  if (cleaned.length === 10) {\r\n    return cleaned.replace(/(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/, '$1 $2 $3 $4 $5');\r\n  }\r\n  \r\n  // Si le format n'est pas reconnu, retourner tel quel\r\n  return phone;\r\n};\r\n\r\n/**\r\n * Formate une distance en kilomètres\r\n * @param {number} distance - Distance en kilomètres\r\n * @returns {string} - Distance formatée\r\n */\r\nexport const formatDistanceKm = (distance) => {\r\n  if (distance === undefined || distance === null) return '';\r\n  \r\n  if (distance < 1) {\r\n    // Convertir en mètres\r\n    const meters = Math.round(distance * 1000);\r\n    return `${meters} m`;\r\n  }\r\n  \r\n  if (distance >= 1000) {\r\n    // Formater avec une décimale pour les grandes distances\r\n    return `${(distance / 1000).toFixed(1)} km`;\r\n  }\r\n  \r\n  // Formater avec une décimale pour les kilomètres\r\n  return `${distance.toFixed(1)} km`;\r\n};\r\n\r\n/**\r\n * Formate un nom complet\r\n * @param {Object} user - Utilisateur\r\n * @param {string} user.nom - Nom\r\n * @param {string} user.prenom - Prénom\r\n * @returns {string} - Nom complet\r\n */\r\nexport const formatFullName = (user) => {\r\n  if (!user) return '';\r\n  \r\n  const { nom, prenom } = user;\r\n  if (!nom && !prenom) return '';\r\n  \r\n  if (!nom) return prenom;\r\n  if (!prenom) return nom;\r\n  \r\n  return `${prenom} ${nom}`;\r\n};","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  PlusIcon, \n  PencilIcon, \n  TrashIcon, \n  ArrowPathIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  EyeIcon,\n  ExclamationCircleIcon,\n  XMarkIcon \n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport annonceService from '../../../services/annonceService';\nimport Button from '../../../components/ui/Button';\nimport { STATUT_ANNONCE_LABELS, STATUT_ANNONCE_COLORS } from '../../../utils/constants';\nimport { formatDate } from '../../../utils/formatters';\n\nconst MesAnnoncesPage = () => {\n  const [annonces, setAnnonces] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [deleting, setDeleting] = useState(false);\n  const [annonceToDelete, setAnnonceToDelete] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  \n  // Etats pour la pagination et le filtrage\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [filter, setFilter] = useState('all');\n\n  // Chargement des annonces\n  useEffect(() => {\n    const fetchAnnonces = async () => {\n      try {\n        setLoading(true);\n        \n        // Pr�paration des filtres\n        const filters = { page };\n        if (filter !== 'all') {\n          filters.statut = filter;\n        }\n        \n        const response = await annonceService.getMesAnnonces(filters);\n        setAnnonces(response.data.data);\n        setTotalPages(response.data.pages);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des annonces:', err);\n        setError('Impossible de charger vos annonces');\n        toast.error('Erreur lors du chargement des annonces');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAnnonces();\n  }, [page, filter]);\n\n  // G�rer le changement de filtre\n  const handleFilterChange = (newFilter) => {\n    setFilter(newFilter);\n    setPage(1); // R�initialiser la pagination lors du changement de filtre\n  };\n\n  // G�rer la suppression d'une annonce\n  const handleDelete = async () => {\n    if (!annonceToDelete) return;\n    \n    try {\n      setDeleting(true);\n      await annonceService.deleteAnnonce(annonceToDelete);\n      \n      // Rafra�chir la liste des annonces\n      setAnnonces(annonces.filter(annonce => annonce._id !== annonceToDelete));\n      toast.success('Annonce supprim�e avec succ�s');\n      \n      // Fermer le modal\n      setShowDeleteModal(false);\n      setAnnonceToDelete(null);\n    } catch (err) {\n      console.error('Erreur lors de la suppression de l\\'annonce:', err);\n      toast.error(err.message || 'Erreur lors de la suppression de l\\'annonce');\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  // Afficher le statut de l'annonce avec la bonne couleur\n  const renderStatus = (statut) => {\n    const statusClass = STATUT_ANNONCE_COLORS[statut] || 'bg-gray-100 text-gray-800';\n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}`}>\n        {STATUT_ANNONCE_LABELS[statut] || statut}\n      </span>\n    );\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n            Mes annonces\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            G�rez vos demandes de transport\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              setPage(1);\n              const fetchAnnonces = async () => {\n                try {\n                  setLoading(true);\n                  const filters = { page: 1 };\n                  if (filter !== 'all') {\n                    filters.statut = filter;\n                  }\n                  \n                  const response = await annonceService.getMesAnnonces(filters);\n                  setAnnonces(response.data.data);\n                  setTotalPages(response.data.pages);\n                  setError(null);\n                  toast.success('Annonces actualis�es');\n                } catch (err) {\n                  console.error('Erreur lors du chargement des annonces:', err);\n                  setError('Impossible de charger vos annonces');\n                  toast.error('Erreur lors du chargement des annonces');\n                } finally {\n                  setLoading(false);\n                }\n              };\n              fetchAnnonces();\n            }}\n            className=\"mr-3\"\n          >\n            <ArrowPathIcon className=\"h-5 w-5 mr-1\" />\n            Actualiser\n          </Button>\n          <Button\n            to=\"/dashboard/annonces/create\"\n            variant=\"primary\"\n          >\n            <PlusIcon className=\"h-5 w-5 mr-1\" />\n            Nouvelle annonce\n          </Button>\n        </div>\n      </div>\n\n      {/* Filtres */}\n      <div className=\"bg-white shadow rounded-lg p-4 mb-6\">\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            className={`px-3 py-1 rounded-md text-sm font-medium ${\n              filter === 'all'\n                ? 'bg-teal-100 text-teal-800'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n            onClick={() => handleFilterChange('all')}\n          >\n            Toutes\n          </button>\n          <button\n            className={`px-3 py-1 rounded-md text-sm font-medium ${\n              filter === 'disponible'\n                ? 'bg-teal-100 text-teal-800'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n            onClick={() => handleFilterChange('disponible')}\n          >\n            Disponibles\n          </button>\n          <button\n            className={`px-3 py-1 rounded-md text-sm font-medium ${\n              filter === 'en_attente'\n                ? 'bg-teal-100 text-teal-800'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n            onClick={() => handleFilterChange('en_attente')}\n          >\n            En attente\n          </button>\n          <button\n            className={`px-3 py-1 rounded-md text-sm font-medium ${\n              filter === 'en_cours'\n                ? 'bg-teal-100 text-teal-800'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n            onClick={() => handleFilterChange('en_cours')}\n          >\n            En cours\n          </button>\n          <button\n            className={`px-3 py-1 rounded-md text-sm font-medium ${\n              filter === 'termine'\n                ? 'bg-teal-100 text-teal-800'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n            onClick={() => handleFilterChange('termine')}\n          >\n            Termin�es\n          </button>\n          <button\n            className={`px-3 py-1 rounded-md text-sm font-medium ${\n              filter === 'annule'\n                ? 'bg-teal-100 text-teal-800'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n            onClick={() => handleFilterChange('annule')}\n          >\n            Annul�es\n          </button>\n        </div>\n      </div>\n\n      {/* Liste des annonces */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n        {loading ? (\n          <div className=\"px-4 py-12 text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-teal-500\"></div>\n            <p className=\"mt-2 text-sm text-gray-500\">Chargement des annonces...</p>\n          </div>\n        ) : error ? (\n          <div className=\"px-4 py-6 text-center\">\n            <ExclamationCircleIcon className=\"mx-auto h-12 w-12 text-red-500\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Erreur</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">{error}</p>\n            <div className=\"mt-6\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setPage(1);\n                  const fetchAnnonces = async () => {\n                    try {\n                      setLoading(true);\n                      const filters = { page: 1 };\n                      if (filter !== 'all') {\n                        filters.statut = filter;\n                      }\n                      \n                      const response = await annonceService.getMesAnnonces(filters);\n                      setAnnonces(response.data.data);\n                      setTotalPages(response.data.pages);\n                      setError(null);\n                    } catch (err) {\n                      console.error('Erreur lors du chargement des annonces:', err);\n                      setError('Impossible de charger vos annonces');\n                      toast.error('Erreur lors du chargement des annonces');\n                    } finally {\n                      setLoading(false);\n                    }\n                  };\n                  fetchAnnonces();\n                }}\n              >\n                R�essayer\n              </Button>\n            </div>\n          </div>\n        ) : annonces.length === 0 ? (\n          <div className=\"px-4 py-12 text-center\">\n            <svg\n              className=\"mx-auto h-12 w-12 text-gray-400\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                vectorEffect=\"non-scaling-stroke\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\"\n              />\n            </svg>\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Aucune annonce</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Commencez par cr�er une nouvelle annonce.\n            </p>\n            <div className=\"mt-6\">\n              <Button\n                to=\"/dashboard/annonces/create\"\n                variant=\"primary\"\n              >\n                <PlusIcon className=\"h-5 w-5 mr-1\" />\n                Nouvelle annonce\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th\n                      scope=\"col\"\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      Annonce\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      Trajet\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      Date\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      Statut\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      Devis\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                    >\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {annonces.map((annonce) => (\n                    <tr key={annonce._id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-10 w-10 bg-gray-100 rounded-lg flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-gray-700 uppercase\">\n                              {annonce.typeTransport?.charAt(0) || 'A'}\n                            </span>\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900 truncate max-w-xs\">\n                              {annonce.titre}\n                            </div>\n                            <div className=\"text-sm text-gray-500 capitalize\">\n                              {annonce.typeTransport}\n                            </div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">{annonce.villeDepart}</div>\n                        <div className=\"text-sm text-gray-500\">{annonce.villeArrivee}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">\n                          {formatDate(annonce.dateDepart)}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {renderStatus(annonce.statut)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {annonce.nbDevis ? (\n                          <span className=\"font-medium text-teal-600\">{annonce.nbDevis}</span>\n                        ) : (\n                          <span>Aucun</span>\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex justify-end space-x-2\">\n                          <Link \n                            to={`/dashboard/annonces/${annonce._id}`}\n                            className=\"text-gray-600 hover:text-gray-900\"\n                            title=\"Voir les d�tails\"\n                          >\n                            <EyeIcon className=\"h-5 w-5\" />\n                          </Link>\n                          \n                          {annonce.statut === 'disponible' && (\n                            <>\n                              <Link \n                                to={`/dashboard/annonces/${annonce._id}/edit`}\n                                className=\"text-teal-600 hover:text-teal-900\"\n                                title=\"Modifier l'annonce\"\n                              >\n                                <PencilIcon className=\"h-5 w-5\" />\n                              </Link>\n                              \n                              <button\n                                type=\"button\"\n                                className=\"text-red-600 hover:text-red-900\"\n                                title=\"Supprimer l'annonce\"\n                                onClick={() => {\n                                  setAnnonceToDelete(annonce._id);\n                                  setShowDeleteModal(true);\n                                }}\n                              >\n                                <TrashIcon className=\"h-5 w-5\" />\n                              </button>\n                            </>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            \n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n                <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-700\">\n                      Affichage de la page <span className=\"font-medium\">{page}</span> sur{' '}\n                      <span className=\"font-medium\">{totalPages}</span>\n                    </p>\n                  </div>\n                  <div>\n                    <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\n                      <button\n                        onClick={() => setPage((prev) => Math.max(prev - 1, 1))}\n                        disabled={page === 1}\n                        className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\n                          page === 1\n                            ? 'text-gray-300 cursor-not-allowed'\n                            : 'text-gray-500 hover:bg-gray-50'\n                        }`}\n                      >\n                        <span className=\"sr-only\">Pr�c�dent</span>\n                        <ChevronLeftIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                      </button>\n                      \n                      {/* Pages */}\n                      {[...Array(totalPages)].map((_, index) => {\n                        const pageNum = index + 1;\n                        // Afficher seulement les pages pertinentes\n                        if (\n                          pageNum === 1 ||\n                          pageNum === totalPages ||\n                          (pageNum >= page - 1 && pageNum <= page + 1)\n                        ) {\n                          return (\n                            <button\n                              key={pageNum}\n                              onClick={() => setPage(pageNum)}\n                              className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                                page === pageNum\n                                  ? 'z-10 bg-teal-50 border-teal-500 text-teal-600'\n                                  : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                              }`}\n                            >\n                              {pageNum}\n                            </button>\n                          );\n                        } else if (\n                          (pageNum === 2 && page > 3) ||\n                          (pageNum === totalPages - 1 && page < totalPages - 2)\n                        ) {\n                          return (\n                            <span\n                              key={pageNum}\n                              className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\"\n                            >\n                              ...\n                            </span>\n                          );\n                        }\n                        return null;\n                      })}\n                      \n                      <button\n                        onClick={() => setPage((prev) => Math.min(prev + 1, totalPages))}\n                        disabled={page === totalPages}\n                        className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\n                          page === totalPages\n                            ? 'text-gray-300 cursor-not-allowed'\n                            : 'text-gray-500 hover:bg-gray-50'\n                        }`}\n                      >\n                        <span className=\"sr-only\">Suivant</span>\n                        <ChevronRightIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                      </button>\n                    </nav>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Modal de confirmation de suppression */}\n      {showDeleteModal && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                    <ExclamationCircleIcon className=\"h-6 w-6 text-red-600\" aria-hidden=\"true\" />\n                  </div>\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                      Supprimer l'annonce\n                    </h3>\n                    <div className=\"mt-2\">\n                      <p className=\"text-sm text-gray-500\">\n                        Etes-vous s�r de vouloir supprimer cette annonce ? Cette action est irr�versible.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <Button\n                  type=\"button\"\n                  variant=\"danger\"\n                  onClick={handleDelete}\n                  isLoading={deleting}\n                  disabled={deleting}\n                  className=\"sm:ml-3\"\n                >\n                  Supprimer\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowDeleteModal(false);\n                    setAnnonceToDelete(null);\n                  }}\n                  disabled={deleting}\n                  className=\"mt-3 sm:mt-0\"\n                >\n                  Annuler\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MesAnnoncesPage;","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport { CameraIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useDropzone } from 'react-dropzone';\n\nimport annonceService from '../../../services/annonceService';\nimport Input from '../../../components/ui/Input';\nimport Button from '../../../components/ui/Button';\n\nconst CreateAnnoncePage = () => {\n  const navigate = useNavigate();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [step, setStep] = useState(1);\n  const [photos, setPhotos] = useState([]);\n  const [previewPhotos, setPreviewPhotos] = useState([]);\n  const [showOptions, setShowOptions] = useState(false);\n\n  // Configuration de la dropzone pour les photos\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png']\n    },\n    maxSize: 5242880, // 5MB\n    maxFiles: 5,\n    onDrop: (acceptedFiles) => {\n      // Ajouter les nouveaux fichiers � la liste\n      setPhotos([...photos, ...acceptedFiles]);\n      \n      // Cr�er des URLs pour la pr�visualisation\n      const newPreviews = acceptedFiles.map(file => Object.assign(file, {\n        preview: URL.createObjectURL(file)\n      }));\n      setPreviewPhotos([...previewPhotos, ...newPreviews]);\n    }\n  });\n\n  // Supprimer une photo\n  const removePhoto = (index) => {\n    const newPhotos = [...photos];\n    const newPreviews = [...previewPhotos];\n    \n    // R�voquer l'URL de pr�visualisation pour �viter les fuites de m�moire\n    URL.revokeObjectURL(previewPhotos[index].preview);\n    \n    newPhotos.splice(index, 1);\n    newPreviews.splice(index, 1);\n    \n    setPhotos(newPhotos);\n    setPreviewPhotos(newPreviews);\n  };\n\n  // Sch�ma de validation avec Yup\n  const validationSchema = Yup.object({\n    titre: Yup.string()\n      .required('Le titre est obligatoire')\n      .max(100, 'Maximum 100 caract�res'),\n    description: Yup.string()\n      .required('La description est obligatoire')\n      .min(20, 'Minimum 20 caract�res'),\n    typeTransport: Yup.string()\n      .required('Le type de transport est obligatoire')\n      .oneOf(['colis', 'meuble', 'marchandise', 'palette', 'demenagement', 'vehicule', 'autre'], 'Type invalide'),\n    villeDepart: Yup.string()\n      .required('La ville de d�part est obligatoire'),\n    'adresseDepart.rue': Yup.string()\n      .required('L\\'adresse de d�part est obligatoire'),\n    'adresseDepart.codePostal': Yup.string()\n      .required('Le code postal de d�part est obligatoire')\n      .matches(/^[0-9]{5}$/, 'Le code postal doit contenir 5 chiffres'),\n    'adresseDepart.ville': Yup.string()\n      .required('La ville de d�part est obligatoire'),\n    villeArrivee: Yup.string()\n      .required('La ville d\\'arriv�e est obligatoire'),\n    'adresseArrivee.rue': Yup.string()\n      .required('L\\'adresse d\\'arriv�e est obligatoire'),\n    'adresseArrivee.codePostal': Yup.string()\n      .required('Le code postal d\\'arriv�e est obligatoire')\n      .matches(/^[0-9]{5}$/, 'Le code postal doit contenir 5 chiffres'),\n    'adresseArrivee.ville': Yup.string()\n      .required('La ville d\\'arriv�e est obligatoire'),\n    dateDepart: Yup.date()\n      .required('La date de d�part est obligatoire')\n      .min(new Date(), 'La date doit �tre dans le futur'),\n    flexibiliteDate: Yup.boolean(),\n    poids: Yup.number()\n      .positive('Le poids doit �tre positif'),\n    unite_poids: Yup.string()\n      .oneOf(['kg', 'tonnes'], 'Unit� de poids invalide'),\n    volume: Yup.number()\n      .positive('Le volume doit �tre positif'),\n    'dimensions.longueur': Yup.number()\n      .when('typeTransport', {\n        is: (val) => ['colis', 'meuble', 'marchandise', 'palette'].includes(val),\n        then: Yup.number().required('La longueur est obligatoire').positive()\n      }),\n    'dimensions.largeur': Yup.number()\n      .when('typeTransport', {\n        is: (val) => ['colis', 'meuble', 'marchandise', 'palette'].includes(val),\n        then: Yup.number().required('La largeur est obligatoire').positive()\n      }),\n    'dimensions.hauteur': Yup.number()\n      .when('typeTransport', {\n        is: (val) => ['colis', 'meuble', 'marchandise', 'palette'].includes(val),\n        then: Yup.number().required('La hauteur est obligatoire').positive()\n      }),\n    'dimensions.unite': Yup.string()\n      .oneOf(['cm', 'm'], 'Unit� de dimension invalide'),\n    nombreColis: Yup.number()\n      .when('typeTransport', {\n        is: 'colis',\n        then: Yup.number().required('Le nombre de colis est obligatoire').positive().integer()\n      }),\n    budget: Yup.number()\n      .positive('Le budget doit �tre positif'),\n    valeurDeclaree: Yup.number()\n      .positive('La valeur d�clar�e doit �tre positive'),\n    isUrgent: Yup.boolean(),\n    'optionsTransport.chargement': Yup.boolean(),\n    'optionsTransport.dechargement': Yup.boolean(),\n    'optionsTransport.montage': Yup.boolean(),\n    'optionsTransport.demontage': Yup.boolean(),\n    'optionsTransport.emballage': Yup.boolean(),\n    'optionsTransport.assurance': Yup.boolean(),\n    commentairesTransporteur: Yup.string()\n  });\n\n  // Initialisation du formulaire avec Formik\n  const formik = useFormik({\n    initialValues: {\n      titre: '',\n      description: '',\n      typeTransport: '',\n      villeDepart: '',\n      adresseDepart: {\n        rue: '',\n        codePostal: '',\n        ville: '',\n        pays: 'France'\n      },\n      villeArrivee: '',\n      adresseArrivee: {\n        rue: '',\n        codePostal: '',\n        ville: '',\n        pays: 'France'\n      },\n      dateDepart: new Date(Date.now() + 86400000), // Demain\n      dateArrivee: null,\n      flexibiliteDate: false,\n      poids: '',\n      unite_poids: 'kg',\n      volume: '',\n      dimensions: {\n        longueur: '',\n        largeur: '',\n        hauteur: '',\n        unite: 'cm'\n      },\n      nombreColis: 1,\n      contenuColis: [],\n      valeurDeclaree: 0,\n      budget: '',\n      optionsTransport: {\n        chargement: false,\n        dechargement: false,\n        montage: false,\n        demontage: false,\n        emballage: false,\n        assurance: false\n      },\n      commentairesTransporteur: '',\n      isUrgent: false\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setIsSubmitting(true);\n        \n        // Cr�er l'annonce\n        const response = await annonceService.createAnnonce(values);\n        const annonceId = response.data._id;\n        \n        // Si des photos ont �t� ajout�es, les uploader\n        if (photos.length > 0) {\n          const formData = new FormData();\n          photos.forEach(photo => {\n            formData.append('photos', photo);\n          });\n          \n          await annonceService.uploadImages(annonceId, formData);\n        }\n        \n        toast.success('Annonce cr��e avec succ�s');\n        navigate(`/dashboard/annonces/${annonceId}`);\n      } catch (error) {\n        toast.error(error.message || 'Erreur lors de la cr�ation de l\\'annonce');\n        console.error('Erreur de cr�ation d\\'annonce:', error);\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  });\n\n  // Validation sp�cifique � l'�tape en cours\n  const validateStep = () => {\n    let errors = {};\n    \n    if (step === 1) {\n      if (!formik.values.titre) errors.titre = 'Le titre est obligatoire';\n      if (!formik.values.description) errors.description = 'La description est obligatoire';\n      if (!formik.values.typeTransport) errors.typeTransport = 'Le type de transport est obligatoire';\n    } else if (step === 2) {\n      if (!formik.values.villeDepart) errors.villeDepart = 'La ville de d�part est obligatoire';\n      if (!formik.values.adresseDepart.rue) errors['adresseDepart.rue'] = 'L\\'adresse de d�part est obligatoire';\n      if (!formik.values.adresseDepart.codePostal) errors['adresseDepart.codePostal'] = 'Le code postal de d�part est obligatoire';\n      if (!formik.values.adresseDepart.ville) errors['adresseDepart.ville'] = 'La ville de d�part est obligatoire';\n      if (!formik.values.villeArrivee) errors.villeArrivee = 'La ville d\\'arriv�e est obligatoire';\n      if (!formik.values.adresseArrivee.rue) errors['adresseArrivee.rue'] = 'L\\'adresse d\\'arriv�e est obligatoire';\n      if (!formik.values.adresseArrivee.codePostal) errors['adresseArrivee.codePostal'] = 'Le code postal d\\'arriv�e est obligatoire';\n      if (!formik.values.adresseArrivee.ville) errors['adresseArrivee.ville'] = 'La ville d\\'arriv�e est obligatoire';\n    }\n    \n    return Object.keys(errors).length === 0;\n  };\n\n  // Passer � l'�tape suivante\n  const nextStep = () => {\n    if (validateStep()) {\n      setStep(step + 1);\n    } else {\n      toast.error('Veuillez remplir tous les champs obligatoires');\n    }\n  };\n\n  // Revenir � l'�tape pr�c�dente\n  const prevStep = () => {\n    setStep(step - 1);\n  };\n\n  // G�rer le changement de date de d�part\n  const handleDateDepartChange = (date) => {\n    formik.setFieldValue('dateDepart', date);\n  };\n\n  // G�rer le changement de date d'arriv�e\n  const handleDateArriveeChange = (date) => {\n    formik.setFieldValue('dateArrivee', date);\n  };\n\n  // Nettoyer les URLs de pr�visualisation avant le d�montage du composant\n  React.useEffect(() => {\n    return () => {\n      previewPhotos.forEach(photo => URL.revokeObjectURL(photo.preview));\n    };\n  }, [previewPhotos]);\n\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Publier une annonce</h1>\n        <p className=\"mt-2 text-gray-600\">\n          D�crivez votre besoin de transport en d�tail pour recevoir les meilleurs devis.\n        </p>\n      </div>\n\n      {/* Etapes de progression */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between\">\n          <div className={`flex-1 ${step >= 1 ? 'text-teal-600' : 'text-gray-400'}`}>\n            <div className=\"flex items-center\">\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center border-2 ${step >= 1 ? 'border-teal-600 bg-teal-100' : 'border-gray-300'}`}>\n                1\n              </div>\n              <span className=\"ml-2 text-sm font-medium\">Informations g�n�rales</span>\n            </div>\n          </div>\n          <div className={`h-1 flex-1 mx-2 ${step >= 2 ? 'bg-teal-600' : 'bg-gray-300'}`}></div>\n          <div className={`flex-1 ${step >= 2 ? 'text-teal-600' : 'text-gray-400'}`}>\n            <div className=\"flex items-center\">\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center border-2 ${step >= 2 ? 'border-teal-600 bg-teal-100' : 'border-gray-300'}`}>\n                2\n              </div>\n              <span className=\"ml-2 text-sm font-medium\">Adresses</span>\n            </div>\n          </div>\n          <div className={`h-1 flex-1 mx-2 ${step >= 3 ? 'bg-teal-600' : 'bg-gray-300'}`}></div>\n          <div className={`flex-1 ${step >= 3 ? 'text-teal-600' : 'text-gray-400'}`}>\n            <div className=\"flex items-center\">\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center border-2 ${step >= 3 ? 'border-teal-600 bg-teal-100' : 'border-gray-300'}`}>\n                3\n              </div>\n              <span className=\"ml-2 text-sm font-medium\">D�tails et options</span>\n            </div>\n          </div>\n          <div className={`h-1 flex-1 mx-2 ${step >= 4 ? 'bg-teal-600' : 'bg-gray-300'}`}></div>\n          <div className={`flex-1 ${step >= 4 ? 'text-teal-600' : 'text-gray-400'}`}>\n            <div className=\"flex items-center\">\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center border-2 ${step >= 4 ? 'border-teal-600 bg-teal-100' : 'border-gray-300'}`}>\n                4\n              </div>\n              <span className=\"ml-2 text-sm font-medium\">Photos</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <form onSubmit={formik.handleSubmit} className=\"card shadow-md rounded-lg\">\n        <div className=\"card-body\">\n          {/* Etape 1: Informations g�n�rales */}\n          {step === 1 && (\n            <div>\n              <h2 className=\"text-xl font-semibold mb-4\">Informations g�n�rales</h2>\n              \n              <div className=\"space-y-4\">\n                <Input\n                  id=\"titre\"\n                  name=\"titre\"\n                  label=\"Titre de l'annonce\"\n                  placeholder=\"Ex: Transport d'un canap� de Paris � Lyon\"\n                  value={formik.values.titre}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.titre && formik.errors.titre}\n                  touched={formik.touched.titre}\n                  required\n                />\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"description\" className=\"form-label\">\n                    Description d�taill�e\n                    <span className=\"text-red-500 ml-1\">*</span>\n                  </label>\n                  <textarea\n                    id=\"description\"\n                    name=\"description\"\n                    rows=\"5\"\n                    placeholder=\"D�crivez en d�tail ce que vous souhaitez transporter, avec toutes les informations utiles pour le transporteur.\"\n                    className={`form-control ${formik.touched.description && formik.errors.description ? 'border-red-300' : ''}`}\n                    value={formik.values.description}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                  ></textarea>\n                  {formik.touched.description && formik.errors.description && (\n                    <p className=\"form-error\">{formik.errors.description}</p>\n                  )}\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"typeTransport\" className=\"form-label\">\n                    Type de transport\n                    <span className=\"text-red-500 ml-1\">*</span>\n                  </label>\n                  <select\n                    id=\"typeTransport\"\n                    name=\"typeTransport\"\n                    className={`form-control ${formik.touched.typeTransport && formik.errors.typeTransport ? 'border-red-300' : ''}`}\n                    value={formik.values.typeTransport}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                  >\n                    <option value=\"\">S�lectionnez un type</option>\n                    <option value=\"colis\">Colis</option>\n                    <option value=\"meuble\">Meuble</option>\n                    <option value=\"marchandise\">Marchandise</option>\n                    <option value=\"palette\">Palette</option>\n                    <option value=\"demenagement\">D�m�nagement</option>\n                    <option value=\"vehicule\">V�hicule</option>\n                    <option value=\"autre\">Autre</option>\n                  </select>\n                  {formik.touched.typeTransport && formik.errors.typeTransport && (\n                    <p className=\"form-error\">{formik.errors.typeTransport}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Etape 2: Adresses */}\n          {step === 2 && (\n            <div>\n              <h2 className=\"text-xl font-semibold mb-4\">Adresses de d�part et d'arriv�e</h2>\n              \n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-medium mb-3\">Adresse de d�part</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <Input\n                    id=\"adresseDepart.rue\"\n                    name=\"adresseDepart.rue\"\n                    label=\"Adresse\"\n                    placeholder=\"Rue et num�ro\"\n                    value={formik.values.adresseDepart.rue}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseDepart?.rue && formik.errors.adresseDepart?.rue}\n                    touched={formik.touched.adresseDepart?.rue}\n                    required\n                  />\n                  \n                  <Input\n                    id=\"adresseDepart.codePostal\"\n                    name=\"adresseDepart.codePostal\"\n                    label=\"Code postal\"\n                    placeholder=\"Ex: 75001\"\n                    value={formik.values.adresseDepart.codePostal}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseDepart?.codePostal && formik.errors.adresseDepart?.codePostal}\n                    touched={formik.touched.adresseDepart?.codePostal}\n                    required\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                  <Input\n                    id=\"adresseDepart.ville\"\n                    name=\"adresseDepart.ville\"\n                    label=\"Ville\"\n                    placeholder=\"Ex: Paris\"\n                    value={formik.values.adresseDepart.ville}\n                    onChange={(e) => {\n                      formik.handleChange(e);\n                      formik.setFieldValue('villeDepart', e.target.value);\n                    }}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseDepart?.ville && formik.errors.adresseDepart?.ville}\n                    touched={formik.touched.adresseDepart?.ville}\n                    required\n                  />\n                  \n                  <Input\n                    id=\"adresseDepart.pays\"\n                    name=\"adresseDepart.pays\"\n                    label=\"Pays\"\n                    placeholder=\"Ex: France\"\n                    value={formik.values.adresseDepart.pays}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseDepart?.pays && formik.errors.adresseDepart?.pays}\n                    touched={formik.touched.adresseDepart?.pays}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"mt-8\">\n                <h3 className=\"text-lg font-medium mb-3\">Adresse d'arriv�e</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <Input\n                    id=\"adresseArrivee.rue\"\n                    name=\"adresseArrivee.rue\"\n                    label=\"Adresse\"\n                    placeholder=\"Rue et num�ro\"\n                    value={formik.values.adresseArrivee.rue}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseArrivee?.rue && formik.errors.adresseArrivee?.rue}\n                    touched={formik.touched.adresseArrivee?.rue}\n                    required\n                  />\n                  \n                  <Input\n                    id=\"adresseArrivee.codePostal\"\n                    name=\"adresseArrivee.codePostal\"\n                    label=\"Code postal\"\n                    placeholder=\"Ex: 69001\"\n                    value={formik.values.adresseArrivee.codePostal}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseArrivee?.codePostal && formik.errors.adresseArrivee?.codePostal}\n                    touched={formik.touched.adresseArrivee?.codePostal}\n                    required\n                  />\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                  <Input\n                    id=\"adresseArrivee.ville\"\n                    name=\"adresseArrivee.ville\"\n                    label=\"Ville\"\n                    placeholder=\"Ex: Lyon\"\n                    value={formik.values.adresseArrivee.ville}\n                    onChange={(e) => {\n                      formik.handleChange(e);\n                      formik.setFieldValue('villeArrivee', e.target.value);\n                    }}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseArrivee?.ville && formik.errors.adresseArrivee?.ville}\n                    touched={formik.touched.adresseArrivee?.ville}\n                    required\n                  />\n                  \n                  <Input\n                    id=\"adresseArrivee.pays\"\n                    name=\"adresseArrivee.pays\"\n                    label=\"Pays\"\n                    placeholder=\"Ex: France\"\n                    value={formik.values.adresseArrivee.pays}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.adresseArrivee?.pays && formik.errors.adresseArrivee?.pays}\n                    touched={formik.touched.adresseArrivee?.pays}\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Etape 3: D�tails et options */}\n          {step === 3 && (\n            <div>\n              <h2 className=\"text-xl font-semibold mb-4\">D�tails du transport</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    Date de d�part souhait�e\n                    <span className=\"text-red-500 ml-1\">*</span>\n                  </label>\n                  <DatePicker\n                    selected={formik.values.dateDepart}\n                    onChange={handleDateDepartChange}\n                    className=\"form-control\"\n                    dateFormat=\"dd/MM/yyyy\"\n                    minDate={new Date()}\n                    placeholderText=\"S�lectionnez une date\"\n                  />\n                  {formik.touched.dateDepart && formik.errors.dateDepart && (\n                    <p className=\"form-error\">{formik.errors.dateDepart}</p>\n                  )}\n                </div>\n                \n                <div className=\"form-group\">\n                  <label className=\"form-label\">\n                    Date d'arriv�e souhait�e\n                  </label>\n                  <DatePicker\n                    selected={formik.values.dateArrivee}\n                    onChange={handleDateArriveeChange}\n                    className=\"form-control\"\n                    dateFormat=\"dd/MM/yyyy\"\n                    minDate={formik.values.dateDepart || new Date()}\n                    placeholderText=\"S�lectionnez une date\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"mt-4\">\n                <div className=\"flex items-center\">\n                  <input\n                    id=\"flexibiliteDate\"\n                    name=\"flexibiliteDate\"\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                    checked={formik.values.flexibiliteDate}\n                    onChange={formik.handleChange}\n                  />\n                  <label htmlFor=\"flexibiliteDate\" className=\"ml-2 block text-sm text-gray-900\">\n                    Je suis flexible sur les dates (� 2 jours)\n                  </label>\n                </div>\n              </div>\n              \n              <hr className=\"my-6\" />\n              \n              <h3 className=\"text-lg font-medium mb-4\">Caract�ristiques de l'envoi</h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <Input\n                  id=\"poids\"\n                  name=\"poids\"\n                  type=\"number\"\n                  label=\"Poids\"\n                  placeholder=\"Ex: 20\"\n                  value={formik.values.poids}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.poids && formik.errors.poids}\n                  touched={formik.touched.poids}\n                />\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"unite_poids\" className=\"form-label\">\n                    Unit� de poids\n                  </label>\n                  <select\n                    id=\"unite_poids\"\n                    name=\"unite_poids\"\n                    className=\"form-control\"\n                    value={formik.values.unite_poids}\n                    onChange={formik.handleChange}\n                  >\n                    <option value=\"kg\">Kilogrammes (kg)</option>\n                    <option value=\"tonnes\">Tonnes (t)</option>\n                  </select>\n                </div>\n                \n                <Input\n                  id=\"volume\"\n                  name=\"volume\"\n                  type=\"number\"\n                  label=\"Volume (m�)\"\n                  placeholder=\"Ex: 1.5\"\n                  value={formik.values.volume}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.volume && formik.errors.volume}\n                  touched={formik.touched.volume}\n                />\n              </div>\n              \n              {['colis', 'meuble', 'marchandise', 'palette'].includes(formik.values.typeTransport) && (\n                <div className=\"mt-4\">\n                  <h4 className=\"text-md font-medium mb-2\">Dimensions</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                    <Input\n                      id=\"dimensions.longueur\"\n                      name=\"dimensions.longueur\"\n                      type=\"number\"\n                      label=\"Longueur\"\n                      placeholder=\"Ex: 100\"\n                      value={formik.values.dimensions.longueur}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.dimensions?.longueur && formik.errors.dimensions?.longueur}\n                      touched={formik.touched.dimensions?.longueur}\n                    />\n                    \n                    <Input\n                      id=\"dimensions.largeur\"\n                      name=\"dimensions.largeur\"\n                      type=\"number\"\n                      label=\"Largeur\"\n                      placeholder=\"Ex: 80\"\n                      value={formik.values.dimensions.largeur}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.dimensions?.largeur && formik.errors.dimensions?.largeur}\n                      touched={formik.touched.dimensions?.largeur}\n                    />\n                    \n                    <Input\n                      id=\"dimensions.hauteur\"\n                      name=\"dimensions.hauteur\"\n                      type=\"number\"\n                      label=\"Hauteur\"\n                      placeholder=\"Ex: 50\"\n                      value={formik.values.dimensions.hauteur}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.dimensions?.hauteur && formik.errors.dimensions?.hauteur}\n                      touched={formik.touched.dimensions?.hauteur}\n                    />\n                    \n                    <div className=\"form-group\">\n                      <label htmlFor=\"dimensions.unite\" className=\"form-label\">\n                        Unit�\n                      </label>\n                      <select\n                        id=\"dimensions.unite\"\n                        name=\"dimensions.unite\"\n                        className=\"form-control\"\n                        value={formik.values.dimensions.unite}\n                        onChange={formik.handleChange}\n                      >\n                        <option value=\"cm\">Centim�tres (cm)</option>\n                        <option value=\"m\">M�tres (m)</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {formik.values.typeTransport === 'colis' && (\n                <div className=\"mt-4\">\n                  <Input\n                    id=\"nombreColis\"\n                    name=\"nombreColis\"\n                    type=\"number\"\n                    label=\"Nombre de colis\"\n                    placeholder=\"Ex: 3\"\n                    value={formik.values.nombreColis}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.nombreColis && formik.errors.nombreColis}\n                    touched={formik.touched.nombreColis}\n                  />\n                </div>\n              )}\n              \n              <div className=\"mt-4\">\n                <Input\n                  id=\"valeurDeclaree\"\n                  name=\"valeurDeclaree\"\n                  type=\"number\"\n                  label=\"Valeur d�clar�e (�)\"\n                  placeholder=\"Ex: 200\"\n                  helperText=\"Renseignez la valeur de vos biens pour l'assurance.\"\n                  value={formik.values.valeurDeclaree}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.valeurDeclaree && formik.errors.valeurDeclaree}\n                  touched={formik.touched.valeurDeclaree}\n                />\n              </div>\n              \n              <div className=\"mt-4\">\n                <Input\n                  id=\"budget\"\n                  name=\"budget\"\n                  type=\"number\"\n                  label=\"Budget estim� (�)\"\n                  placeholder=\"Ex: 150\"\n                  helperText=\"Facultatif. Indiquez votre budget pour recevoir des devis adapt�s.\"\n                  value={formik.values.budget}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.budget && formik.errors.budget}\n                  touched={formik.touched.budget}\n                />\n              </div>\n              \n              <hr className=\"my-6\" />\n              \n              <div className=\"mt-4\">\n                <button \n                  type=\"button\"\n                  className=\"text-teal-600 font-medium\"\n                  onClick={() => setShowOptions(!showOptions)}\n                >\n                  {showOptions ? '- Masquer les options suppl�mentaires' : '+ Afficher les options suppl�mentaires'}\n                </button>\n                \n                {showOptions && (\n                  <div className=\"mt-4 bg-gray-50 p-4 rounded-md\">\n                    <h3 className=\"text-lg font-medium mb-3\">Options suppl�mentaires</h3>\n                    \n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"optionsTransport.chargement\"\n                          name=\"optionsTransport.chargement\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.optionsTransport.chargement}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"optionsTransport.chargement\" className=\"ml-2 block text-sm text-gray-900\">\n                          Aide au chargement\n                        </label>\n                      </div>\n                      \n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"optionsTransport.dechargement\"\n                          name=\"optionsTransport.dechargement\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.optionsTransport.dechargement}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"optionsTransport.dechargement\" className=\"ml-2 block text-sm text-gray-900\">\n                          Aide au d�chargement\n                        </label>\n                      </div>\n                      \n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"optionsTransport.montage\"\n                          name=\"optionsTransport.montage\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.optionsTransport.montage}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"optionsTransport.montage\" className=\"ml-2 block text-sm text-gray-900\">\n                          Montage des meubles\n                        </label>\n                      </div>\n                      \n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"optionsTransport.demontage\"\n                          name=\"optionsTransport.demontage\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.optionsTransport.demontage}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"optionsTransport.demontage\" className=\"ml-2 block text-sm text-gray-900\">\n                          D�montage des meubles\n                        </label>\n                      </div>\n                      \n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"optionsTransport.emballage\"\n                          name=\"optionsTransport.emballage\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.optionsTransport.emballage}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"optionsTransport.emballage\" className=\"ml-2 block text-sm text-gray-900\">\n                          Emballage des objets\n                        </label>\n                      </div>\n                      \n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"optionsTransport.assurance\"\n                          name=\"optionsTransport.assurance\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.optionsTransport.assurance}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"optionsTransport.assurance\" className=\"ml-2 block text-sm text-gray-900\">\n                          Assurance compl�mentaire\n                        </label>\n                      </div>\n                      \n                      <div className=\"flex items-center\">\n                        <input\n                          id=\"isUrgent\"\n                          name=\"isUrgent\"\n                          type=\"checkbox\"\n                          className=\"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded\"\n                          checked={formik.values.isUrgent}\n                          onChange={formik.handleChange}\n                        />\n                        <label htmlFor=\"isUrgent\" className=\"ml-2 block text-sm text-gray-900\">\n                          Transport urgent\n                        </label>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mt-4\">\n                      <div className=\"form-group\">\n                        <label htmlFor=\"commentairesTransporteur\" className=\"form-label\">\n                          Instructions pour le transporteur\n                        </label>\n                        <textarea\n                          id=\"commentairesTransporteur\"\n                          name=\"commentairesTransporteur\"\n                          rows=\"3\"\n                          placeholder=\"Ex: Code immeuble, �tage, pr�sence d'ascenseur, acc�s difficile, etc.\"\n                          className=\"form-control\"\n                          value={formik.values.commentairesTransporteur}\n                          onChange={formik.handleChange}\n                          onBlur={formik.handleBlur}\n                        ></textarea>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Etape 4: Photos */}\n          {step === 4 && (\n            <div>\n              <h2 className=\"text-xl font-semibold mb-4\">Photos</h2>\n              <p className=\"text-gray-600 mb-4\">\n                Ajoutez des photos pour aider les transporteurs � mieux �valuer votre demande. (Max 5 photos, 5MB par photo)\n              </p>\n              \n              <div {...getRootProps({ className: 'border-2 border-dashed border-gray-300 rounded-md p-6 text-center cursor-pointer hover:border-teal-500' })}>\n                <input {...getInputProps()} />\n                <div className=\"space-y-1 text-center\">\n                  <CameraIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                  <div className=\"flex text-sm text-gray-600\">\n                    <p className=\"pl-1\">Glissez-d�posez des photos ici, ou cliquez pour s�lectionner des photos</p>\n                  </div>\n                  <p className=\"text-xs text-gray-500\">PNG, JPG, JPEG jusqu'� 5MB</p>\n                </div>\n              </div>\n              \n              {previewPhotos.length > 0 && (\n                <div className=\"mt-4\">\n                  <h3 className=\"text-md font-medium mb-2\">Photos s�lectionn�es</h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-2\">\n                    {previewPhotos.map((photo, index) => (\n                      <div key={index} className=\"relative\">\n                        <img\n                          src={photo.preview}\n                          alt={`Photo ${index + 1}`}\n                          className=\"h-32 w-full object-cover rounded-md\"\n                        />\n                        <button\n                          type=\"button\"\n                          className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\"\n                          onClick={() => removePhoto(index)}\n                        >\n                          <XMarkIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"mt-8 bg-gray-50 p-4 rounded-md\">\n                <h3 className=\"text-lg font-medium mb-2\">R�capitulatif</h3>\n                <p className=\"text-gray-600 mb-4\">\n                  V�rifiez les informations de votre annonce avant de la publier.\n                </p>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <h4 className=\"text-sm font-bold text-gray-700\">Type de transport</h4>\n                    <p>{formik.values.typeTransport === 'colis' ? 'Colis' : \n                        formik.values.typeTransport === 'meuble' ? 'Meuble' : \n                        formik.values.typeTransport === 'marchandise' ? 'Marchandise' :\n                        formik.values.typeTransport === 'palette' ? 'Palette' :\n                        formik.values.typeTransport === 'demenagement' ? 'D�m�nagement' :\n                        formik.values.typeTransport === 'vehicule' ? 'V�hicule' : 'Autre'}</p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"text-sm font-bold text-gray-700\">Trajet</h4>\n                    <p>{formik.values.adresseDepart.ville} ? {formik.values.adresseArrivee.ville}</p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"text-sm font-bold text-gray-700\">Date de d�part</h4>\n                    <p>{formik.values.dateDepart ? formik.values.dateDepart.toLocaleDateString('fr-FR') : '-'}</p>\n                  </div>\n                  \n                  {formik.values.budget && (\n                    <div>\n                      <h4 className=\"text-sm font-bold text-gray-700\">Budget</h4>\n                      <p>{formik.values.budget} �</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Navigation des �tapes */}\n          <div className=\"mt-8 flex justify-between\">\n            {step > 1 ? (\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={prevStep}\n              >\n                Pr�c�dent\n              </Button>\n            ) : (\n              <div></div>\n            )}\n            \n            {step < 4 ? (\n              <Button\n                type=\"button\"\n                variant=\"primary\"\n                onClick={nextStep}\n              >\n                Suivant\n              </Button>\n            ) : (\n              <Button\n                type=\"submit\"\n                variant=\"primary\"\n                isLoading={isSubmitting}\n                disabled={isSubmitting}\n              >\n                Publier l'annonce\n              </Button>\n            )}\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateAnnoncePage;","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport { \n  TruckIcon, \n  MapPinIcon, \n  CalendarIcon, \n  PhotoIcon, \n  DocumentTextIcon,\n  ExclamationCircleIcon,\n  XMarkIcon,\n  TrashIcon\n} from '@heroicons/react/24/outline';\nimport { useDropzone } from 'react-dropzone';\nimport apiClient from '../../../api/client';\nimport annonceService from '../../../services/annonceService';\nimport Button from '../../../components/ui/Button';\nimport Input from '../../../components/ui/Input';\nimport { TYPE_TRANSPORT_LABELS } from '../../../utils/constants';\n\nconst EditAnnoncePage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [annonceLoading, setAnnonceLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const [images, setImages] = useState([]);\n  const [existingImages, setExistingImages] = useState([]);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  // Sch�ma de validation avec Yup\n  const validationSchema = Yup.object({\n    titre: Yup.string()\n      .required('Le titre est obligatoire')\n      .min(5, 'Le titre doit comporter au moins 5 caract�res')\n      .max(100, 'Le titre ne doit pas d�passer 100 caract�res'),\n    description: Yup.string()\n      .required('La description est obligatoire')\n      .min(20, 'La description doit comporter au moins 20 caract�res')\n      .max(1000, 'La description ne doit pas d�passer 1000 caract�res'),\n    typeTransport: Yup.string()\n      .required('Le type de transport est obligatoire'),\n    villeDepart: Yup.string()\n      .required('La ville de d�part est obligatoire'),\n    villeArrivee: Yup.string()\n      .required('La ville d\\'arriv�e est obligatoire'),\n    dateDepart: Yup.date()\n      .required('La date de d�part est obligatoire')\n      .min(new Date(), 'La date de d�part doit �tre dans le futur'),\n    poids: Yup.number()\n      .when('typeTransport', {\n        is: (type) => ['colis', 'marchandise', 'palette'].includes(type),\n        then: () => Yup.number().required('Le poids est obligatoire').positive('Le poids doit �tre positif'),\n        otherwise: () => Yup.number().nullable()\n      }),\n    volume: Yup.number()\n      .when('typeTransport', {\n        is: (type) => ['meuble', 'demenagement'].includes(type),\n        then: () => Yup.number().required('Le volume est obligatoire').positive('Le volume doit �tre positif'),\n        otherwise: () => Yup.number().nullable()\n      }),\n    dimensions: Yup.string(),\n    valeurDeclaree: Yup.number()\n      .nullable()\n      .positive('La valeur d�clar�e doit �tre positive'),\n    isUrgent: Yup.boolean(),\n    instructionsSpeciales: Yup.string()\n  });\n\n  // Initialisation du formulaire avec Formik\n  const formik = useFormik({\n    initialValues: {\n      titre: '',\n      description: '',\n      typeTransport: '',\n      villeDepart: '',\n      villeArrivee: '',\n      dateDepart: '',\n      poids: '',\n      volume: '',\n      dimensions: '',\n      valeurDeclaree: '',\n      isUrgent: false,\n      instructionsSpeciales: ''\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        \n        // Convertir les valeurs num�riques\n        const annonceData = {\n          ...values,\n          poids: values.poids ? parseFloat(values.poids) : undefined,\n          volume: values.volume ? parseFloat(values.volume) : undefined,\n          valeurDeclaree: values.valeurDeclaree ? parseFloat(values.valeurDeclaree) : undefined\n        };\n        \n        // Mettre � jour l'annonce\n        await annonceService.updateAnnonce(id, annonceData);\n        \n        // Si des images ont �t� ajout�es, les t�l�charger\n        if (images.length > 0) {\n          setIsUploading(true);\n          \n          const formData = new FormData();\n          images.forEach((image) => {\n            formData.append('images', image);\n          });\n          \n          await annonceService.uploadImages(id, formData);\n        }\n        \n        toast.success('Annonce mise � jour avec succ�s');\n        navigate(`/dashboard/annonces/${id}`);\n      } catch (error) {\n        console.error('Erreur lors de la mise � jour de l\\'annonce:', error);\n        toast.error(error.message || 'Erreur lors de la mise � jour de l\\'annonce');\n      } finally {\n        setLoading(false);\n        setIsUploading(false);\n      }\n    }\n  });\n\n  // Charger les donn�es de l'annonce\n  useEffect(() => {\n    const fetchAnnonce = async () => {\n      try {\n        setAnnonceLoading(true);\n        \n        const response = await apiClient.get(`/annonces/${id}`);\n        const annonceData = response.data.data;\n        \n        // V�rifier si l'annonce peut �tre modifi�e\n        if (annonceData.statut !== 'disponible') {\n          toast.error('Cette annonce ne peut plus �tre modifi�e');\n          navigate(`/dashboard/annonces/${id}`);\n          return;\n        }\n        \n        // Formater la date au format attendu par l'input\n        let formattedDate = '';\n        if (annonceData.dateDepart) {\n          const date = new Date(annonceData.dateDepart);\n          formattedDate = date.toISOString().split('T')[0];\n        }\n        \n        // Initialiser les valeurs du formulaire\n        formik.setValues({\n          titre: annonceData.titre || '',\n          description: annonceData.description || '',\n          typeTransport: annonceData.typeTransport || '',\n          villeDepart: annonceData.villeDepart || '',\n          villeArrivee: annonceData.villeArrivee || '',\n          dateDepart: formattedDate,\n          poids: annonceData.poids?.toString() || '',\n          volume: annonceData.volume?.toString() || '',\n          dimensions: annonceData.dimensions || '',\n          valeurDeclaree: annonceData.valeurDeclaree?.toString() || '',\n          isUrgent: annonceData.isUrgent || false,\n          instructionsSpeciales: annonceData.instructionsSpeciales || ''\n        });\n        \n        // R�cup�rer les images existantes\n        if (annonceData.images && annonceData.images.length > 0) {\n          setExistingImages(annonceData.images);\n        }\n        \n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement de l\\'annonce:', err);\n        setError('Impossible de charger les d�tails de l\\'annonce');\n        toast.error('Erreur lors du chargement de l\\'annonce');\n      } finally {\n        setAnnonceLoading(false);\n      }\n    };\n\n    fetchAnnonce();\n  }, [id, navigate]);\n\n  // Configuration de react-dropzone pour l'upload d'images\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png']\n    },\n    maxSize: 5242880, // 5MB\n    onDrop: (acceptedFiles) => {\n      // Cr�er des pr�visualisations pour les images accept�es\n      const newImages = acceptedFiles.map(file =>\n        Object.assign(file, {\n          preview: URL.createObjectURL(file)\n        })\n      );\n      \n      setImages([...images, ...newImages]);\n    },\n    onDropRejected: (rejectedFiles) => {\n      rejectedFiles.forEach((file) => {\n        if (file.errors[0]?.code === 'file-too-large') {\n          toast.error(`${file.file.name} est trop volumineux. Taille maximale: 5MB`);\n        } else {\n          toast.error(`${file.file.name}: ${file.errors[0]?.message}`);\n        }\n      });\n    }\n  });\n\n  // Supprimer une nouvelle image\n  const removeImage = (index) => {\n    const newImages = [...images];\n    URL.revokeObjectURL(newImages[index].preview);\n    newImages.splice(index, 1);\n    setImages(newImages);\n  };\n\n  // Supprimer une image existante\n  const removeExistingImage = async (imageId) => {\n    try {\n      await apiClient.delete(`/annonces/${id}/images/${imageId}`);\n      \n      setExistingImages(existingImages.filter(img => img._id !== imageId));\n      toast.success('Image supprim�e avec succ�s');\n    } catch (error) {\n      console.error('Erreur lors de la suppression de l\\'image:', error);\n      toast.error('Erreur lors de la suppression de l\\'image');\n    }\n  };\n\n  // Supprimer l'annonce\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n      await annonceService.deleteAnnonce(id);\n      \n      toast.success('Annonce supprim�e avec succ�s');\n      navigate('/dashboard/annonces');\n    } catch (error) {\n      console.error('Erreur lors de la suppression de l\\'annonce:', error);\n      toast.error(error.message || 'Erreur lors de la suppression de l\\'annonce');\n    } finally {\n      setLoading(false);\n      setShowDeleteModal(false);\n    }\n  };\n\n  // Nettoyer les URL de pr�visualisation lors du d�montage du composant\n  React.useEffect(() => {\n    return () => {\n      // Nettoyer les URL de pr�visualisation\n      images.forEach(image => URL.revokeObjectURL(image.preview));\n    };\n  }, [images]);\n\n  // Afficher un indicateur de chargement pendant le chargement de l'annonce\n  if (annonceLoading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  // Afficher un message d'erreur si le chargement a �chou�\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <div className=\"text-center\">\n              <ExclamationCircleIcon className=\"mx-auto h-12 w-12 text-red-500\" />\n              <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Erreur</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">{error}</p>\n              <div className=\"mt-6\">\n                <Button\n                  to=\"/dashboard/annonces\"\n                  variant=\"primary\"\n                >\n                  Retour � mes annonces\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n            Modifier l'annonce\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Mettez � jour votre demande de transport\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Button\n            type=\"button\"\n            variant=\"danger\"\n            onClick={() => setShowDeleteModal(true)}\n            className=\"mr-3\"\n          >\n            <TrashIcon className=\"h-5 w-5 mr-1\" />\n            Supprimer\n          </Button>\n          <Button\n            to={`/dashboard/annonces/${id}`}\n            variant=\"outline\"\n          >\n            Annuler\n          </Button>\n        </div>\n      </div>\n\n      <form onSubmit={formik.handleSubmit} className=\"space-y-8\">\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <div className=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n              {/* Titre */}\n              <div className=\"sm:col-span-6\">\n                <Input\n                  id=\"titre\"\n                  name=\"titre\"\n                  type=\"text\"\n                  label=\"Titre de l'annonce\"\n                  placeholder=\"Ex: Transport de meuble Paris-Lyon\"\n                  value={formik.values.titre}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.titre && formik.errors.titre}\n                  touched={formik.touched.titre}\n                  icon={<DocumentTextIcon className=\"h-5 w-5 text-gray-400\" />}\n                  required\n                />\n              </div>\n\n              {/* Type de transport */}\n              <div className=\"sm:col-span-3\">\n                <label htmlFor=\"typeTransport\" className=\"block text-sm font-medium text-gray-700\">\n                  Type de transport <span className=\"text-red-500\">*</span>\n                </label>\n                <div className=\"mt-1 relative rounded-md shadow-sm\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <TruckIcon className=\"h-5 w-5 text-gray-400\" />\n                  </div>\n                  <select\n                    id=\"typeTransport\"\n                    name=\"typeTransport\"\n                    className=\"pl-10 focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                    value={formik.values.typeTransport}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                  >\n                    <option value=\"\">S�lectionner un type</option>\n                    {Object.entries(TYPE_TRANSPORT_LABELS).map(([value, label]) => (\n                      <option key={value} value={value}>\n                        {label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                {formik.touched.typeTransport && formik.errors.typeTransport && (\n                  <p className=\"mt-2 text-sm text-red-600\">{formik.errors.typeTransport}</p>\n                )}\n              </div>\n\n              {/* Ville de d�part */}\n              <div className=\"sm:col-span-3\">\n                <Input\n                  id=\"villeDepart\"\n                  name=\"villeDepart\"\n                  type=\"text\"\n                  label=\"Ville de d�part\"\n                  placeholder=\"Ex: Paris\"\n                  value={formik.values.villeDepart}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.villeDepart && formik.errors.villeDepart}\n                  touched={formik.touched.villeDepart}\n                  icon={<MapPinIcon className=\"h-5 w-5 text-gray-400\" />}\n                  required\n                />\n              </div>\n\n              {/* Ville d'arriv�e */}\n              <div className=\"sm:col-span-3\">\n                <Input\n                  id=\"villeArrivee\"\n                  name=\"villeArrivee\"\n                  type=\"text\"\n                  label=\"Ville d'arriv�e\"\n                  placeholder=\"Ex: Lyon\"\n                  value={formik.values.villeArrivee}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.villeArrivee && formik.errors.villeArrivee}\n                  touched={formik.touched.villeArrivee}\n                  icon={<MapPinIcon className=\"h-5 w-5 text-gray-400\" />}\n                  required\n                />\n              </div>\n\n              {/* Date de d�part */}\n              <div className=\"sm:col-span-3\">\n                <Input\n                  id=\"dateDepart\"\n                  name=\"dateDepart\"\n                  type=\"date\"\n                  label=\"Date de d�part\"\n                  value={formik.values.dateDepart}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.dateDepart && formik.errors.dateDepart}\n                  touched={formik.touched.dateDepart}\n                  icon={<CalendarIcon className=\"h-5 w-5 text-gray-400\" />}\n                  required\n                  min={new Date().toISOString().split('T')[0]}\n                />\n              </div>\n\n              {/* Champs conditionnels en fonction du type de transport */}\n              {(['colis', 'marchandise', 'palette'].includes(formik.values.typeTransport)) && (\n                <div className=\"sm:col-span-3\">\n                  <Input\n                    id=\"poids\"\n                    name=\"poids\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    label=\"Poids (kg)\"\n                    placeholder=\"Ex: 25.5\"\n                    value={formik.values.poids}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.poids && formik.errors.poids}\n                    touched={formik.touched.poids}\n                    required\n                    min=\"0\"\n                  />\n                </div>\n              )}\n\n              {(['meuble', 'demenagement'].includes(formik.values.typeTransport)) && (\n                <div className=\"sm:col-span-3\">\n                  <Input\n                    id=\"volume\"\n                    name=\"volume\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    label=\"Volume (m�)\"\n                    placeholder=\"Ex: 2.5\"\n                    value={formik.values.volume}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    error={formik.touched.volume && formik.errors.volume}\n                    touched={formik.touched.volume}\n                    required\n                    min=\"0\"\n                  />\n                </div>\n              )}\n\n              {/* Dimensions (optionnel) */}\n              <div className=\"sm:col-span-3\">\n                <Input\n                  id=\"dimensions\"\n                  name=\"dimensions\"\n                  type=\"text\"\n                  label=\"Dimensions (optionnel)\"\n                  placeholder=\"Ex: 120x80x60 cm\"\n                  value={formik.values.dimensions}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.dimensions && formik.errors.dimensions}\n                  touched={formik.touched.dimensions}\n                />\n              </div>\n\n              {/* Valeur d�clar�e (optionnel) */}\n              <div className=\"sm:col-span-3\">\n                <Input\n                  id=\"valeurDeclaree\"\n                  name=\"valeurDeclaree\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  label=\"Valeur d�clar�e (�) (optionnel)\"\n                  placeholder=\"Ex: 500\"\n                  value={formik.values.valeurDeclaree}\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  error={formik.touched.valeurDeclaree && formik.errors.valeurDeclaree}\n                  touched={formik.touched.valeurDeclaree}\n                  min=\"0\"\n                />\n              </div>\n\n              {/* Case � cocher pour les demandes urgentes */}\n              <div className=\"sm:col-span-6\">\n                <div className=\"relative flex items-start\">\n                  <div className=\"flex items-center h-5\">\n                    <input\n                      id=\"isUrgent\"\n                      name=\"isUrgent\"\n                      type=\"checkbox\"\n                      className=\"focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300 rounded\"\n                      checked={formik.values.isUrgent}\n                      onChange={formik.handleChange}\n                    />\n                  </div>\n                  <div className=\"ml-3 text-sm\">\n                    <label htmlFor=\"isUrgent\" className=\"font-medium text-gray-700\">\n                      Demande urgente\n                    </label>\n                    <p className=\"text-gray-500\">\n                      Cochez cette case si votre demande est urgente et n�cessite une attention particuli�re.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Description */}\n              <div className=\"sm:col-span-6\">\n                <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">\n                  Description <span className=\"text-red-500\">*</span>\n                </label>\n                <div className=\"mt-1\">\n                  <textarea\n                    id=\"description\"\n                    name=\"description\"\n                    rows={6}\n                    className=\"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border border-gray-300 rounded-md\"\n                    placeholder=\"D�crivez en d�tail ce que vous souhaitez transporter, les conditions particuli�res, etc.\"\n                    value={formik.values.description}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                  />\n                </div>\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  {formik.values.description.length}/1000 caract�res\n                </p>\n                {formik.touched.description && formik.errors.description && (\n                  <p className=\"mt-2 text-sm text-red-600\">{formik.errors.description}</p>\n                )}\n              </div>\n\n              {/* Instructions sp�ciales (optionnel) */}\n              <div className=\"sm:col-span-6\">\n                <label htmlFor=\"instructionsSpeciales\" className=\"block text-sm font-medium text-gray-700\">\n                  Instructions sp�ciales (optionnel)\n                </label>\n                <div className=\"mt-1\">\n                  <textarea\n                    id=\"instructionsSpeciales\"\n                    name=\"instructionsSpeciales\"\n                    rows={3}\n                    className=\"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border border-gray-300 rounded-md\"\n                    placeholder=\"Informations suppl�mentaires pour le transporteur (acc�s, horaires, etc.)\"\n                    value={formik.values.instructionsSpeciales}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                  />\n                </div>\n              </div>\n\n              {/* Images existantes */}\n              {existingImages.length > 0 && (\n                <div className=\"sm:col-span-6\">\n                  <h3 className=\"text-sm font-medium text-gray-700\">Images existantes</h3>\n                  <div className=\"mt-2 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6\">\n                    {existingImages.map((image) => (\n                      <div key={image._id} className=\"relative group\">\n                        <div className=\"aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden\">\n                          <img\n                            src={image.url}\n                            alt=\"Image de l'annonce\"\n                            className=\"object-cover\"\n                          />\n                          <button\n                            type=\"button\"\n                            className=\"absolute top-1 right-1 bg-white rounded-full p-1 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity\"\n                            onClick={() => removeExistingImage(image._id)}\n                          >\n                            <XMarkIcon className=\"h-4 w-4 text-gray-500\" />\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Upload de nouvelles images */}\n              <div className=\"sm:col-span-6\">\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Ajouter des images (optionnel)\n                </label>\n                <div\n                  {...getRootProps()}\n                  className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\"\n                >\n                  <div className=\"space-y-1 text-center\">\n                    <PhotoIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                    <div className=\"flex text-sm text-gray-600\">\n                      <label\n                        htmlFor=\"file-upload\"\n                        className=\"relative cursor-pointer bg-white rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-teal-500\"\n                      >\n                        <span>T�l�charger des images</span>\n                        <input {...getInputProps()} />\n                      </label>\n                      <p className=\"pl-1\">ou glissez-d�posez</p>\n                    </div>\n                    <p className=\"text-xs text-gray-500\">\n                      PNG, JPG, JPEG jusqu'� 5MB\n                    </p>\n                  </div>\n                </div>\n                \n                {/* Pr�visualisation des nouvelles images */}\n                {images.length > 0 && (\n                  <div className=\"mt-4\">\n                    <h4 className=\"text-sm font-medium text-gray-700\">\n                      Nouvelles images ({images.length})\n                    </h4>\n                    <div className=\"mt-2 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6\">\n                      {images.map((image, index) => (\n                        <div key={index} className=\"relative group\">\n                          <div className=\"aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden\">\n                            <img\n                              src={image.preview}\n                              alt={`Aper�u ${index + 1}`}\n                              className=\"object-cover\"\n                            />\n                            <button\n                              type=\"button\"\n                              className=\"absolute top-1 right-1 bg-white rounded-full p-1 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity\"\n                              onClick={() => removeImage(index)}\n                            >\n                              <XMarkIcon className=\"h-4 w-4 text-gray-500\" />\n                            </button>\n                          </div>\n                          <p className=\"mt-1 text-xs text-gray-500 truncate\">\n                            {image.name}\n                          </p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Boutons d'action */}\n        <div className=\"flex justify-end space-x-3\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => navigate(`/dashboard/annonces/${id}`)}\n          >\n            Annuler\n          </Button>\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            isLoading={loading || isUploading}\n            disabled={loading || isUploading}\n          >\n            {isUploading ? `T�l�chargement (${uploadProgress}%)` : loading ? 'Mise � jour...' : 'Enregistrer les modifications'}\n          </Button>\n        </div>\n      </form>\n\n      {/* Modal de confirmation de suppression */}\n      {showDeleteModal && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                    <ExclamationCircleIcon className=\"h-6 w-6 text-red-600\" aria-hidden=\"true\" />\n                  </div>\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                      Supprimer l'annonce\n                    </h3>\n                    <div className=\"mt-2\">\n                      <p className=\"text-sm text-gray-500\">\n                        Etes-vous s�r de vouloir supprimer cette annonce ? Cette action est irr�versible.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <Button\n                  type=\"button\"\n                  variant=\"danger\"\n                  onClick={handleDelete}\n                  isLoading={loading}\n                  disabled={loading}\n                  className=\"sm:ml-3\"\n                >\n                  Supprimer\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setShowDeleteModal(false)}\n                  disabled={loading}\n                  className=\"mt-3 sm:mt-0\"\n                >\n                  Annuler\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EditAnnoncePage;","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { \r\n  TruckIcon, \r\n  CheckCircleIcon,\r\n  ExclamationCircleIcon,\r\n  ClockIcon\r\n} from '@heroicons/react/24/outline';\r\nimport axios from 'axios';\r\nimport apiClient from '../../api/client';\r\nimport { format } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\n\r\nconst TrackingComponent = ({ annonceId, devisId }) => {\r\n  const [trackingData, setTrackingData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { id } = useParams(); // If component is used in a route with annonceId parameter\r\n\r\n  // Use either the passed prop or the URL parameter\r\n  const effectiveAnnonceId = annonceId || id;\r\n\r\n  useEffect(() => {\r\n    const fetchTrackingData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await apiClient.get(`/tracking/${effectiveAnnonceId}`);\r\n        setTrackingData(response.data.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching tracking data:', err);\r\n        setError('Impossible de récupérer les informations de suivi.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (effectiveAnnonceId) {\r\n      fetchTrackingData();\r\n    }\r\n  }, [effectiveAnnonceId]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n        <strong className=\"font-bold\">Erreur!</strong>\r\n        <span className=\"block sm:inline\"> {error}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If there's no tracking data yet, show a placeholder\r\n  if (!trackingData || !trackingData.tracking) {\r\n    return (\r\n      <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center justify-center\">\r\n          <ClockIcon className=\"h-12 w-12 text-gray-400\" />\r\n        </div>\r\n        <p className=\"text-center text-gray-600 mt-4\">\r\n          Le suivi de ce transport n'est pas encore disponible. Il sera activé dès que le transporteur aura pris en charge votre demande.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { tracking, statut: annonceStatut } = trackingData;\r\n\r\n  // Define status details for display\r\n  const statusDetails = {\r\n    en_attente: { \r\n      label: 'En attente de prise en charge', \r\n      color: 'bg-yellow-100 text-yellow-800', \r\n      icon: ClockIcon,\r\n      description: 'Le transporteur n\\'a pas encore commencé le transport.'\r\n    },\r\n    pris_en_charge: { \r\n      label: 'Pris en charge', \r\n      color: 'bg-blue-100 text-blue-800', \r\n      icon: CheckCircleIcon,\r\n      description: 'Le transporteur a accepté votre demande et va préparer le transport.'\r\n    },\r\n    en_transit: { \r\n      label: 'En transit', \r\n      color: 'bg-indigo-100 text-indigo-800', \r\n      icon: TruckIcon,\r\n      description: 'Votre colis est en cours de transport.'\r\n    },\r\n    en_livraison: { \r\n      label: 'En cours de livraison', \r\n      color: 'bg-purple-100 text-purple-800', \r\n      icon: TruckIcon,\r\n      description: 'La livraison est en cours à l\\'adresse de destination.'\r\n    },\r\n    livre: { \r\n      label: 'Livré', \r\n      color: 'bg-green-100 text-green-800', \r\n      icon: CheckCircleIcon,\r\n      description: 'Votre colis a été livré avec succès.'\r\n    },\r\n    probleme: { \r\n      label: 'Problème', \r\n      color: 'bg-red-100 text-red-800', \r\n      icon: ExclamationCircleIcon,\r\n      description: 'Un problème est survenu durant le transport. Le transporteur va vous contacter.'\r\n    }\r\n  };\r\n\r\n  const currentStatus = statusDetails[tracking.statut] || statusDetails.en_attente;\r\n  const StatusIcon = currentStatus.icon;\r\n\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden\">\r\n      {/* Current Status Header */}\r\n      <div className={`px-6 py-4 ${currentStatus.color} flex items-center justify-between`}>\r\n        <div className=\"flex items-center\">\r\n          <StatusIcon className=\"h-6 w-6 mr-2\" />\r\n          <h3 className=\"text-lg font-semibold\">{currentStatus.label}</h3>\r\n        </div>\r\n        {tracking.codeTracking && (\r\n          <div className=\"text-sm\">\r\n            Code de suivi: <span className=\"font-mono font-medium\">{tracking.codeTracking}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Status Description */}\r\n      <div className=\"px-6 py-4 border-b border-gray-200\">\r\n        <p className=\"text-gray-600\">{currentStatus.description}</p>\r\n      </div>\r\n\r\n      {/* Progress Steps */}\r\n      <div className=\"px-6 py-4\">\r\n        <div className=\"relative\">\r\n          {/* Progress Line */}\r\n          <div className=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\r\n            <div className=\"h-0.5 w-full bg-gray-200\"></div>\r\n          </div>\r\n\r\n          {/* Progress Steps */}\r\n          <div className=\"relative flex justify-between\">\r\n            {/* Step 1: En attente */}\r\n            <div className={`flex flex-col items-center`}>\r\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center ${\r\n                ['en_attente', 'pris_en_charge', 'en_transit', 'en_livraison', 'livre'].includes(tracking.statut) \r\n                  ? 'bg-teal-500 text-white' \r\n                  : 'bg-gray-300 text-gray-500'\r\n              }`}>\r\n                1\r\n              </div>\r\n              <div className=\"text-xs text-center mt-1\">Prise en charge</div>\r\n            </div>\r\n\r\n            {/* Step 2: En transit */}\r\n            <div className={`flex flex-col items-center`}>\r\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center ${\r\n                ['en_transit', 'en_livraison', 'livre'].includes(tracking.statut) \r\n                  ? 'bg-teal-500 text-white' \r\n                  : 'bg-gray-300 text-gray-500'\r\n              }`}>\r\n                2\r\n              </div>\r\n              <div className=\"text-xs text-center mt-1\">En transit</div>\r\n            </div>\r\n\r\n            {/* Step 3: En livraison */}\r\n            <div className={`flex flex-col items-center`}>\r\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center ${\r\n                ['en_livraison', 'livre'].includes(tracking.statut) \r\n                  ? 'bg-teal-500 text-white' \r\n                  : 'bg-gray-300 text-gray-500'\r\n              }`}>\r\n                3\r\n              </div>\r\n              <div className=\"text-xs text-center mt-1\">En livraison</div>\r\n            </div>\r\n\r\n            {/* Step 4: Livré */}\r\n            <div className={`flex flex-col items-center`}>\r\n              <div className={`rounded-full h-8 w-8 flex items-center justify-center ${\r\n                tracking.statut === 'livre' \r\n                  ? 'bg-teal-500 text-white' \r\n                  : 'bg-gray-300 text-gray-500'\r\n              }`}>\r\n                4\r\n              </div>\r\n              <div className=\"text-xs text-center mt-1\">Livré</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tracking History */}\r\n      {tracking.historique && tracking.historique.length > 0 && (\r\n        <div className=\"px-6 py-4 border-t border-gray-200\">\r\n          <h4 className=\"text-sm font-semibold text-gray-700 mb-4\">Historique du suivi</h4>\r\n          <div className=\"space-y-4\">\r\n            {tracking.historique.map((event, index) => {\r\n              const eventStatus = statusDetails[event.statut] || {};\r\n              const EventIcon = eventStatus.icon || ClockIcon;\r\n\r\n              return (\r\n                <div key={index} className=\"flex items-start\">\r\n                  <div className={`rounded-full h-6 w-6 flex items-center justify-center ${eventStatus.color || 'bg-gray-100'} mr-3`}>\r\n                    <EventIcon className=\"h-4 w-4\" />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex justify-between\">\r\n                      <p className=\"text-sm font-medium text-gray-900\">{eventStatus.label || event.statut}</p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {format(new Date(event.date), 'dd MMM yyyy à HH:mm', { locale: fr })}\r\n                      </p>\r\n                    </div>\r\n                    {(event.commentaire || event.localisation) && (\r\n                      <div className=\"mt-1 text-sm text-gray-600\">\r\n                        {event.commentaire && <p>{event.commentaire}</p>}\r\n                        {event.localisation && (\r\n                          <p className=\"text-xs text-gray-500 mt-1\">Localisation: {event.localisation}</p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrackingComponent;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\nimport { \r\n  PaperAirplaneIcon, \r\n  PaperClipIcon, \r\n  PhotoIcon,\r\n  DocumentIcon,\r\n  ArrowPathIcon,\r\n  XMarkIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { toast } from 'react-hot-toast';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport apiClient from '../../api/client';\r\nimport Button from '../ui/Button';\r\n\r\nconst ConversationComponent = ({ annonceId, recipientId }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [recipient, setRecipient] = useState(null);\r\n  const [annonce, setAnnonce] = useState(null);\r\n  const { id: conversationId } = useParams();\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const { user } = useAuth();\r\n\r\n  // Determine which ID to use (either from props or URL params)\r\n  const effectiveAnnonceId = annonceId || (conversationId && conversationId.split('_')[0]);\r\n  const effectiveRecipientId = recipientId || (conversationId && conversationId.split('_')[1]);\r\n\r\n  // Fetch messages\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      if (!effectiveAnnonceId || !effectiveRecipientId) return;\r\n\r\n      try {\r\n        setLoading(true);\r\n        const response = await apiClient.get(\r\n          `/messages/conversation/${effectiveAnnonceId}/${effectiveRecipientId}`\r\n        );\r\n        setMessages(response.data.data);\r\n        \r\n        // Mark messages as read\r\n        if (response.data.data.some(msg => !msg.lu && msg.expediteur._id !== user.id)) {\r\n          await apiClient.put(`/messages/mark-read/${effectiveAnnonceId}/${effectiveRecipientId}`);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching messages:', err);\r\n        toast.error('Erreur lors du chargement des messages');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchRecipientInfo = async () => {\r\n      if (!effectiveRecipientId) return;\r\n\r\n      try {\r\n        const response = await apiClient.get(`/users/profile/${effectiveRecipientId}`);\r\n        setRecipient(response.data.data);\r\n      } catch (err) {\r\n        console.error('Error fetching recipient info:', err);\r\n      }\r\n    };\r\n\r\n    const fetchAnnonceInfo = async () => {\r\n      if (!effectiveAnnonceId) return;\r\n\r\n      try {\r\n        const response = await apiClient.get(`/annonces/${effectiveAnnonceId}`);\r\n        setAnnonce(response.data.data);\r\n      } catch (err) {\r\n        console.error('Error fetching annonce info:', err);\r\n      }\r\n    };\r\n\r\n    fetchMessages();\r\n    fetchRecipientInfo();\r\n    fetchAnnonceInfo();\r\n\r\n    // Set up message polling every 30 seconds\r\n    const interval = setInterval(fetchMessages, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [effectiveAnnonceId, effectiveRecipientId, user.id]);\r\n\r\n  // Scroll to bottom when messages change\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Handle message change\r\n  const handleMessageChange = (e) => {\r\n    setNewMessage(e.target.value);\r\n  };\r\n\r\n  // Handle file selection\r\n  const handleFileSelect = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    \r\n    // Validate file size (max 5MB per file)\r\n    const validFiles = files.filter(file => file.size <= 5 * 1024 * 1024);\r\n    const invalidFiles = files.filter(file => file.size > 5 * 1024 * 1024);\r\n    \r\n    if (invalidFiles.length > 0) {\r\n      toast.error(`${invalidFiles.length} fichier(s) dépassent la taille limite de 5MB`);\r\n    }\r\n\r\n    // Add valid files to attachments with preview\r\n    const newAttachments = validFiles.map(file => ({\r\n      file,\r\n      preview: file.type.startsWith('image/') ? URL.createObjectURL(file) : null,\r\n      name: file.name,\r\n      type: file.type,\r\n      size: file.size\r\n    }));\r\n\r\n    setAttachments([...attachments, ...newAttachments]);\r\n  };\r\n\r\n  // Remove attachment\r\n  const removeAttachment = (index) => {\r\n    const newAttachments = [...attachments];\r\n    \r\n    // Revoke object URL to avoid memory leaks\r\n    if (newAttachments[index].preview) {\r\n      URL.revokeObjectURL(newAttachments[index].preview);\r\n    }\r\n    \r\n    newAttachments.splice(index, 1);\r\n    setAttachments(newAttachments);\r\n  };\r\n\r\n  // Send message\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if ((!newMessage.trim() && attachments.length === 0) || !effectiveAnnonceId || !effectiveRecipientId) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Create form data for sending files if any\r\n      let response;\r\n      \r\n      if (attachments.length > 0) {\r\n        const formData = new FormData();\r\n        formData.append('contenu', newMessage);\r\n        formData.append('destinataire', effectiveRecipientId);\r\n        formData.append('annonce', effectiveAnnonceId);\r\n        \r\n        attachments.forEach(attachment => {\r\n          formData.append('pieceJointes', attachment.file);\r\n        });\r\n        \r\n        response = await apiClient.post('/messages/with-attachments', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        });\r\n      } else {\r\n        response = await apiClient.post('/messages', {\r\n          contenu: newMessage,\r\n          destinataire: effectiveRecipientId,\r\n          annonce: effectiveAnnonceId\r\n        });\r\n      }\r\n      \r\n      // Add the new message to the list\r\n      setMessages([...messages, response.data.data]);\r\n      setNewMessage('');\r\n      \r\n      // Clear attachments and revoke object URLs\r\n      attachments.forEach(attachment => {\r\n        if (attachment.preview) {\r\n          URL.revokeObjectURL(attachment.preview);\r\n        }\r\n      });\r\n      setAttachments([]);\r\n      \r\n    } catch (err) {\r\n      console.error('Error sending message:', err);\r\n      toast.error('Erreur lors de l\\'envoi du message');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Format file size\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes < 1024) return bytes + ' B';\r\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';\r\n    else return (bytes / 1048576).toFixed(1) + ' MB';\r\n  };\r\n\r\n  // Get file icon based on type\r\n  const getFileIcon = (type) => {\r\n    if (type.startsWith('image/')) return PhotoIcon;\r\n    return DocumentIcon;\r\n  };\r\n\r\n  // Format timestamp\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const today = new Date();\r\n    const yesterday = new Date(today);\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n    \r\n    if (date.toDateString() === today.toDateString()) {\r\n      return `Aujourd'hui à ${format(date, 'HH:mm')}`;\r\n    } else if (date.toDateString() === yesterday.toDateString()) {\r\n      return `Hier à ${format(date, 'HH:mm')}`;\r\n    } else {\r\n      return format(date, 'dd MMM yyyy à HH:mm', { locale: fr });\r\n    }\r\n  };\r\n\r\n  if (!effectiveAnnonceId || !effectiveRecipientId) {\r\n    return (\r\n      <div className=\"text-center p-8\">\r\n        <p className=\"text-gray-500\">Veuillez sélectionner une conversation</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Conversation Header */}\r\n      <div className=\"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"h-10 w-10 rounded-full bg-gray-200 flex-shrink-0 overflow-hidden\">\r\n            {recipient && recipient.photo ? (\r\n              <img \r\n                src={recipient.photo} \r\n                alt={`${recipient.prenom} ${recipient.nom}`} \r\n                className=\"h-full w-full object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"h-full w-full flex items-center justify-center bg-teal-500 text-white font-semibold\">\r\n                {recipient && recipient.prenom ? recipient.prenom.charAt(0) : '?'}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <h3 className=\"text-sm font-medium text-gray-900\">\r\n              {recipient ? `${recipient.prenom} ${recipient.nom}` : 'Chargement...'}\r\n            </h3>\r\n            {annonce && (\r\n              <p className=\"text-xs text-gray-500\">\r\n                {annonce.titre.length > 40 \r\n                  ? annonce.titre.substring(0, 40) + '...' \r\n                  : annonce.titre}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              const fetchMessages = async () => {\r\n                try {\r\n                  setLoading(true);\r\n                  const response = await apiClient.get(\r\n                    `/messages/conversation/${effectiveAnnonceId}/${effectiveRecipientId}`\r\n                  );\r\n                  setMessages(response.data.data);\r\n                  toast.success('Messages mis à jour');\r\n                } catch (err) {\r\n                  console.error('Error refreshing messages:', err);\r\n                  toast.error('Erreur lors de l\\'actualisation des messages');\r\n                } finally {\r\n                  setLoading(false);\r\n                }\r\n              };\r\n              fetchMessages();\r\n            }}\r\n          >\r\n            <ArrowPathIcon className=\"h-4 w-4 mr-1\" />\r\n            Actualiser\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages Container */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 bg-gray-50\">\r\n        {loading && messages.length === 0 ? (\r\n          <div className=\"flex items-center justify-center h-full\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-teal-500\"></div>\r\n          </div>\r\n        ) : messages.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <p className=\"text-gray-500\">Aucun message. Démarrez la conversation !</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {messages.map((message, index) => {\r\n              const isCurrentUser = message.expediteur._id === user.id;\r\n              \r\n              return (\r\n                <div \r\n                  key={message._id || index}\r\n                  className={`flex ${isCurrentUser ? 'justify-end' : 'justify-start'}`}\r\n                >\r\n                  <div className={`max-w-xs lg:max-w-md ${isCurrentUser ? 'bg-teal-500 text-white' : 'bg-white border border-gray-200'} rounded-lg px-4 py-2 shadow-sm`}>\r\n                    <div className=\"text-sm\">\r\n                      {message.contenu}\r\n                    </div>\r\n                    \r\n                    {message.pieceJointe && (\r\n                      <div className=\"mt-2 border-t border-gray-200 pt-2\">\r\n                        <a \r\n                          href={message.pieceJointe} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\"\r\n                          className={`flex items-center text-xs ${isCurrentUser ? 'text-teal-100 hover:text-white' : 'text-teal-600 hover:text-teal-700'}`}\r\n                        >\r\n                          <DocumentIcon className=\"h-4 w-4 mr-1\" />\r\n                          Pièce jointe\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className={`text-xs mt-1 ${isCurrentUser ? 'text-teal-100' : 'text-gray-500'}`}>\r\n                      {formatTimestamp(message.createdAt)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Attachment Preview */}\r\n      {attachments.length > 0 && (\r\n        <div className=\"px-4 py-2 bg-gray-100 border-t border-gray-200\">\r\n          <div className=\"text-sm font-medium text-gray-700 mb-2\">\r\n            Pièces jointes ({attachments.length})\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {attachments.map((attachment, index) => {\r\n              const FileIcon = getFileIcon(attachment.type);\r\n              \r\n              return (\r\n                <div \r\n                  key={index}\r\n                  className=\"relative bg-white border border-gray-200 rounded-md p-2 flex items-center\"\r\n                >\r\n                  {attachment.preview ? (\r\n                    <div className=\"h-10 w-10 mr-2 flex-shrink-0\">\r\n                      <img \r\n                        src={attachment.preview}\r\n                        alt={attachment.name}\r\n                        className=\"h-full w-full object-cover rounded\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <FileIcon className=\"h-6 w-6 text-gray-500 mr-2\" />\r\n                  )}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"text-xs font-medium text-gray-900 truncate\">\r\n                      {attachment.name}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {formatFileSize(attachment.size)}\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"text-gray-400 hover:text-gray-500\"\r\n                    onClick={() => removeAttachment(index)}\r\n                  >\r\n                    <XMarkIcon className=\"h-5 w-5\" />\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Message Input */}\r\n      <div className=\"bg-white border-t border-gray-200 p-4\">\r\n        <form onSubmit={sendMessage} className=\"flex items-end\">\r\n          <div className=\"flex-1 mr-2\">\r\n            <textarea\r\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent min-h-[80px] resize-none\"\r\n              placeholder=\"Écrivez votre message...\"\r\n              value={newMessage}\r\n              onChange={handleMessageChange}\r\n              rows={3}\r\n            />\r\n          </div>\r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => fileInputRef.current.click()}\r\n              className=\"inline-flex items-center justify-center h-10 w-10 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n            >\r\n              <PaperClipIcon className=\"h-5 w-5\" />\r\n              <input\r\n                type=\"file\"\r\n                ref={fileInputRef}\r\n                onChange={handleFileSelect}\r\n                multiple\r\n                className=\"hidden\"\r\n                accept=\"image/*, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n              />\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={(!newMessage.trim() && attachments.length === 0) || loading}\r\n              className={`inline-flex items-center justify-center h-10 px-4 rounded-md bg-teal-600 text-white hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed`}\r\n            >\r\n              <PaperAirplaneIcon className=\"h-5 w-5 mr-1\" />\r\n              Envoyer\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConversationComponent;","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  TruckIcon, \n  MapPinIcon, \n  CalendarIcon, \n  PencilIcon, \n  TrashIcon,\n  ChatBubbleLeftRightIcon,\n  ExclamationCircleIcon,\n  UserIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  CurrencyEuroIcon\n} from '@heroicons/react/24/outline';\nimport { StarIcon } from '@heroicons/react/24/solid';\nimport { useAuth } from '../../../hooks/useAuth';\nimport apiClient from '../../../api/client';\nimport annonceService from '../../../services/annonceService';\nimport Button from '../../../components/ui/Button';\nimport TrackingComponent from '../../../components/transport/TrackingComponent';\nimport ConversationComponent from '../../../components/messaging/ConversationComponent';\nimport { formatDate } from '../../../utils/formatters';\nimport { STATUT_ANNONCE_LABELS, STATUT_ANNONCE_COLORS } from '../../../utils/constants';\n\nconst AnnonceDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [annonce, setAnnonce] = useState(null);\n  const [devis, setDevis] = useState([]);\n  const [selectedDevis, setSelectedDevis] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showAcceptDevisModal, setShowAcceptDevisModal] = useState(false);\n  const [devisToAccept, setDevisToAccept] = useState(null);\n  const [showRejectDevisModal, setShowRejectDevisModal] = useState(false);\n  const [devisToReject, setDevisToReject] = useState(null);\n  const [rejectReason, setRejectReason] = useState('');\n  const [activeTab, setActiveTab] = useState('details');\n  const [processingAction, setProcessingAction] = useState(false);\n\n  // R�cup�rer l'annonce et les devis associ�s\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // R�cup�rer les d�tails de l'annonce\n        const annonceResponse = await apiClient.get(`/annonces/${id}`);\n        setAnnonce(annonceResponse.data.data);\n        \n        // R�cup�rer les devis associ�s � l'annonce\n        const devisResponse = await apiClient.get(`/devis/annonce/${id}`);\n        setDevis(devisResponse.data.data);\n        \n        // Si un devis a �t� accept�, le s�lectionner\n        const acceptedDevis = devisResponse.data.data.find(devis => devis.statut === 'accepte' || devis.statut === 'en_cours' || devis.statut === 'termine');\n        if (acceptedDevis) {\n          setSelectedDevis(acceptedDevis);\n        }\n        \n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des donn�es:', err);\n        setError('Impossible de charger les d�tails de l\\'annonce');\n        toast.error('Erreur lors du chargement des d�tails de l\\'annonce');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [id]);\n\n  // Supprimer l'annonce\n  const handleDelete = async () => {\n    try {\n      setProcessingAction(true);\n      await annonceService.deleteAnnonce(id);\n      \n      toast.success('Annonce supprim�e avec succ�s');\n      navigate('/dashboard/annonces');\n    } catch (error) {\n      console.error('Erreur lors de la suppression de l\\'annonce:', error);\n      toast.error(error.message || 'Erreur lors de la suppression de l\\'annonce');\n    } finally {\n      setProcessingAction(false);\n      setShowDeleteModal(false);\n    }\n  };\n\n  // Accepter un devis\n  const handleAcceptDevis = async () => {\n    if (!devisToAccept) return;\n    \n    try {\n      setProcessingAction(true);\n      await apiClient.put(`/devis/${devisToAccept._id}/accepter`);\n      \n      toast.success('Devis accept� avec succ�s');\n      \n      // Rafra�chir les donn�es\n      const annonceResponse = await apiClient.get(`/annonces/${id}`);\n      setAnnonce(annonceResponse.data.data);\n      \n      const devisResponse = await apiClient.get(`/devis/annonce/${id}`);\n      setDevis(devisResponse.data.data);\n      \n      const updatedDevis = devisResponse.data.data.find(d => d._id === devisToAccept._id);\n      setSelectedDevis(updatedDevis);\n      \n      // Fermer le modal\n      setShowAcceptDevisModal(false);\n      setDevisToAccept(null);\n      \n      // Passer � l'onglet de suivi\n      setActiveTab('suivi');\n    } catch (error) {\n      console.error('Erreur lors de l\\'acceptation du devis:', error);\n      toast.error(error.message || 'Erreur lors de l\\'acceptation du devis');\n    } finally {\n      setProcessingAction(false);\n    }\n  };\n\n  // Refuser un devis\n  const handleRejectDevis = async () => {\n    if (!devisToReject) return;\n    \n    try {\n      setProcessingAction(true);\n      await apiClient.put(`/devis/${devisToReject._id}/refuser`, { raison: rejectReason });\n      \n      toast.success('Devis refus� avec succ�s');\n      \n      // Rafra�chir les donn�es\n      const devisResponse = await apiClient.get(`/devis/annonce/${id}`);\n      setDevis(devisResponse.data.data);\n      \n      // Fermer le modal\n      setShowRejectDevisModal(false);\n      setDevisToReject(null);\n      setRejectReason('');\n    } catch (error) {\n      console.error('Erreur lors du refus du devis:', error);\n      toast.error(error.message || 'Erreur lors du refus du devis');\n    } finally {\n      setProcessingAction(false);\n    }\n  };\n\n  // Afficher le statut de l'annonce avec la bonne couleur\n  const renderStatus = (statut) => {\n    const statusClass = STATUT_ANNONCE_COLORS[statut] || 'bg-gray-100 text-gray-800';\n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}`}>\n        {STATUT_ANNONCE_LABELS[statut] || statut}\n      </span>\n    );\n  };\n\n  // V�rifier si l'utilisateur est le propri�taire de l'annonce\n  const isOwner = user && annonce && user.id === annonce.client?._id;\n\n  // Afficher un indicateur de chargement\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  // Afficher un message d'erreur\n  if (error || !annonce) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <div className=\"text-center\">\n              <ExclamationCircleIcon className=\"mx-auto h-12 w-12 text-red-500\" />\n              <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Erreur</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                {error || \"Cette annonce n'existe pas ou a �t� supprim�e.\"}\n              </p>\n              <div className=\"mt-6\">\n                <Button\n                  to=\"/dashboard/annonces\"\n                  variant=\"primary\"\n                >\n                  Retour � mes annonces\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n            {annonce.titre}\n          </h1>\n          <div className=\"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-4\">\n            <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n              <TruckIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n              <span className=\"capitalize\">{annonce.typeTransport || 'Transport'}</span>\n            </div>\n            <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n              <MapPinIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n              {annonce.villeDepart} ? {annonce.villeArrivee}\n            </div>\n            <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n              <CalendarIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n              {formatDate(annonce.dateDepart)}\n            </div>\n            <div className=\"mt-2 flex items-center text-sm\">\n              {renderStatus(annonce.statut)}\n            </div>\n          </div>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          {isOwner && annonce.statut === 'disponible' && (\n            <>\n              <Button\n                to={`/dashboard/annonces/${id}/edit`}\n                variant=\"outline\"\n                className=\"mr-3\"\n              >\n                <PencilIcon className=\"h-5 w-5 mr-1\" />\n                Modifier\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"danger\"\n                onClick={() => setShowDeleteModal(true)}\n              >\n                <TrashIcon className=\"h-5 w-5 mr-1\" />\n                Supprimer\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Onglets */}\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"flex -mb-px\">\n          <button\n            className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'details'\n                ? 'border-teal-500 text-teal-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('details')}\n          >\n            D�tails\n          </button>\n          {isOwner && (\n            <button\n              className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'devis'\n                  ? 'border-teal-500 text-teal-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              onClick={() => setActiveTab('devis')}\n            >\n              Devis {devis.length > 0 && `(${devis.length})`}\n            </button>\n          )}\n          {(selectedDevis || annonce.statut !== 'disponible') && (\n            <button\n              className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'suivi'\n                  ? 'border-teal-500 text-teal-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              onClick={() => setActiveTab('suivi')}\n            >\n              Suivi\n            </button>\n          )}\n          <button\n            className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'messages'\n                ? 'border-teal-500 text-teal-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => setActiveTab('messages')}\n          >\n            Messages\n          </button>\n        </nav>\n      </div>\n\n      {/* Contenu de l'onglet s�lectionn� */}\n      {activeTab === 'details' && (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:px-6\">\n            <h2 className=\"text-lg font-medium text-gray-900\">\n              D�tails de l'annonce\n            </h2>\n          </div>\n          <div className=\"border-t border-gray-200\">\n            <dl>\n              <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">Description</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-line\">\n                  {annonce.description}\n                </dd>\n              </div>\n              <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">Client</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  {annonce.client ? (\n                    <div className=\"flex items-center\">\n                      <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden mr-3\">\n                        {annonce.client.photo ? (\n                          <img \n                            src={annonce.client.photo} \n                            alt={`${annonce.client.prenom} ${annonce.client.nom}`}\n                            className=\"h-full w-full object-cover\"\n                          />\n                        ) : (\n                          <UserIcon className=\"h-6 w-6 text-gray-400\" />\n                        )}\n                      </div>\n                      <div>\n                        <p className=\"font-medium\">{annonce.client.prenom} {annonce.client.nom}</p>\n                        {annonce.client.averageRating && (\n                          <div className=\"flex items-center mt-1\">\n                            <StarIcon className=\"h-4 w-4 text-yellow-400\" />\n                            <span className=\"ml-1 text-xs text-gray-500\">\n                              {annonce.client.averageRating.toFixed(1)} ({annonce.client.reviewCount} avis)\n                            </span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  ) : (\n                    'Information non disponible'\n                  )}\n                </dd>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">Type de transport</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 capitalize\">\n                  {annonce.typeTransport}\n                </dd>\n              </div>\n              <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">Trajet</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"font-medium\">{annonce.villeDepart}</p>\n                    </div>\n                    <div className=\"h-px w-4 bg-gray-300 mx-2\"></div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"font-medium\">{annonce.villeArrivee}</p>\n                    </div>\n                  </div>\n                </dd>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">Date de d�part</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  {formatDate(annonce.dateDepart)}\n                </dd>\n              </div>\n              {annonce.poids && (\n                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Poids</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    {annonce.poids} kg\n                  </dd>\n                </div>\n              )}\n              {annonce.volume && (\n                <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Volume</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    {annonce.volume} m�\n                  </dd>\n                </div>\n              )}\n              {annonce.dimensions && (\n                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Dimensions</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    {annonce.dimensions}\n                  </dd>\n                </div>\n              )}\n              {annonce.valeurDeclaree && (\n                <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Valeur d�clar�e</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    {annonce.valeurDeclaree} �\n                  </dd>\n                </div>\n              )}\n              {annonce.isUrgent && (\n                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Urgence</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n                      Demande urgente\n                    </span>\n                  </dd>\n                </div>\n              )}\n              {annonce.instructionsSpeciales && (\n                <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Instructions sp�ciales</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-line\">\n                    {annonce.instructionsSpeciales}\n                  </dd>\n                </div>\n              )}\n            </dl>\n          </div>\n\n          {/* Images de l'annonce */}\n          {annonce.images && annonce.images.length > 0 && (\n            <div className=\"px-4 py-5 sm:px-6 border-t border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Images</h3>\n              <div className=\"mt-4 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4\">\n                {annonce.images.map((image) => (\n                  <div key={image._id} className=\"relative\">\n                    <div className=\"aspect-w-1 aspect-h-1 rounded-lg bg-gray-100 overflow-hidden\">\n                      <img\n                        src={image.url}\n                        alt=\"Image de l'annonce\"\n                        className=\"object-cover\"\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Onglet des devis (visible uniquement pour le propri�taire) */}\n      {activeTab === 'devis' && isOwner && (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:px-6\">\n            <h2 className=\"text-lg font-medium text-gray-900\">\n              Devis re�us ({devis.length})\n            </h2>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Comparez les offres des transporteurs et s�lectionnez celle qui vous convient le mieux.\n            </p>\n          </div>\n          \n          {devis.length === 0 ? (\n            <div className=\"px-4 py-12 text-center border-t border-gray-200\">\n              <svg\n                className=\"mx-auto h-12 w-12 text-gray-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  vectorEffect=\"non-scaling-stroke\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\"\n                />\n              </svg>\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Aucun devis</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Vous n'avez pas encore re�u de devis pour cette annonce.\n              </p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Transporteur\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Montant\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Livraison pr�vue\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Statut\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {devis.map((devis) => (\n                    <tr key={devis._id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\">\n                            {devis.transporteur?.photo ? (\n                              <img \n                                src={devis.transporteur.photo} \n                                alt={`${devis.transporteur.prenom} ${devis.transporteur.nom}`}\n                                className=\"h-full w-full object-cover\"\n                              />\n                            ) : (\n                              <UserIcon className=\"h-6 w-6 text-gray-400\" />\n                            )}\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900\">\n                              {devis.transporteur?.prenom} {devis.transporteur?.nom}\n                            </div>\n                            {devis.transporteur?.averageRating && (\n                              <div className=\"flex items-center\">\n                                <StarIcon className=\"h-4 w-4 text-yellow-400\" />\n                                <span className=\"ml-1 text-xs text-gray-500\">\n                                  {devis.transporteur.averageRating.toFixed(1)} ({devis.transporteur.reviewCount} avis)\n                                </span>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-gray-900\">{devis.montant} �</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">{formatDate(devis.delaiLivraison)}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                          devis.statut === 'en_attente' \n                            ? 'bg-yellow-100 text-yellow-800' \n                            : devis.statut === 'accepte' || devis.statut === 'en_cours'\n                              ? 'bg-green-100 text-green-800'\n                              : devis.statut === 'refuse'\n                                ? 'bg-red-100 text-red-800'\n                                : devis.statut === 'termine'\n                                  ? 'bg-blue-100 text-blue-800'\n                                  : 'bg-gray-100 text-gray-800'\n                        }`}>\n                          {devis.statut === 'en_attente' \n                            ? 'En attente' \n                            : devis.statut === 'accepte'\n                              ? 'Accept�'\n                              : devis.statut === 'en_cours'\n                                ? 'En cours'\n                                : devis.statut === 'refuse'\n                                  ? 'Refus�'\n                                  : devis.statut === 'termine'\n                                    ? 'Termin�'\n                                    : devis.statut === 'annule'\n                                      ? 'Annul�'\n                                      : devis.statut}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex justify-end space-x-2\">\n                          <Button\n                            to={`/dashboard/devis/${devis._id}`}\n                            variant=\"outline\"\n                            size=\"sm\"\n                          >\n                            D�tails\n                          </Button>\n                          \n                          {devis.statut === 'en_attente' && annonce.statut === 'disponible' && (\n                            <>\n                              <Button\n                                variant=\"primary\"\n                                size=\"sm\"\n                                onClick={() => {\n                                  setDevisToAccept(devis);\n                                  setShowAcceptDevisModal(true);\n                                }}\n                              >\n                                Accepter\n                              </Button>\n                              <Button\n                                variant=\"danger\"\n                                size=\"sm\"\n                                onClick={() => {\n                                  setDevisToReject(devis);\n                                  setShowRejectDevisModal(true);\n                                }}\n                              >\n                                Refuser\n                              </Button>\n                            </>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Onglet de suivi */}\n      {activeTab === 'suivi' && (\n        <div className=\"space-y-6\">\n          <TrackingComponent annonceId={id} />\n          \n          {/* Informations sur le devis accept� */}\n          {selectedDevis && (\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                  D�tails du transport\n                </h3>\n                <p className=\"mt-1 text-sm text-gray-500\">\n                  Informations sur le transporteur et les conditions du transport\n                </p>\n              </div>\n              <div className=\"border-t border-gray-200 px-4 py-5 sm:p-0\">\n                <dl className=\"sm:divide-y sm:divide-gray-200\">\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Transporteur</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                      <div className=\"flex items-center\">\n                        <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden mr-3\">\n                          {selectedDevis.transporteur?.photo ? (\n                            <img \n                              src={selectedDevis.transporteur.photo} \n                              alt={`${selectedDevis.transporteur.prenom} ${selectedDevis.transporteur.nom}`}\n                              className=\"h-full w-full object-cover\"\n                            />\n                          ) : (\n                            <UserIcon className=\"h-6 w-6 text-gray-400\" />\n                          )}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">\n                            {selectedDevis.transporteur?.prenom} {selectedDevis.transporteur?.nom}\n                          </p>\n                          {selectedDevis.transporteur?.averageRating && (\n                            <div className=\"flex items-center mt-1\">\n                              <StarIcon className=\"h-4 w-4 text-yellow-400\" />\n                              <span className=\"ml-1 text-xs text-gray-500\">\n                                {selectedDevis.transporteur.averageRating.toFixed(1)} ({selectedDevis.transporteur.reviewCount} avis)\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </dd>\n                  </div>\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Montant</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                      <span className=\"font-semibold\">{selectedDevis.montant} �</span>\n                    </dd>\n                  </div>\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Livraison pr�vue</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                      {formatDate(selectedDevis.delaiLivraison)}\n                    </dd>\n                  </div>\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Message du transporteur</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-line\">\n                      {selectedDevis.message}\n                    </dd>\n                  </div>\n                </dl>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Onglet des messages */}\n      {activeTab === 'messages' && (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg h-[600px]\">\n          {annonce.client && (\n            <ConversationComponent \n              annonceId={id}\n              recipientId={isOwner ? null : annonce.client._id}\n            />\n          )}\n        </div>\n      )}\n\n      {/* Modal de confirmation de suppression */}\n      {showDeleteModal && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                    <ExclamationCircleIcon className=\"h-6 w-6 text-red-600\" aria-hidden=\"true\" />\n                  </div>\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                      Supprimer l'annonce\n                    </h3>\n                    <div className=\"mt-2\">\n                      <p className=\"text-sm text-gray-500\">\n                        Etes-vous s�r de vouloir supprimer cette annonce ? Cette action est irr�versible.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <Button\n                  type=\"button\"\n                  variant=\"danger\"\n                  onClick={handleDelete}\n                  isLoading={processingAction}\n                  disabled={processingAction}\n                  className=\"sm:ml-3\"\n                >\n                  Supprimer\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setShowDeleteModal(false)}\n                  disabled={processingAction}\n                  className=\"mt-3 sm:mt-0\"\n                >\n                  Annuler\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal de confirmation d'acceptation de devis */}\n      {showAcceptDevisModal && devisToAccept && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10\">\n                    <CheckCircleIcon className=\"h-6 w-6 text-green-600\" aria-hidden=\"true\" />\n                  </div>\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                      Accepter le devis\n                    </h3>\n                    <div className=\"mt-2\">\n                      <p className=\"text-sm text-gray-500\">\n                        Vous �tes sur le point d'accepter le devis de {devisToAccept.transporteur?.prenom} {devisToAccept.transporteur?.nom} pour un montant de {devisToAccept.montant} �.\n                      </p>\n                      <p className=\"mt-2 text-sm text-gray-500\">\n                        Une fois accept�, vous ne pourrez plus revenir en arri�re ni accepter d'autres devis pour cette annonce.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <Button\n                  type=\"button\"\n                  variant=\"primary\"\n                  onClick={handleAcceptDevis}\n                  isLoading={processingAction}\n                  disabled={processingAction}\n                  className=\"sm:ml-3\"\n                >\n                  Confirmer\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowAcceptDevisModal(false);\n                    setDevisToAccept(null);\n                  }}\n                  disabled={processingAction}\n                  className=\"mt-3 sm:mt-0\"\n                >\n                  Annuler\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal de refus de devis */}\n      {showRejectDevisModal && devisToReject && (\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\">\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n            </div>\n\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                    <XMarkIcon className=\"h-6 w-6 text-red-600\" aria-hidden=\"true\" />\n                  </div>\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                      Refuser le devis\n                    </h3>\n                    <div className=\"mt-2\">\n                      <p className=\"text-sm text-gray-500\">\n                        Vous �tes sur le point de refuser le devis de {devisToReject.transporteur?.prenom} {devisToReject.transporteur?.nom}.\n                      </p>\n                      <div className=\"mt-4\">\n                        <label htmlFor=\"rejectReason\" className=\"block text-sm font-medium text-gray-700\">\n                          Motif du refus (optionnel)\n                        </label>\n                        <div className=\"mt-1\">\n                          <textarea\n                            id=\"rejectReason\"\n                            name=\"rejectReason\"\n                            rows={3}\n                            className=\"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border border-gray-300 rounded-md\"\n                            placeholder=\"Indiquez la raison de votre refus...\"\n                            value={rejectReason}\n                            onChange={(e) => setRejectReason(e.target.value)}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <Button\n                  type=\"button\"\n                  variant=\"danger\"\n                  onClick={handleRejectDevis}\n                  isLoading={processingAction}\n                  disabled={processingAction}\n                  className=\"sm:ml-3\"\n                >\n                  Refuser le devis\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowRejectDevisModal(false);\n                    setDevisToReject(null);\n                    setRejectReason('');\n                  }}\n                  disabled={processingAction}\n                  className=\"mt-3 sm:mt-0\"\n                >\n                  Annuler\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AnnonceDetailPage;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  TruckIcon, \n  ClockIcon, \n  DocumentTextIcon,\n  MapPinIcon,\n  CurrencyEuroIcon,\n  ArrowPathIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ExclamationCircleIcon,\n  UserIcon,\n  FunnelIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\n\nimport Button from '../../../components/ui/Button';\nimport apiClient from '../../../api/client';\nimport { useAuth } from '../../../hooks/useAuth';\nimport { STATUT_DEVIS_COLORS, STATUT_DEVIS_LABELS } from '../../../utils/constants';\n\nconst MesDevisPage = () => {\n  const { user } = useAuth();\n  const [devis, setDevis] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  \n  // Filtres\n  const [filters, setFilters] = useState({\n    statut: '',\n    dateDebut: '',\n    dateFin: '',\n    tri: 'recent'\n  });\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Charger les devis\n  useEffect(() => {\n    const fetchDevis = async () => {\n      try {\n        setLoading(true);\n        \n        const endpoint = user.role === 'transporteur' \n          ? '/devis/mes-devis' \n          : '/devis/recus';\n        \n        const params = {\n          page: currentPage,\n          limit: 10,\n          ...filters\n        };\n        \n        const response = await apiClient.get(endpoint, { params });\n        setDevis(response.data.data);\n        setTotalPages(response.data.totalPages || 1);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des devis:', err);\n        setError('Erreur lors du chargement des devis. Veuillez r�essayer.');\n        toast.error('Erreur lors du chargement des devis');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDevis();\n  }, [user.role, currentPage, filters]);\n\n  // Rafra�chir les devis\n  const refreshDevis = () => {\n    setCurrentPage(1);\n    fetchDevis();\n  };\n\n  // G�rer le changement de page\n  const handlePageChange = (newPage) => {\n    if (newPage > 0 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n    }\n  };\n\n  // Appliquer les filtres\n  const applyFilters = () => {\n    setCurrentPage(1);\n  };\n\n  // R�initialiser les filtres\n  const resetFilters = () => {\n    setFilters({\n      statut: '',\n      dateDebut: '',\n      dateFin: '',\n      tri: 'recent'\n    });\n    setCurrentPage(1);\n  };\n\n  // Accepter un devis (pour les clients)\n  const handleAcceptDevis = async (devisId) => {\n    try {\n      await apiClient.put(`/devis/${devisId}/accepter`);\n      toast.success('Devis accept� avec succ�s');\n      \n      // Mettre � jour la liste des devis\n      setDevis(prevDevis => \n        prevDevis.map(d => \n          d._id === devisId ? { ...d, statut: 'accepte' } : d\n        )\n      );\n    } catch (err) {\n      console.error('Erreur lors de l\\'acceptation du devis:', err);\n      toast.error('Erreur lors de l\\'acceptation du devis');\n    }\n  };\n\n  // Refuser un devis (pour les clients)\n  const handleRefuseDevis = async (devisId) => {\n    try {\n      await apiClient.put(`/devis/${devisId}/refuser`, { \n        raison: 'Refus� par le client' \n      });\n      toast.success('Devis refus� avec succ�s');\n      \n      // Mettre � jour la liste des devis\n      setDevis(prevDevis => \n        prevDevis.map(d => \n          d._id === devisId ? { ...d, statut: 'refuse' } : d\n        )\n      );\n    } catch (err) {\n      console.error('Erreur lors du refus du devis:', err);\n      toast.error('Erreur lors du refus du devis');\n    }\n  };\n\n  // Annuler un devis (pour les transporteurs)\n  const handleCancelDevis = async (devisId) => {\n    try {\n      await apiClient.put(`/devis/${devisId}/annuler`, { \n        raison: 'Annul� par le transporteur' \n      });\n      toast.success('Devis annul� avec succ�s');\n      \n      // Mettre � jour la liste des devis\n      setDevis(prevDevis => \n        prevDevis.map(d => \n          d._id === devisId ? { ...d, statut: 'annule' } : d\n        )\n      );\n    } catch (err) {\n      console.error('Erreur lors de l\\'annulation du devis:', err);\n      toast.error('Erreur lors de l\\'annulation du devis');\n    }\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">\n          {user.role === 'transporteur' ? 'Mes devis envoy�s' : 'Devis re�us'}\n        </h1>\n        <div className=\"flex space-x-3\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setShowFilters(!showFilters)}\n          >\n            <FunnelIcon className=\"h-5 w-5 mr-2\" />\n            Filtres\n          </Button>\n          <Button\n            variant=\"outline\"\n            onClick={refreshDevis}\n            disabled={loading}\n          >\n            <ArrowPathIcon className=\"h-5 w-5 mr-2\" />\n            Actualiser\n          </Button>\n        </div>\n      </div>\n\n      {/* Filtres */}\n      {showFilters && (\n        <div className=\"bg-white shadow rounded-lg p-4 mb-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-lg font-medium text-gray-900\">Filtrer les devis</h2>\n            <button\n              type=\"button\"\n              className=\"text-gray-400 hover:text-gray-500\"\n              onClick={() => setShowFilters(false)}\n            >\n              <XMarkIcon className=\"h-5 w-5\" />\n            </button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div>\n              <label htmlFor=\"statut\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Statut\n              </label>\n              <select\n                id=\"statut\"\n                name=\"statut\"\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm\"\n                value={filters.statut}\n                onChange={(e) => setFilters({ ...filters, statut: e.target.value })}\n              >\n                <option value=\"\">Tous les statuts</option>\n                <option value=\"en_attente\">En attente</option>\n                <option value=\"accepte\">Accept�</option>\n                <option value=\"refuse\">Refus�</option>\n                <option value=\"annule\">Annul�</option>\n                <option value=\"expire\">Expir�</option>\n                <option value=\"en_cours\">En cours</option>\n                <option value=\"termine\">Termin�</option>\n              </select>\n            </div>\n            \n            <div>\n              <label htmlFor=\"dateDebut\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Date de d�but\n              </label>\n              <input\n                type=\"date\"\n                id=\"dateDebut\"\n                name=\"dateDebut\"\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm\"\n                value={filters.dateDebut}\n                onChange={(e) => setFilters({ ...filters, dateDebut: e.target.value })}\n              />\n            </div>\n            \n            <div>\n              <label htmlFor=\"dateFin\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Date de fin\n              </label>\n              <input\n                type=\"date\"\n                id=\"dateFin\"\n                name=\"dateFin\"\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm\"\n                value={filters.dateFin}\n                onChange={(e) => setFilters({ ...filters, dateFin: e.target.value })}\n              />\n            </div>\n            \n            <div>\n              <label htmlFor=\"tri\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Trier par\n              </label>\n              <select\n                id=\"tri\"\n                name=\"tri\"\n                className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm\"\n                value={filters.tri}\n                onChange={(e) => setFilters({ ...filters, tri: e.target.value })}\n              >\n                <option value=\"recent\">Plus r�cents</option>\n                <option value=\"ancien\">Plus anciens</option>\n                <option value=\"montant_asc\">Montant croissant</option>\n                <option value=\"montant_desc\">Montant d�croissant</option>\n              </select>\n            </div>\n          </div>\n          \n          <div className=\"mt-4 flex justify-end space-x-3\">\n            <Button\n              variant=\"outline\"\n              onClick={resetFilters}\n            >\n              R�initialiser\n            </Button>\n            <Button\n              variant=\"primary\"\n              onClick={applyFilters}\n            >\n              Appliquer\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Liste des devis */}\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">{error}</p>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"mt-2\"\n                onClick={refreshDevis}\n              >\n                R�essayer\n              </Button>\n            </div>\n          </div>\n        </div>\n      ) : devis.length === 0 ? (\n        <div className=\"bg-white shadow rounded-lg p-6 text-center\">\n          <DocumentTextIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            {user.role === 'transporteur' \n              ? 'Vous n\\'avez pas encore envoy� de devis' \n              : 'Vous n\\'avez pas encore re�u de devis'}\n          </h3>\n          <p className=\"text-gray-500 mb-6\">\n            {user.role === 'transporteur' \n              ? 'Parcourez les annonces pour proposer vos services de transport.' \n              : 'Cr�ez une annonce pour recevoir des devis de transporteurs.'}\n          </p>\n          <Button\n            to={user.role === 'transporteur' ? '/annonces' : '/dashboard/annonces/create'}\n            variant=\"primary\"\n          >\n            {user.role === 'transporteur' ? 'Parcourir les annonces' : 'Cr�er une annonce'}\n          </Button>\n        </div>\n      ) : (\n        <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n          <ul className=\"divide-y divide-gray-200\">\n            {devis.map((devis) => {\n              const otherParty = user.role === 'transporteur' ? devis.client : devis.transporteur;\n              const annonce = devis.annonce;\n              \n              return (\n                <li key={devis._id} className=\"hover:bg-gray-50\">\n                  <div className=\"px-6 py-5\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0\">\n                          {otherParty.photo ? (\n                            <img\n                              className=\"h-10 w-10 rounded-full object-cover\"\n                              src={otherParty.photo}\n                              alt={`${otherParty.prenom} ${otherParty.nom}`}\n                            />\n                          ) : (\n                            <div className=\"h-10 w-10 rounded-full bg-teal-500 flex items-center justify-center\">\n                              <UserIcon className=\"h-6 w-6 text-white\" />\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"ml-4\">\n                          <h3 className=\"text-lg font-medium text-gray-900\">\n                            {otherParty.prenom} {otherParty.nom}\n                          </h3>\n                          <p className=\"text-sm text-gray-500\">\n                            {user.role === 'transporteur' ? 'Client' : 'Transporteur'}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"flex flex-col items-end space-y-1\">\n                        <span className=\"text-2xl font-bold text-gray-900\">\n                          {devis.montant.toFixed(2)} �\n                        </span>\n                        <span className={`px-2 py-1 inline-flex text-xs font-medium rounded-full ${STATUT_DEVIS_COLORS[devis.statut]}`}>\n                          {STATUT_DEVIS_LABELS[devis.statut]}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"flex items-center\">\n                          <DocumentTextIcon className=\"h-5 w-5 text-gray-400 mr-1.5\" />\n                          <h4 className=\"text-sm font-medium text-gray-700\">Annonce</h4>\n                        </div>\n                        <div className=\"mt-1.5\">\n                          <p className=\"text-sm font-medium text-gray-900\">{annonce.titre}</p>\n                          <p className=\"text-xs text-gray-500 flex items-center mt-1\">\n                            <MapPinIcon className=\"h-4 w-4 text-gray-400 mr-1\" />\n                            {annonce.villeDepart} ? {annonce.villeArrivee}\n                          </p>\n                        </div>\n                      </div>\n                      \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <div className=\"flex items-center\">\n                          <ClockIcon className=\"h-5 w-5 text-gray-400 mr-1.5\" />\n                          <h4 className=\"text-sm font-medium text-gray-700\">Dates</h4>\n                        </div>\n                        <div className=\"mt-1.5 grid grid-cols-2 gap-2\">\n                          <div>\n                            <p className=\"text-xs text-gray-500\">D�part demand�</p>\n                            <p className=\"text-sm text-gray-900\">\n                              {format(new Date(annonce.dateDepart), 'dd MMM yyyy', { locale: fr })}\n                            </p>\n                          </div>\n                          <div>\n                            <p className=\"text-xs text-gray-500\">Livraison estim�e</p>\n                            <p className=\"text-sm text-gray-900\">\n                              {format(new Date(devis.delaiLivraison), 'dd MMM yyyy', { locale: fr })}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mt-4\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-1 text-sm text-gray-500\">\n                          Devis cr�� le {format(new Date(devis.createdAt), 'dd MMMM yyyy', { locale: fr })}\n                        </div>\n                        <div className=\"flex space-x-2\">\n                          <Button\n                            to={`/dashboard/devis/${devis._id}`}\n                            variant=\"outline\"\n                            size=\"sm\"\n                          >\n                            Voir les d�tails\n                          </Button>\n                          \n                          {/* Boutons d'action bas�s sur le r�le et le statut */}\n                          {user.role === 'client' && devis.statut === 'en_attente' && (\n                            <>\n                              <Button\n                                variant=\"primary\"\n                                size=\"sm\"\n                                onClick={() => handleAcceptDevis(devis._id)}\n                              >\n                                Accepter\n                              </Button>\n                              <Button\n                                variant=\"danger\"\n                                size=\"sm\"\n                                onClick={() => handleRefuseDevis(devis._id)}\n                              >\n                                Refuser\n                              </Button>\n                            </>\n                          )}\n                          \n                          {user.role === 'transporteur' && devis.statut === 'en_attente' && (\n                            <Button\n                              variant=\"danger\"\n                              size=\"sm\"\n                              onClick={() => handleCancelDevis(devis._id)}\n                            >\n                              Annuler\n                            </Button>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      )}\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"mt-6 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-md shadow\">\n          <div className=\"flex flex-1 justify-between sm:hidden\">\n            <Button\n              variant=\"outline\"\n              onClick={() => handlePageChange(currentPage - 1)}\n              disabled={currentPage === 1}\n            >\n              Pr�c�dent\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => handlePageChange(currentPage + 1)}\n              disabled={currentPage === totalPages}\n            >\n              Suivant\n            </Button>\n          </div>\n          <div className=\"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-700\">\n                Affichage de la page <span className=\"font-medium\">{currentPage}</span> sur <span className=\"font-medium\">{totalPages}</span>\n              </p>\n            </div>\n            <div>\n              <nav className=\"isolate inline-flex -space-x-px rounded-md shadow-sm\" aria-label=\"Pagination\">\n                <button\n                  onClick={() => handlePageChange(currentPage - 1)}\n                  disabled={currentPage === 1}\n                  className=\"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <span className=\"sr-only\">Pr�c�dent</span>\n                  <ChevronLeftIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n                \n                {[...Array(totalPages)].map((_, i) => {\n                  const pageNumber = i + 1;\n                  // Afficher la premi�re page, la derni�re, et les pages autour de la page courante\n                  if (\n                    pageNumber === 1 ||\n                    pageNumber === totalPages ||\n                    (pageNumber >= currentPage - 1 && pageNumber <= currentPage + 1)\n                  ) {\n                    return (\n                      <button\n                        key={pageNumber}\n                        onClick={() => handlePageChange(pageNumber)}\n                        className={`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${\n                          pageNumber === currentPage\n                            ? 'bg-teal-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600'\n                            : 'text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0'\n                        }`}\n                      >\n                        {pageNumber}\n                      </button>\n                    );\n                  }\n                  \n                  // Afficher des points de suspension pour les sauts de pages\n                  if (\n                    (pageNumber === 2 && currentPage > 3) ||\n                    (pageNumber === totalPages - 1 && currentPage < totalPages - 2)\n                  ) {\n                    return (\n                      <span\n                        key={pageNumber}\n                        className=\"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300 focus:outline-offset-0\"\n                      >\n                        ...\n                      </span>\n                    );\n                  }\n                  \n                  return null;\n                })}\n                \n                <button\n                  onClick={() => handlePageChange(currentPage + 1)}\n                  disabled={currentPage === totalPages}\n                  className=\"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <span className=\"sr-only\">Suivant</span>\n                  <ChevronRightIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                </button>\n              </nav>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MesDevisPage;","import apiClient from '../api/client';\r\n\r\nconst devisService = {\r\n  // Créer un nouveau devis\r\n  createDevis: async (devisData) => {\r\n    try {\r\n      const response = await apiClient.post('/devis', devisData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la création du devis' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les devis pour une annonce spécifique\r\n  getDevisForAnnonce: async (annonceId) => {\r\n    try {\r\n      const response = await apiClient.get(`/devis/annonce/${annonceId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des devis' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les devis envoyés par le transporteur\r\n  getMesDevisEnvoyes: async (filters = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/devis/mes-devis', { params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération de vos devis' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les devis reçus par le client\r\n  getMesDevisRecus: async (filters = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/devis/recus', { params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des devis reçus' };\r\n    }\r\n  },\r\n\r\n  // Récupérer un devis par son ID\r\n  getDevisById: async (id) => {\r\n    try {\r\n      const response = await apiClient.get(`/devis/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération du devis' };\r\n    }\r\n  },\r\n\r\n  // Accepter un devis\r\n  accepterDevis: async (devisId) => {\r\n    try {\r\n      const response = await apiClient.put(`/devis/${devisId}/accepter`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de l\\'acceptation du devis' };\r\n    }\r\n  },\r\n\r\n  // Refuser un devis\r\n  refuserDevis: async (devisId, raison) => {\r\n    try {\r\n      const response = await apiClient.put(`/devis/${devisId}/refuser`, { raison });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors du refus du devis' };\r\n    }\r\n  },\r\n\r\n  // Annuler un devis (transporteur)\r\n  annulerDevis: async (devisId, raison) => {\r\n    try {\r\n      const response = await apiClient.put(`/devis/${devisId}/annuler`, { raison });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de l\\'annulation du devis' };\r\n    }\r\n  },\r\n\r\n  // Mettre à jour le statut d'un transport en cours\r\n  updateStatutTransport: async (devisId, statut, commentaire, localisation) => {\r\n    try {\r\n      const response = await apiClient.put(`/devis/${devisId}/statut`, {\r\n        statut,\r\n        commentaire,\r\n        localisation\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la mise à jour du statut' };\r\n    }\r\n  },\r\n\r\n  // Modifier un devis\r\n  updateDevis: async (devisId, devisData) => {\r\n    try {\r\n      const response = await apiClient.put(`/devis/${devisId}`, devisData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la modification du devis' };\r\n    }\r\n  }\r\n};\r\n\r\nexport default devisService;","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport { \n  TruckIcon, \n  CurrencyEuroIcon, \n  ClockIcon,\n  MapPinIcon,\n  CalendarIcon,\n  UserIcon\n} from '@heroicons/react/24/outline';\nimport apiClient from '../../../api/client';\nimport devisService from '../../../services/devisService';\nimport Button from '../../../components/ui/Button';\nimport Input from '../../../components/ui/Input';\nimport { formatDate } from '../../../utils/formatters';\n\nconst CreateDevisPage = () => {\n  const { annonceId } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [annonce, setAnnonce] = useState(null);\n  const [annonceLoading, setAnnonceLoading] = useState(true);\n  const [annonceError, setAnnonceError] = useState(null);\n\n  // Validation du formulaire avec Yup\n  const validationSchema = Yup.object({\n    montant: Yup.number()\n      .required('Le montant est obligatoire')\n      .positive('Le montant doit �tre positif')\n      .typeError('Le montant doit �tre un nombre'),\n    delaiLivraison: Yup.date()\n      .required('La date de livraison est obligatoire')\n      .min(new Date(), 'La date de livraison doit �tre dans le futur')\n      .typeError('Veuillez entrer une date valide'),\n    message: Yup.string()\n      .required('Un message est obligatoire')\n      .min(20, 'Le message doit comporter au moins 20 caract�res')\n      .max(1000, 'Le message ne doit pas d�passer 1000 caract�res'),\n    conditions: Yup.boolean()\n      .oneOf([true], 'Vous devez accepter les conditions g�n�rales')\n  });\n\n  // Initialisation du formulaire avec Formik\n  const formik = useFormik({\n    initialValues: {\n      montant: '',\n      delaiLivraison: '',\n      message: '',\n      conditions: false\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        \n        // Construction de l'objet devis � envoyer\n        const devisData = {\n          annonceId,\n          montant: parseFloat(values.montant),\n          delaiLivraison: values.delaiLivraison,\n          message: values.message\n        };\n        \n        // Appel � l'API pour cr�er le devis\n        const response = await devisService.createDevis(devisData);\n        \n        toast.success('Devis envoy� avec succ�s');\n        \n        // Redirection vers la page du devis cr��\n        navigate(`/dashboard/devis/${response.data._id}`);\n      } catch (error) {\n        console.error('Erreur lors de la cr�ation du devis:', error);\n        toast.error(error.message || 'Erreur lors de la cr�ation du devis');\n      } finally {\n        setLoading(false);\n      }\n    }\n  });\n\n  // R�cup�ration des d�tails de l'annonce\n  useEffect(() => {\n    const fetchAnnonce = async () => {\n      try {\n        setAnnonceLoading(true);\n        const response = await apiClient.get(`/annonces/${annonceId}`);\n        setAnnonce(response.data.data);\n        setAnnonceError(null);\n        \n        // Pr�remplir la date de livraison si disponible dans l'annonce\n        if (response.data.data.dateArrivee) {\n          formik.setFieldValue('delaiLivraison', new Date(response.data.data.dateArrivee));\n        }\n      } catch (err) {\n        console.error('Erreur lors du chargement de l\\'annonce:', err);\n        setAnnonceError('Impossible de charger les d�tails de l\\'annonce');\n        toast.error('Erreur lors du chargement des d�tails de l\\'annonce');\n      } finally {\n        setAnnonceLoading(false);\n      }\n    };\n\n    if (annonceId) {\n      fetchAnnonce();\n    }\n  }, [annonceId]);\n\n  if (annonceLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n      </div>\n    );\n  }\n\n  if (annonceError || !annonce) {\n    return (\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <div className=\"text-center text-red-600 mb-4\">\n          <svg \n            className=\"mx-auto h-12 w-12 text-red-500\" \n            fill=\"none\" \n            viewBox=\"0 0 24 24\" \n            stroke=\"currentColor\"\n          >\n            <path \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\" \n              strokeWidth={2} \n              d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" \n            />\n          </svg>\n          <h2 className=\"text-lg font-medium mt-2\">\n            {annonceError || \"Cette annonce n'existe pas ou a �t� supprim�e.\"}\n          </h2>\n        </div>\n        <div className=\"text-center\">\n          <Button\n            to=\"/annonces\"\n            variant=\"primary\"\n          >\n            Retour aux annonces\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n            Cr�er un devis\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Proposez votre offre pour cette demande de transport\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Button\n            to={`/annonces/${annonceId}`}\n            variant=\"outline\"\n          >\n            Retour � l'annonce\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-x-4 gap-y-8 md:grid-cols-3\">\n        {/* Informations sur l'annonce */}\n        <div className=\"md:col-span-1\">\n          <div className=\"bg-white shadow overflow-hidden rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h2 className=\"text-lg font-medium text-gray-900\">D�tails de l'annonce</h2>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Informations sur la demande de transport\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200 px-4 py-5 sm:p-0\">\n              <dl className=\"sm:divide-y sm:divide-gray-200\">\n                <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                    <TruckIcon className=\"mr-1 h-5 w-5 text-gray-400\" />\n                    Type\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 capitalize\">\n                    {annonce.typeTransport || 'Non sp�cifi�'}\n                  </dd>\n                </div>\n                <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                    <MapPinIcon className=\"mr-1 h-5 w-5 text-gray-400\" />\n                    Trajet\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium\">{annonce.villeDepart}</p>\n                      </div>\n                      <div className=\"h-px w-4 bg-gray-300 mx-2\"></div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium\">{annonce.villeArrivee}</p>\n                      </div>\n                    </div>\n                  </dd>\n                </div>\n                <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                    <CalendarIcon className=\"mr-1 h-5 w-5 text-gray-400\" />\n                    Date de d�part\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    {formatDate(annonce.dateDepart)}\n                  </dd>\n                </div>\n                <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                    <UserIcon className=\"mr-1 h-5 w-5 text-gray-400\" />\n                    Client\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    {annonce.client?.prenom} {annonce.client?.nom}\n                  </dd>\n                </div>\n                {annonce.poids && (\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Poids</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                      {annonce.poids} kg\n                    </dd>\n                  </div>\n                )}\n                {annonce.volume && (\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Volume</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                      {annonce.volume} m�\n                    </dd>\n                  </div>\n                )}\n                {annonce.description && (\n                  <div className=\"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Description</dt>\n                    <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                      {annonce.description}\n                    </dd>\n                  </div>\n                )}\n              </dl>\n            </div>\n          </div>\n        </div>\n\n        {/* Formulaire de devis */}\n        <div className=\"md:col-span-2\">\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <form onSubmit={formik.handleSubmit}>\n                <div className=\"space-y-6\">\n                  {/* Montant */}\n                  <div>\n                    <Input\n                      id=\"montant\"\n                      name=\"montant\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      label=\"Montant propos� (�)\"\n                      placeholder=\"Ex: 250.00\"\n                      value={formik.values.montant}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.montant && formik.errors.montant}\n                      touched={formik.touched.montant}\n                      icon={<CurrencyEuroIcon className=\"h-5 w-5 text-gray-400\" />}\n                      required\n                    />\n                  </div>\n\n                  {/* Date de livraison */}\n                  <div>\n                    <Input\n                      id=\"delaiLivraison\"\n                      name=\"delaiLivraison\"\n                      type=\"date\"\n                      label=\"Date de livraison pr�vue\"\n                      value={formik.values.delaiLivraison ? new Date(formik.values.delaiLivraison).toISOString().split('T')[0] : ''}\n                      onChange={formik.handleChange}\n                      onBlur={formik.handleBlur}\n                      error={formik.touched.delaiLivraison && formik.errors.delaiLivraison}\n                      touched={formik.touched.delaiLivraison}\n                      icon={<ClockIcon className=\"h-5 w-5 text-gray-400\" />}\n                      required\n                      min={new Date().toISOString().split('T')[0]}\n                    />\n                  </div>\n\n                  {/* Message */}\n                  <div>\n                    <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700\">\n                      Message au client\n                    </label>\n                    <div className=\"mt-1\">\n                      <textarea\n                        id=\"message\"\n                        name=\"message\"\n                        rows={6}\n                        className=\"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                        placeholder=\"D�crivez votre offre, vos conditions, votre exp�rience...\"\n                        value={formik.values.message}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                      />\n                    </div>\n                    <p className=\"mt-2 text-sm text-gray-500\">\n                      Soyez pr�cis et professionnel pour augmenter vos chances d'�tre s�lectionn�.\n                    </p>\n                    {formik.touched.message && formik.errors.message && (\n                      <p className=\"mt-2 text-sm text-red-600\">{formik.errors.message}</p>\n                    )}\n                  </div>\n\n                  {/* Conditions g�n�rales */}\n                  <div className=\"relative flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"conditions\"\n                        name=\"conditions\"\n                        type=\"checkbox\"\n                        className=\"focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300 rounded\"\n                        checked={formik.values.conditions}\n                        onChange={formik.handleChange}\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"conditions\" className=\"font-medium text-gray-700\">\n                        J'accepte les conditions g�n�rales\n                      </label>\n                      <p className=\"text-gray-500\">\n                        En soumettant ce devis, je m'engage � respecter les termes et d�lais propos�s.\n                      </p>\n                      {formik.touched.conditions && formik.errors.conditions && (\n                        <p className=\"mt-2 text-sm text-red-600\">{formik.errors.conditions}</p>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"pt-5 border-t border-gray-200\">\n                    <div className=\"flex justify-end\">\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        onClick={() => navigate(`/annonces/${annonceId}`)}\n                        className=\"mr-3\"\n                      >\n                        Annuler\n                      </Button>\n                      <Button\n                        type=\"submit\"\n                        variant=\"primary\"\n                        isLoading={loading}\n                        disabled={loading}\n                      >\n                        Envoyer le devis\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n\n          {/* Conseils pour un bon devis */}\n          <div className=\"mt-6 bg-blue-50 rounded-lg border border-blue-100 p-4\">\n            <h3 className=\"text-lg font-medium text-blue-800\">Conseils pour un bon devis</h3>\n            <ul className=\"mt-2 list-disc pl-5 text-sm text-blue-700 space-y-1\">\n              <li>Soyez transparent sur les co�ts et les services inclus</li>\n              <li>Pr�cisez les d�lais de livraison r�alistes</li>\n              <li>Mettez en avant votre exp�rience et vos qualifications</li>\n              <li>D�taillez les mesures de s�curit� que vous prendrez pour prot�ger les biens</li>\n              <li>Proposez des options additionnelles si pertinent (emballage, assurance, etc.)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateDevisPage;","import React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport {\r\n  CreditCardIcon,\r\n  BanknotesIcon,\r\n  BuildingLibraryIcon,\r\n  ShieldCheckIcon,\r\n  ExclamationCircleIcon\r\n} from '@heroicons/react/24/outline';\r\nimport Button from '../ui/Button';\r\nimport apiClient from '../../api/client';\r\n\r\nconst PaymentComponent = ({ devisId, montant, onPaymentComplete }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [paymentMethod, setPaymentMethod] = useState('card');\r\n  const [formData, setFormData] = useState({\r\n    cardNumber: '',\r\n    cardName: '',\r\n    expiry: '',\r\n    cvc: '',\r\n    saveCard: false\r\n  });\r\n  const [savedCards, setSavedCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [showForm, setShowForm] = useState(true);\r\n\r\n  // Fetch saved payment methods on component mount\r\n  useEffect(() => {\r\n    const fetchSavedCards = async () => {\r\n      try {\r\n        const response = await apiClient.get('/payment-methods');\r\n        setSavedCards(response.data.data);\r\n        if (response.data.data.length > 0) {\r\n          setShowForm(false);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching saved cards:', err);\r\n        // Don't set error here, just log it\r\n      }\r\n    };\r\n\r\n    fetchSavedCards();\r\n  }, []);\r\n\r\n  // Handle input change\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    });\r\n  };\r\n\r\n  // Handle payment method selection\r\n  const handlePaymentMethodChange = (method) => {\r\n    setPaymentMethod(method);\r\n    setError(null);\r\n  };\r\n\r\n  // Handle saved card selection\r\n  const handleCardSelection = (cardId) => {\r\n    setSelectedCard(cardId);\r\n    setError(null);\r\n  };\r\n\r\n  // Show new card form\r\n  const handleShowNewCardForm = () => {\r\n    setShowForm(true);\r\n    setSelectedCard(null);\r\n  };\r\n\r\n  // Format card number with spaces\r\n  const formatCardNumber = (value) => {\r\n    return value\r\n      .replace(/\\s/g, '')\r\n      .replace(/(\\d{4})/g, '$1 ')\r\n      .trim();\r\n  };\r\n\r\n  // Format expiry date (MM/YY)\r\n  const formatExpiry = (value) => {\r\n    return value\r\n      .replace(/\\//g, '')\r\n      .replace(/(\\d{2})(\\d{0,2})/, '$1/$2')\r\n      .trim();\r\n  };\r\n\r\n  // Validate card number (basic)\r\n  const isCardNumberValid = (cardNumber) => {\r\n    const regex = /^(\\d{4}\\s){3}\\d{4}$/;\r\n    return regex.test(cardNumber);\r\n  };\r\n\r\n  // Validate expiry date\r\n  const isExpiryValid = (expiry) => {\r\n    if (!expiry) return false;\r\n    \r\n    const regex = /^(0[1-9]|1[0-2])\\/([0-9]{2})$/;\r\n    if (!regex.test(expiry)) return false;\r\n    \r\n    const [month, year] = expiry.split('/');\r\n    const expDate = new Date(2000 + parseInt(year), parseInt(month) - 1);\r\n    const today = new Date();\r\n    \r\n    return expDate > today;\r\n  };\r\n\r\n  // Validate CVC\r\n  const isCvcValid = (cvc) => {\r\n    const regex = /^\\d{3,4}$/;\r\n    return regex.test(cvc);\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Validate the payment information\r\n      if (paymentMethod === 'card' && showForm) {\r\n        // Form validation for new card\r\n        if (!isCardNumberValid(formData.cardNumber)) {\r\n          throw new Error('Numéro de carte invalide');\r\n        }\r\n        if (!isExpiryValid(formData.expiry)) {\r\n          throw new Error('Date d\\'expiration invalide');\r\n        }\r\n        if (!isCvcValid(formData.cvc)) {\r\n          throw new Error('Code de sécurité invalide');\r\n        }\r\n        if (!formData.cardName) {\r\n          throw new Error('Veuillez entrer le nom sur la carte');\r\n        }\r\n      }\r\n\r\n      // Prepare payment data\r\n      const paymentData = {\r\n        devisId,\r\n        montant,\r\n        methodePaiement: paymentMethod,\r\n        ...(paymentMethod === 'card' && {\r\n          carte: selectedCard \r\n            ? { id: selectedCard } \r\n            : {\r\n                numero: formData.cardNumber.replace(/\\s/g, ''),\r\n                nom: formData.cardName,\r\n                expiration: formData.expiry,\r\n                cvc: formData.cvc,\r\n                sauvegarder: formData.saveCard\r\n              }\r\n        })\r\n      };\r\n\r\n      // Send payment request to the API\r\n      const response = await apiClient.post('/payments', paymentData);\r\n\r\n      toast.success('Paiement effectué avec succès !');\r\n      \r\n      // Call the onPaymentComplete callback\r\n      if (onPaymentComplete) {\r\n        onPaymentComplete(response.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error processing payment:', err);\r\n      setError(err.response?.data?.message || err.message || 'Une erreur est survenue lors du paiement');\r\n      toast.error(err.response?.data?.message || err.message || 'Échec du paiement');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Paiement</h2>\r\n      \r\n      {/* Payment Amount */}\r\n      <div className=\"bg-gray-50 rounded-md p-4 mb-6\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <span className=\"text-gray-600\">Montant à payer :</span>\r\n          <span className=\"text-xl font-bold\">{montant.toFixed(2)} €</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4 mb-6\">\r\n          <div className=\"flex\">\r\n            <ExclamationCircleIcon className=\"h-5 w-5 text-red-500 mr-2\" />\r\n            <span className=\"text-red-700\">{error}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        {/* Payment Method Selection */}\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n            Méthode de paiement\r\n          </label>\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            <div\r\n              className={`border rounded-md p-3 text-center cursor-pointer transition-colors ${\r\n                paymentMethod === 'card'\r\n                  ? 'border-teal-500 bg-teal-50 text-teal-700'\r\n                  : 'border-gray-300 hover:border-gray-400'\r\n              }`}\r\n              onClick={() => handlePaymentMethodChange('card')}\r\n            >\r\n              <CreditCardIcon className=\"h-6 w-6 mx-auto mb-1\" />\r\n              <span className=\"text-sm\">Carte bancaire</span>\r\n            </div>\r\n            <div\r\n              className={`border rounded-md p-3 text-center cursor-pointer transition-colors ${\r\n                paymentMethod === 'virement'\r\n                  ? 'border-teal-500 bg-teal-50 text-teal-700'\r\n                  : 'border-gray-300 hover:border-gray-400'\r\n              }`}\r\n              onClick={() => handlePaymentMethodChange('virement')}\r\n            >\r\n              <BuildingLibraryIcon className=\"h-6 w-6 mx-auto mb-1\" />\r\n              <span className=\"text-sm\">Virement bancaire</span>\r\n            </div>\r\n            <div\r\n              className={`border rounded-md p-3 text-center cursor-pointer transition-colors ${\r\n                paymentMethod === 'paypal'\r\n                  ? 'border-teal-500 bg-teal-50 text-teal-700'\r\n                  : 'border-gray-300 hover:border-gray-400'\r\n              }`}\r\n              onClick={() => handlePaymentMethodChange('paypal')}\r\n            >\r\n              <BanknotesIcon className=\"h-6 w-6 mx-auto mb-1\" />\r\n              <span className=\"text-sm\">PayPal</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Credit Card Payment */}\r\n        {paymentMethod === 'card' && (\r\n          <>\r\n            {/* Saved Cards */}\r\n            {savedCards.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  Cartes enregistrées\r\n                </label>\r\n                <div className=\"space-y-3\">\r\n                  {savedCards.map((card) => (\r\n                    <div\r\n                      key={card.id}\r\n                      className={`border rounded-md p-3 cursor-pointer transition-colors ${\r\n                        selectedCard === card.id\r\n                          ? 'border-teal-500 bg-teal-50'\r\n                          : 'border-gray-300 hover:border-gray-400'\r\n                      }`}\r\n                      onClick={() => handleCardSelection(card.id)}\r\n                    >\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <div className=\"flex items-center\">\r\n                          <CreditCardIcon className=\"h-5 w-5 mr-2 text-gray-500\" />\r\n                          <div>\r\n                            <div className=\"font-medium\">\r\n                              •••• •••• •••• {card.last4}\r\n                            </div>\r\n                            <div className=\"text-sm text-gray-500\">\r\n                              Expire le {card.expMonth}/{card.expYear}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center\">\r\n                          {card.brand === 'visa' && (\r\n                            <span className=\"text-blue-600 font-semibold\">VISA</span>\r\n                          )}\r\n                          {card.brand === 'mastercard' && (\r\n                            <span className=\"text-red-600 font-semibold\">MasterCard</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  \r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"text-teal-600 font-medium text-sm hover:text-teal-700\"\r\n                    onClick={handleShowNewCardForm}\r\n                  >\r\n                    + Utiliser une nouvelle carte\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* New Card Form */}\r\n            {showForm && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"cardNumber\" className=\"form-label\">\r\n                    Numéro de carte\r\n                  </label>\r\n                  <input\r\n                    id=\"cardNumber\"\r\n                    name=\"cardNumber\"\r\n                    type=\"text\"\r\n                    placeholder=\"1234 5678 9012 3456\"\r\n                    className=\"form-control\"\r\n                    value={formData.cardNumber}\r\n                    onChange={(e) => {\r\n                      const formattedValue = formatCardNumber(e.target.value);\r\n                      setFormData({ ...formData, cardNumber: formattedValue });\r\n                    }}\r\n                    maxLength={19}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"cardName\" className=\"form-label\">\r\n                    Nom sur la carte\r\n                  </label>\r\n                  <input\r\n                    id=\"cardName\"\r\n                    name=\"cardName\"\r\n                    type=\"text\"\r\n                    placeholder=\"JEAN DUPONT\"\r\n                    className=\"form-control\"\r\n                    value={formData.cardName}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"expiry\" className=\"form-label\">\r\n                      Date d'expiration (MM/YY)\r\n                    </label>\r\n                    <input\r\n                      id=\"expiry\"\r\n                      name=\"expiry\"\r\n                      type=\"text\"\r\n                      placeholder=\"MM/YY\"\r\n                      className=\"form-control\"\r\n                      value={formData.expiry}\r\n                      onChange={(e) => {\r\n                        const formattedValue = formatExpiry(e.target.value);\r\n                        setFormData({ ...formData, expiry: formattedValue });\r\n                      }}\r\n                      maxLength={5}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"cvc\" className=\"form-label\">\r\n                      Code de sécurité (CVC)\r\n                    </label>\r\n                    <input\r\n                      id=\"cvc\"\r\n                      name=\"cvc\"\r\n                      type=\"text\"\r\n                      placeholder=\"123\"\r\n                      className=\"form-control\"\r\n                      value={formData.cvc}\r\n                      onChange={handleChange}\r\n                      maxLength={4}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center mt-4\">\r\n                  <input\r\n                    id=\"saveCard\"\r\n                    name=\"saveCard\"\r\n                    type=\"checkbox\"\r\n                    className=\"h-4 w-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\r\n                    checked={formData.saveCard}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <label htmlFor=\"saveCard\" className=\"ml-2 text-sm text-gray-700\">\r\n                    Sauvegarder cette carte pour mes prochains paiements\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Virement bancaire */}\r\n        {paymentMethod === 'virement' && (\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6\">\r\n            <p className=\"text-blue-700 mb-2\">\r\n              <strong>Instructions pour le virement bancaire :</strong>\r\n            </p>\r\n            <p className=\"text-blue-700 mb-1\">\r\n              Titulaire du compte : Pro-Trans SAS\r\n            </p>\r\n            <p className=\"text-blue-700 mb-1\">\r\n              IBAN : FR76 1234 5678 9012 3456 7890 123\r\n            </p>\r\n            <p className=\"text-blue-700 mb-1\">\r\n              BIC : ABCDEFGH\r\n            </p>\r\n            <p className=\"text-blue-700 mb-1\">\r\n              Motif : Transport {devisId}\r\n            </p>\r\n            <p className=\"text-sm text-blue-600 mt-4\">\r\n              Attention : Votre réservation sera confirmée uniquement après réception du paiement. Veuillez prévoir un délai de 2 à 3 jours ouvrés.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* PayPal */}\r\n        {paymentMethod === 'paypal' && (\r\n          <div className=\"text-center bg-blue-50 border border-blue-200 rounded-md p-6 mb-6\">\r\n            <p className=\"text-blue-700 mb-4\">\r\n              Vous allez être redirigé vers PayPal pour finaliser votre paiement.\r\n            </p>\r\n            {/* PayPal button would be integrated here */}\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"primary\"\r\n              className=\"bg-blue-500 hover:bg-blue-600\"\r\n              onClick={() => toast.info('Redirection vers PayPal (simulation)')}\r\n            >\r\n              Payer avec PayPal\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Security Notice */}\r\n        <div className=\"mt-6 flex items-center justify-center text-sm text-gray-500\">\r\n          <ShieldCheckIcon className=\"h-5 w-5 text-green-500 mr-2\" />\r\n          <span>Paiement 100% sécurisé avec cryptage SSL</span>\r\n        </div>\r\n\r\n        {/* Submit Button */}\r\n        <div className=\"mt-6\">\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"primary\"\r\n            fullWidth\r\n            isLoading={loading}\r\n            disabled={loading || (paymentMethod === 'card' && !selectedCard && !showForm)}\r\n          >\r\n            {loading ? 'Traitement en cours...' : 'Confirmer le paiement'}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentComponent;","import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  ArrowLeftIcon,\n  TruckIcon, \n  MapPinIcon, \n  CalendarIcon,\n  DocumentTextIcon,\n  CurrencyEuroIcon,\n  ClockIcon,\n  ChatBubbleLeftRightIcon,\n  CheckIcon,\n  XMarkIcon,\n  ShieldCheckIcon,\n  ExclamationCircleIcon,\n  UserIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\n\nimport Button from '../../../components/ui/Button';\nimport TrackingComponent from '../../../components/transport/TrackingComponent';\nimport PaymentComponent from '../../../components/payment/PaymentComponent';\nimport apiClient from '../../../api/client';\nimport { useAuth } from '../../../hooks/useAuth';\nimport { STATUT_DEVIS_COLORS, STATUT_DEVIS_LABELS } from '../../../utils/constants';\n\nconst DevisDetailPage = () => {\n  const { id } = useParams();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [devis, setDevis] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showPaymentForm, setShowPaymentForm] = useState(false);\n\n  // Charger les d�tails du devis\n  useEffect(() => {\n    const fetchDevisDetails = async () => {\n      try {\n        setLoading(true);\n        const response = await apiClient.get(`/devis/${id}`);\n        setDevis(response.data.data);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des d�tails du devis:', err);\n        setError('Erreur lors du chargement des d�tails du devis. Veuillez r�essayer.');\n        toast.error('Erreur lors du chargement des d�tails du devis');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDevisDetails();\n  }, [id]);\n\n  // G�rer l'acceptation du devis (pour les clients)\n  const handleAcceptDevis = async () => {\n    try {\n      await apiClient.put(`/devis/${id}/accepter`);\n      toast.success('Devis accept� avec succ�s !');\n      \n      // Mettre � jour le devis\n      setDevis({ ...devis, statut: 'accepte' });\n      \n      // Afficher le formulaire de paiement\n      setShowPaymentForm(true);\n    } catch (err) {\n      console.error('Erreur lors de l\\'acceptation du devis:', err);\n      toast.error('Erreur lors de l\\'acceptation du devis');\n    }\n  };\n\n  // G�rer le refus du devis (pour les clients)\n  const handleRefuseDevis = async () => {\n    try {\n      await apiClient.put(`/devis/${id}/refuser`, { raison: 'Refus� par le client' });\n      toast.success('Devis refus� avec succ�s');\n      \n      // Mettre � jour le devis\n      setDevis({ ...devis, statut: 'refuse' });\n    } catch (err) {\n      console.error('Erreur lors du refus du devis:', err);\n      toast.error('Erreur lors du refus du devis');\n    }\n  };\n\n  // G�rer l'annulation du devis (pour les transporteurs)\n  const handleCancelDevis = async () => {\n    try {\n      await apiClient.put(`/devis/${id}/annuler`, { raison: 'Annul� par le transporteur' });\n      toast.success('Devis annul� avec succ�s');\n      \n      // Mettre � jour le devis\n      setDevis({ ...devis, statut: 'annule' });\n    } catch (err) {\n      console.error('Erreur lors de l\\'annulation du devis:', err);\n      toast.error('Erreur lors de l\\'annulation du devis');\n    }\n  };\n\n  // G�rer la mise � jour du statut de transport (pour les transporteurs)\n  const handleUpdateStatus = async (statut, commentaire = '', localisation = '') => {\n    try {\n      await apiClient.put(`/devis/${id}/statut`, { statut, commentaire, localisation });\n      toast.success('Statut mis � jour avec succ�s');\n      \n      // Recharger le devis pour avoir les derni�res informations\n      const response = await apiClient.get(`/devis/${id}`);\n      setDevis(response.data.data);\n    } catch (err) {\n      console.error('Erreur lors de la mise � jour du statut:', err);\n      toast.error('Erreur lors de la mise � jour du statut');\n    }\n  };\n\n  // G�rer le paiement compl�t�\n  const handlePaymentComplete = (paymentData) => {\n    toast.success('Paiement effectu� avec succ�s !');\n    setShowPaymentForm(false);\n    \n    // Recharger le devis pour avoir les derni�res informations\n    const fetchUpdatedDevis = async () => {\n      try {\n        const response = await apiClient.get(`/devis/${id}`);\n        setDevis(response.data.data);\n      } catch (err) {\n        console.error('Erreur lors du chargement des d�tails du devis:', err);\n      }\n    };\n    \n    fetchUpdatedDevis();\n  };\n\n  // Formater une date\n  const formatDate = (date) => {\n    return format(new Date(date), 'dd MMMM yyyy', { locale: fr });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !devis) {\n    return (\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">{error || 'Devis non trouv�'}</p>\n              <Button \n                to=\"/dashboard/devis\"\n                variant=\"outline\" \n                size=\"sm\" \n                className=\"mt-2\"\n              >\n                Retour aux devis\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // D�terminer l'autre partie (client ou transporteur)\n  const otherParty = user.role === 'client' ? devis.transporteur : devis.client;\n  \n  // D�terminer si l'utilisateur peut prendre des actions\n  const canAccept = user.role === 'client' && devis.statut === 'en_attente';\n  const canRefuse = user.role === 'client' && devis.statut === 'en_attente';\n  const canCancel = user.role === 'transporteur' && devis.statut === 'en_attente';\n  const canUpdateStatus = user.role === 'transporteur' && devis.statut === 'accepte';\n  const needsPayment = user.role === 'client' && devis.statut === 'accepte' && !devis.paiement;\n\n  return (\n    <div className=\"max-w-7xl mx-auto\">\n      <div className=\"mb-6\">\n        <Button\n          to=\"/dashboard/devis\"\n          variant=\"outline\"\n        >\n          <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n          Retour aux devis\n        </Button>\n      </div>\n\n      <div className=\"bg-white shadow rounded-lg overflow-hidden mb-6\">\n        <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Devis #{devis._id.substring(0, 8)}</h1>\n            <p className=\"text-sm text-gray-500\">\n              Cr�� le {formatDate(devis.createdAt)}\n            </p>\n          </div>\n          <div>\n            <span className={`px-3 py-1 text-sm font-medium rounded-full ${STATUT_DEVIS_COLORS[devis.statut]}`}>\n              {STATUT_DEVIS_LABELS[devis.statut]}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"px-6 py-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            {/* Informations de base */}\n            <div>\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Informations du devis</h2>\n              \n              <dl className=\"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2\">\n                <div className=\"sm:col-span-1\">\n                  <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                    <CurrencyEuroIcon className=\"h-5 w-5 text-gray-400 mr-1.5\" />\n                    Montant\n                  </dt>\n                  <dd className=\"mt-1 text-lg font-bold text-gray-900\">{devis.montant.toFixed(2)} �</dd>\n                </div>\n                \n                <div className=\"sm:col-span-1\">\n                  <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                    <ClockIcon className=\"h-5 w-5 text-gray-400 mr-1.5\" />\n                    D�lai de livraison\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">{formatDate(devis.delaiLivraison)}</dd>\n                </div>\n                \n                <div className=\"sm:col-span-2\">\n                  <dt className=\"text-sm font-medium text-gray-500\">Message</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 whitespace-pre-line bg-gray-50 p-3 rounded-md\">\n                    {devis.message}\n                  </dd>\n                </div>\n                \n                {devis.commentaires && devis.commentaires.length > 0 && (\n                  <div className=\"sm:col-span-2\">\n                    <dt className=\"text-sm font-medium text-gray-500\">Commentaires</dt>\n                    <dd className=\"mt-1\">\n                      <ul className=\"border border-gray-200 rounded-md divide-y divide-gray-200\">\n                        {devis.commentaires.map((commentaire, index) => (\n                          <li key={index} className=\"p-3 flex items-start\">\n                            <div className=\"min-w-0 flex-1\">\n                              <p className=\"text-sm font-medium text-gray-900\">\n                                {commentaire.auteur === devis.client._id \n                                  ? `${devis.client.prenom} ${devis.client.nom} (Client)`\n                                  : `${devis.transporteur.prenom} ${devis.transporteur.nom} (Transporteur)`}\n                              </p>\n                              <p className=\"text-sm text-gray-500\">{formatDate(commentaire.date)}</p>\n                              <p className=\"mt-1 text-sm text-gray-900\">{commentaire.contenu}</p>\n                            </div>\n                          </li>\n                        ))}\n                      </ul>\n                    </dd>\n                  </div>\n                )}\n              </dl>\n              \n              {/* Actions */}\n              {(canAccept || canRefuse || canCancel || canUpdateStatus || needsPayment) && (\n                <div className=\"mt-6 border-t border-gray-200 pt-6\">\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Actions</h3>\n                  \n                  <div className=\"flex flex-wrap gap-3\">\n                    {canAccept && (\n                      <Button\n                        variant=\"primary\"\n                        onClick={handleAcceptDevis}\n                      >\n                        <CheckIcon className=\"h-5 w-5 mr-2\" />\n                        Accepter le devis\n                      </Button>\n                    )}\n                    \n                    {canRefuse && (\n                      <Button\n                        variant=\"danger\"\n                        onClick={handleRefuseDevis}\n                      >\n                        <XMarkIcon className=\"h-5 w-5 mr-2\" />\n                        Refuser le devis\n                      </Button>\n                    )}\n                    \n                    {canCancel && (\n                      <Button\n                        variant=\"danger\"\n                        onClick={handleCancelDevis}\n                      >\n                        <XMarkIcon className=\"h-5 w-5 mr-2\" />\n                        Annuler le devis\n                      </Button>\n                    )}\n                    \n                    {canUpdateStatus && (\n                      <div className=\"w-full space-y-3\">\n                        <Button\n                          variant=\"primary\"\n                          onClick={() => handleUpdateStatus('en_cours', 'Transport en cours', devis.annonce.villeDepart)}\n                          className=\"w-full sm:w-auto\"\n                        >\n                          <TruckIcon className=\"h-5 w-5 mr-2\" />\n                          D�marrer le transport\n                        </Button>\n                        \n                        {devis.statut === 'en_cours' && (\n                          <Button\n                            variant=\"primary\"\n                            onClick={() => handleUpdateStatus('livre', 'Livraison effectu�e', devis.annonce.villeArrivee)}\n                            className=\"w-full sm:w-auto\"\n                          >\n                            <CheckIcon className=\"h-5 w-5 mr-2\" />\n                            Marquer comme livr�\n                          </Button>\n                        )}\n                      </div>\n                    )}\n                    \n                    {needsPayment && (\n                      <Button\n                        variant=\"primary\"\n                        onClick={() => setShowPaymentForm(true)}\n                        className=\"w-full sm:w-auto\"\n                      >\n                        <CurrencyEuroIcon className=\"h-5 w-5 mr-2\" />\n                        Effectuer le paiement\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              )}\n              \n              {/* Paiement */}\n              {showPaymentForm && (\n                <div className=\"mt-6\">\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Paiement</h3>\n                  <PaymentComponent \n                    devisId={devis._id} \n                    montant={devis.montant} \n                    onPaymentComplete={handlePaymentComplete} \n                  />\n                </div>\n              )}\n              \n              {devis.paiement && (\n                <div className=\"mt-6 border-t border-gray-200 pt-6\">\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Informations de paiement</h3>\n                  \n                  <dl className=\"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2\">\n                    <div className=\"sm:col-span-1\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Statut</dt>\n                      <dd className=\"mt-1\">\n                        <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\">\n                          Pay�\n                        </span>\n                      </dd>\n                    </div>\n                    \n                    <div className=\"sm:col-span-1\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Date</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">{formatDate(devis.paiement.date)}</dd>\n                    </div>\n                    \n                    <div className=\"sm:col-span-1\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Montant</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">{devis.paiement.montant.toFixed(2)} �</dd>\n                    </div>\n                    \n                    <div className=\"sm:col-span-1\">\n                      <dt className=\"text-sm font-medium text-gray-500\">M�thode</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">\n                        {devis.paiement.methode === 'carte' \n                          ? 'Carte bancaire' \n                          : devis.paiement.methode === 'virement' \n                            ? 'Virement bancaire' \n                            : 'PayPal'}\n                      </dd>\n                    </div>\n                    \n                    <div className=\"sm:col-span-2\">\n                      <dt className=\"text-sm font-medium text-gray-500\">R�f�rence</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">{devis.paiement.reference}</dd>\n                    </div>\n                  </dl>\n                </div>\n              )}\n            </div>\n            \n            {/* Informations sur l'autre partie et l'annonce */}\n            <div>\n              {/* Info sur l'autre partie */}\n              <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n                <h2 className=\"text-lg font-medium text-gray-900 mb-4\">\n                  {user.role === 'client' ? 'Transporteur' : 'Client'}\n                </h2>\n                \n                <div className=\"flex items-center\">\n                  <div className=\"flex-shrink-0\">\n                    {otherParty.photo ? (\n                      <img\n                        className=\"h-12 w-12 rounded-full object-cover\"\n                        src={otherParty.photo}\n                        alt={`${otherParty.prenom} ${otherParty.nom}`}\n                      />\n                    ) : (\n                      <div className=\"h-12 w-12 rounded-full bg-teal-500 flex items-center justify-center\">\n                        <UserIcon className=\"h-6 w-6 text-white\" />\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"ml-4\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">{otherParty.prenom} {otherParty.nom}</h3>\n                    <p className=\"text-sm text-gray-500\">\n                      Membre depuis {format(new Date(otherParty.createdAt), 'MMMM yyyy', { locale: fr })}\n                    </p>\n                  </div>\n                </div>\n                \n                {otherParty.note && (\n                  <div className=\"mt-4 flex items-center\">\n                    <div className=\"flex text-yellow-400\">\n                      {[...Array(5)].map((_, i) => (\n                        <svg \n                          key={i}\n                          className={`h-5 w-5 ${i < Math.round(otherParty.note) ? 'text-yellow-400' : 'text-gray-300'}`} \n                          xmlns=\"http://www.w3.org/2000/svg\" \n                          viewBox=\"0 0 20 20\" \n                          fill=\"currentColor\" \n                          aria-hidden=\"true\"\n                        >\n                          <path fillRule=\"evenodd\" d=\"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z\" clipRule=\"evenodd\" />\n                        </svg>\n                      ))}\n                    </div>\n                    <span className=\"ml-2 text-sm text-gray-600\">{otherParty.note.toFixed(1)}</span>\n                  </div>\n                )}\n                \n                <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                  <Button\n                    to={`/dashboard/messages/${devis.annonce._id}_${otherParty._id}`}\n                    variant=\"outline\"\n                    size=\"sm\"\n                  >\n                    <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-2\" />\n                    Contacter\n                  </Button>\n                  <Button\n                    to={user.role === 'client' \n                      ? `/transporteurs/${otherParty._id}` \n                      : `/clients/${otherParty._id}`}\n                    variant=\"outline\"\n                    size=\"sm\"\n                  >\n                    <UserIcon className=\"h-5 w-5 mr-2\" />\n                    Voir le profil\n                  </Button>\n                </div>\n              </div>\n              \n              {/* D�tails de l'annonce */}\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h2 className=\"text-lg font-medium text-gray-900 mb-4\">D�tails de l'annonce</h2>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <h3 className=\"text-base font-medium text-gray-900\">{devis.annonce.titre}</h3>\n                    <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n                      <MapPinIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                      <p>{devis.annonce.villeDepart} ? {devis.annonce.villeArrivee}</p>\n                    </div>\n                    <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n                      <CalendarIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                      <p>D�part pr�vu le {formatDate(devis.annonce.dateDepart)}</p>\n                    </div>\n                    <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n                      <TruckIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                      <p>\n                        {devis.annonce.typeTransport === 'colis' ? 'Colis' :\n                         devis.annonce.typeTransport === 'meuble' ? 'Meuble' :\n                         devis.annonce.typeTransport === 'marchandise' ? 'Marchandise' :\n                         devis.annonce.typeTransport === 'palette' ? 'Palette' :\n                         devis.annonce.typeTransport === 'demenagement' ? 'D�m�nagement' :\n                         devis.annonce.typeTransport === 'vehicule' ? 'V�hicule' : 'Autre'}\n                      </p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"pt-3 border-t border-gray-200\">\n                    <h4 className=\"text-sm font-medium text-gray-500\">Description</h4>\n                    <p className=\"mt-1 text-sm text-gray-900 whitespace-pre-line\">\n                      {devis.annonce.description.length > 200 \n                        ? devis.annonce.description.substring(0, 200) + '...' \n                        : devis.annonce.description}\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex pt-3 border-t border-gray-200\">\n                    <Button\n                      to={`/dashboard/annonces/${devis.annonce._id}`}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      <DocumentTextIcon className=\"h-5 w-5 mr-2\" />\n                      Voir l'annonce compl�te\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Suivi du transport */}\n      {(devis.statut === 'accepte' || devis.statut === 'en_cours' || devis.statut === 'termine') && (\n        <div className=\"bg-white shadow rounded-lg overflow-hidden mb-6\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-medium text-gray-900\">Suivi du transport</h2>\n          </div>\n          \n          <div className=\"px-6 py-4\">\n            <TrackingComponent devisId={devis._id} annonceId={devis.annonce._id} />\n          </div>\n        </div>\n      )}\n      \n      {/* Informations suppl�mentaires */}\n      <div className=\"bg-white shadow rounded-lg overflow-hidden mb-6\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-medium text-gray-900\">Informations suppl�mentaires</h2>\n        </div>\n        \n        <div className=\"px-6 py-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"bg-blue-50 rounded-lg p-4 flex items-start\">\n              <ShieldCheckIcon className=\"h-6 w-6 text-blue-500 mr-3 flex-shrink-0 mt-0.5\" />\n              <div>\n                <h3 className=\"text-sm font-medium text-blue-800\">Protection acheteur</h3>\n                <p className=\"mt-1 text-sm text-blue-700\">\n                  Tous les transports effectu�s via Pro-Trans sont assur�s. Votre paiement est s�curis� et n'est vers� au transporteur qu'une fois la livraison confirm�e.\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"bg-gray-50 rounded-lg p-4\">\n              <h3 className=\"text-sm font-medium text-gray-800\">Conditions du service</h3>\n              <ul className=\"mt-2 text-sm text-gray-600 space-y-1.5\">\n                <li className=\"flex items-start\">\n                  <span className=\"flex-shrink-0 h-5 w-5 text-green-500\">?</span>\n                  <span className=\"ml-2\">Transporteur v�rifi� par nos �quipes</span>\n                </li>\n                <li className=\"flex items-start\">\n                  <span className=\"flex-shrink-0 h-5 w-5 text-green-500\">?</span>\n                  <span className=\"ml-2\">Suivi en temps r�el de votre transport</span>\n                </li>\n                <li className=\"flex items-start\">\n                  <span className=\"flex-shrink-0 h-5 w-5 text-green-500\">?</span>\n                  <span className=\"ml-2\">Assurance de base incluse (jusqu'� 1000�)</span>\n                </li>\n                <li className=\"flex items-start\">\n                  <span className=\"flex-shrink-0 h-5 w-5 text-green-500\">?</span>\n                  <span className=\"ml-2\">Support client disponible 7j/7</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n          \n          <div className=\"mt-6 text-sm text-gray-500\">\n            <p>\n              Pour toute question ou besoin d'assistance, n'h�sitez pas � contacter notre service client au 01 23 45 67 89 ou � support@pro-trans.fr.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DevisDetailPage;","import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  ChatBubbleLeftRightIcon, \n  ChevronRightIcon,\n  UserIcon,\n  MagnifyingGlassIcon,\n  TruckIcon,\n  ExclamationCircleIcon,\n  ArrowPathIcon,\n  EnvelopeIcon,\n  CheckCircleIcon\n} from '@heroicons/react/24/outline';\nimport { format } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport apiClient from '../../../api/client';\nimport Button from '../../../components/ui/Button';\nimport { useAuth } from '../../../hooks/useAuth';\n\nconst MessagesPage = () => {\n  const [conversations, setConversations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  // Chargement des conversations\n  useEffect(() => {\n    const fetchConversations = async () => {\n      try {\n        setLoading(true);\n        const response = await apiClient.get('/messages/conversations');\n        setConversations(response.data.data);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des conversations:', err);\n        setError('Erreur lors du chargement des conversations. Veuillez r�essayer.');\n        toast.error('Erreur lors du chargement des conversations');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchConversations();\n  }, []);\n\n  // Rafra�chir les conversations\n  const refreshConversations = async () => {\n    try {\n      setLoading(true);\n      const response = await apiClient.get('/messages/conversations');\n      setConversations(response.data.data);\n      setError(null);\n      toast.success('Conversations mises � jour');\n    } catch (err) {\n      console.error('Erreur lors du rafra�chissement des conversations:', err);\n      toast.error('Erreur lors du rafra�chissement des conversations');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calculer le temps �coul� depuis le dernier message\n  const getTimeAgo = (date) => {\n    const messageDate = new Date(date);\n    const now = new Date();\n    const diffTime = Math.abs(now - messageDate);\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n    const diffHours = Math.floor(diffTime / (1000 * 60 * 60));\n    const diffMinutes = Math.floor(diffTime / (1000 * 60));\n    \n    if (diffDays > 0) {\n      return diffDays === 1 ? 'Hier' : `Il y a ${diffDays} jours`;\n    } else if (diffHours > 0) {\n      return `Il y a ${diffHours} heure${diffHours > 1 ? 's' : ''}`;\n    } else if (diffMinutes > 0) {\n      return `Il y a ${diffMinutes} minute${diffMinutes > 1 ? 's' : ''}`;\n    } else {\n      return 'A l\\'instant';\n    }\n  };\n\n  // Filtrer les conversations selon la recherche\n  const filteredConversations = conversations.filter(conv => {\n    const otherUser = conv.utilisateur;\n    const searchLower = searchQuery.toLowerCase();\n    \n    return (\n      otherUser.nom.toLowerCase().includes(searchLower) ||\n      otherUser.prenom.toLowerCase().includes(searchLower) ||\n      conv.annonce.titre.toLowerCase().includes(searchLower) ||\n      (conv.dernierMessage && conv.dernierMessage.contenu.toLowerCase().includes(searchLower))\n    );\n  });\n\n  // Tronquer le texte s'il est trop long\n  const truncateText = (text, maxLength = 50) => {\n    if (!text) return '';\n    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Messages</h1>\n        <Button\n          variant=\"outline\"\n          onClick={refreshConversations}\n          disabled={loading}\n        >\n          <ArrowPathIcon className=\"h-5 w-5 mr-2\" />\n          Actualiser\n        </Button>\n      </div>\n\n      {/* Barre de recherche */}\n      <div className=\"mb-6\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n          </div>\n          <input\n            type=\"text\"\n            className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\"\n            placeholder=\"Rechercher dans les conversations...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* Liste des conversations */}\n      {loading && conversations.length === 0 ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">{error}</p>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"mt-2\"\n                onClick={refreshConversations}\n              >\n                R�essayer\n              </Button>\n            </div>\n          </div>\n        </div>\n      ) : conversations.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-sm p-6 text-center\">\n          <ChatBubbleLeftRightIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900\">Aucune conversation</h3>\n          <p className=\"mt-2 text-gray-500\">\n            Vous n'avez pas encore de conversations. Parcourez les annonces pour contacter un utilisateur.\n          </p>\n          <Button\n            to={user.role === 'client' ? '/dashboard/annonces/create' : '/annonces'}\n            variant=\"primary\"\n            className=\"mt-4\"\n          >\n            {user.role === 'client' ? 'Cr�er une annonce' : 'Parcourir les annonces'}\n          </Button>\n        </div>\n      ) : filteredConversations.length === 0 ? (\n        <div className=\"bg-white rounded-lg shadow-sm p-6 text-center\">\n          <MagnifyingGlassIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900\">Aucun r�sultat</h3>\n          <p className=\"mt-2 text-gray-500\">\n            Aucune conversation ne correspond � votre recherche.\n          </p>\n          <Button\n            variant=\"outline\"\n            className=\"mt-4\"\n            onClick={() => setSearchQuery('')}\n          >\n            Effacer la recherche\n          </Button>\n        </div>\n      ) : (\n        <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\n          <ul className=\"divide-y divide-gray-200\">\n            {filteredConversations.map((conversation) => {\n              const otherUser = conversation.utilisateur;\n              const conversationId = `${conversation.annonce._id}_${otherUser._id}`;\n              \n              return (\n                <li key={conversationId}>\n                  <Link \n                    to={`/dashboard/messages/${conversationId}`}\n                    className=\"block hover:bg-gray-50 transition duration-150 ease-in-out\"\n                  >\n                    <div className=\"px-6 py-4 flex items-center\">\n                      {/* Avatar de l'utilisateur */}\n                      <div className=\"flex-shrink-0 relative\">\n                        {otherUser.photo ? (\n                          <img\n                            src={otherUser.photo}\n                            alt={`${otherUser.prenom} ${otherUser.nom}`}\n                            className=\"h-12 w-12 rounded-full object-cover\"\n                          />\n                        ) : (\n                          <div className=\"h-12 w-12 rounded-full bg-teal-500 flex items-center justify-center\">\n                            <UserIcon className=\"h-6 w-6 text-white\" />\n                          </div>\n                        )}\n                        \n                        {/* Badge pour messages non lus */}\n                        {conversation.nonLus > 0 && (\n                          <div className=\"absolute -top-1 -right-1 bg-red-500 rounded-full h-5 w-5 flex items-center justify-center\">\n                            <span className=\"text-xs text-white font-medium\">\n                              {conversation.nonLus > 9 ? '9+' : conversation.nonLus}\n                            </span>\n                          </div>\n                        )}\n                      </div>\n                      \n                      {/* Informations sur la conversation */}\n                      <div className=\"ml-4 flex-1 min-w-0\">\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h3 className=\"text-base font-medium text-gray-900 truncate\">\n                              {otherUser.prenom} {otherUser.nom}\n                            </h3>\n                            <p className=\"text-sm text-gray-500 mt-1 flex items-center\">\n                              <TruckIcon className=\"h-4 w-4 mr-1 flex-shrink-0\" />\n                              <span className=\"truncate\">{conversation.annonce.titre}</span>\n                            </p>\n                          </div>\n                          <div className=\"flex flex-col items-end\">\n                            <span className=\"text-xs text-gray-500\">\n                              {conversation.dernierMessage ? getTimeAgo(conversation.dernierMessage.date) : ''}\n                            </span>\n                            {conversation.dernierMessage && conversation.dernierMessage.expediteur === user.id && (\n                              <div className=\"flex items-center mt-1 text-xs text-gray-500\">\n                                <span className=\"mr-1\">\n                                  {conversation.dernierMessage.lu ? 'Lu' : 'Envoy�'}\n                                </span>\n                                {conversation.dernierMessage.lu ? (\n                                  <CheckCircleIcon className=\"h-4 w-4 text-green-500\" />\n                                ) : (\n                                  <EnvelopeIcon className=\"h-4 w-4 text-gray-400\" />\n                                )}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        \n                        {/* Dernier message */}\n                        {conversation.dernierMessage && (\n                          <p className={`mt-2 text-sm ${conversation.nonLus > 0 ? 'text-gray-900 font-medium' : 'text-gray-500'} truncate`}>\n                            {truncateText(conversation.dernierMessage.contenu)}\n                          </p>\n                        )}\n                      </div>\n                      \n                      <ChevronRightIcon className=\"h-5 w-5 text-gray-400 ml-2\" />\n                    </div>\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesPage;","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { \n  ArrowLeftIcon,\n  TruckIcon,\n  ExclamationCircleIcon\n} from '@heroicons/react/24/outline';\nimport apiClient from '../../../api/client';\nimport Button from '../../../components/ui/Button';\nimport ConversationComponent from '../../../components/messaging/ConversationComponent';\n\nconst ConversationPage = () => {\n  const { conversationId } = useParams();\n  const [annonceDetails, setAnnonceDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Extraire annonceId et contactId du conversationId (format: \"annonceId_contactId\")\n  const annonceId = conversationId?.split('_')[0];\n  const contactId = conversationId?.split('_')[1];\n\n  useEffect(() => {\n    const fetchAnnonceDetails = async () => {\n      if (!annonceId) return;\n      \n      try {\n        setLoading(true);\n        const response = await apiClient.get(`/annonces/${annonceId}`);\n        setAnnonceDetails(response.data.data);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des d�tails de l\\'annonce:', err);\n        setError('Erreur lors du chargement des d�tails de l\\'annonce');\n        toast.error('Erreur lors du chargement des d�tails de l\\'annonce');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAnnonceDetails();\n  }, [annonceId]);\n\n  if (!conversationId || !annonceId || !contactId) {\n    return (\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">Conversation non valide ou introuvable</p>\n              <Button \n                to=\"/dashboard/messages\"\n                variant=\"outline\" \n                size=\"sm\" \n                className=\"mt-2\"\n              >\n                Retour aux messages\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      <div className=\"mb-6\">\n        <Button\n          to=\"/dashboard/messages\"\n          variant=\"outline\"\n        >\n          <ArrowLeftIcon className=\"h-5 w-5 mr-2\" />\n          Retour aux conversations\n        </Button>\n      </div>\n\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4\">\n          <div className=\"flex\">\n            <ExclamationCircleIcon className=\"h-6 w-6 text-red-500 mr-2\" />\n            <div>\n              <p className=\"text-red-700\">{error}</p>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bg-white shadow-sm rounded-lg overflow-hidden\">\n          {/* En-t�te avec les d�tails de l'annonce */}\n          {annonceDetails && (\n            <div className=\"px-6 py-4 bg-gray-50 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <TruckIcon className=\"h-6 w-6 text-gray-400 mr-2\" />\n                  <div>\n                    <h2 className=\"text-lg font-medium text-gray-900\">\n                      {annonceDetails.titre}\n                    </h2>\n                    <p className=\"text-sm text-gray-500\">\n                      {annonceDetails.villeDepart} ? {annonceDetails.villeArrivee}\n                    </p>\n                  </div>\n                </div>\n                <Link \n                  to={`/dashboard/annonces/${annonceId}`}\n                  className=\"text-sm font-medium text-teal-600 hover:text-teal-500\"\n                >\n                  Voir l'annonce\n                </Link>\n              </div>\n            </div>\n          )}\n          \n          {/* Composant de conversation */}\n          <div className=\"h-[calc(80vh-100px)]\">\n            <ConversationComponent \n              annonceId={annonceId} \n              recipientId={contactId} \n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConversationPage;","import apiClient from '../api/client';\r\n\r\nconst avisService = {\r\n  // Créer un nouvel avis\r\n  createAvis: async (avisData) => {\r\n    try {\r\n      const response = await apiClient.post('/avis', avisData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la création de l\\'avis' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les avis d'un utilisateur spécifique\r\n  getAvisUtilisateur: async (userId, page = 1, limit = 10) => {\r\n    try {\r\n      const response = await apiClient.get(`/avis/utilisateur/${userId}`, {\r\n        params: { page, limit }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des avis' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les avis donnés par l'utilisateur connecté\r\n  getAvisDonnes: async (page = 1, limit = 10) => {\r\n    try {\r\n      const response = await apiClient.get('/avis/donnes', {\r\n        params: { page, limit }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des avis donnés' };\r\n    }\r\n  },\r\n\r\n  // Récupérer les avis reçus par l'utilisateur connecté\r\n  getAvisRecus: async (page = 1, limit = 10) => {\r\n    try {\r\n      const response = await apiClient.get('/avis/recus', {\r\n        params: { page, limit }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Erreur lors de la récupération des avis reçus' };\r\n    }\r\n  }\r\n};\r\n\r\nexport default avisService;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  StarIcon, \n  ChatBubbleLeftRightIcon, \n  ArrowPathIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon\n} from '@heroicons/react/24/outline';\nimport { toast } from 'react-hot-toast';\nimport { useAuth } from '../../../hooks/useAuth';\nimport avisService from '../../../services/avisService';\nimport Button from '../../../components/ui/Button';\nimport { StarRating } from '../../../components/reviews/RatingAndReviewsComponent';\nimport { formatDate } from '../../../utils/formatters';\n\nconst MesAvisPage = () => {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('recus');\n  const [avis, setAvis] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Pagination\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalAvis, setTotalAvis] = useState(0);\n  const limit = 10;\n\n  // Chargement des avis\n  useEffect(() => {\n    const fetchAvis = async () => {\n      try {\n        setLoading(true);\n        let response;\n        \n        if (activeTab === 'recus') {\n          response = await avisService.getAvisRecus(page, limit);\n        } else {\n          response = await avisService.getAvisDonnes(page, limit);\n        }\n        \n        setAvis(response.data.data);\n        setTotalPages(response.data.pages);\n        setTotalAvis(response.data.total);\n        setError(null);\n      } catch (err) {\n        console.error('Erreur lors du chargement des avis:', err);\n        setError('Impossible de charger les avis');\n        toast.error('Erreur lors du chargement des avis');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAvis();\n  }, [activeTab, page]);\n\n  // Changement d'onglet\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n    setPage(1); // R�initialiser la pagination lors du changement d'onglet\n  };\n\n  // Affichage du statut de l'avis\n  const renderAvisStatus = (avu) => {\n    if (!avu.annonce) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n          Annonce supprim�e\n        </span>\n      );\n    }\n    \n    return (\n      <Link \n        to={`/dashboard/annonces/${avu.annonce._id}`} \n        className=\"inline-flex items-center text-sm text-teal-600 hover:text-teal-800\"\n      >\n        Voir l'annonce\n      </Link>\n    );\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n            Mes avis\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            G�rez les avis que vous avez re�us et donn�s\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              setPage(1);\n              const fetchAvis = async () => {\n                try {\n                  setLoading(true);\n                  let response;\n                  \n                  if (activeTab === 'recus') {\n                    response = await avisService.getAvisRecus(1, limit);\n                  } else {\n                    response = await avisService.getAvisDonnes(1, limit);\n                  }\n                  \n                  setAvis(response.data.data);\n                  setTotalPages(response.data.pages);\n                  setTotalAvis(response.data.total);\n                  setError(null);\n                  toast.success('Avis actualis�s');\n                } catch (err) {\n                  console.error('Erreur lors du chargement des avis:', err);\n                  setError('Impossible de charger les avis');\n                  toast.error('Erreur lors du chargement des avis');\n                } finally {\n                  setLoading(false);\n                }\n              };\n              fetchAvis();\n            }}\n          >\n            <ArrowPathIcon className=\"h-5 w-5 mr-1\" />\n            Actualiser\n          </Button>\n        </div>\n      </div>\n\n      {/* Onglets */}\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"flex -mb-px\">\n          <button\n            className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'recus'\n                ? 'border-teal-500 text-teal-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => handleTabChange('recus')}\n          >\n            Avis re�us\n          </button>\n          <button\n            className={`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'donnes'\n                ? 'border-teal-500 text-teal-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n            onClick={() => handleTabChange('donnes')}\n          >\n            Avis donn�s\n          </button>\n        </nav>\n      </div>\n\n      {/* Liste des avis */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n        <div className=\"px-4 py-5 sm:px-6 border-b border-gray-200\">\n          <h2 className=\"text-lg font-medium text-gray-900\">\n            {activeTab === 'recus' ? 'Avis re�us' : 'Avis donn�s'}\n          </h2>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            {activeTab === 'recus' \n              ? `Avis laiss�s par vos clients (${totalAvis})`\n              : `Avis que vous avez laiss�s aux transporteurs (${totalAvis})`}\n          </p>\n        </div>\n\n        {loading ? (\n          <div className=\"px-4 py-12 text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-teal-500\"></div>\n            <p className=\"mt-2 text-sm text-gray-500\">Chargement des avis...</p>\n          </div>\n        ) : error ? (\n          <div className=\"px-4 py-6 text-center\">\n            <ChatBubbleLeftRightIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Erreur</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">{error}</p>\n            <div className=\"mt-6\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setPage(1);\n                  const fetchAvis = async () => {\n                    try {\n                      setLoading(true);\n                      let response;\n                      \n                      if (activeTab === 'recus') {\n                        response = await avisService.getAvisRecus(1, limit);\n                      } else {\n                        response = await avisService.getAvisDonnes(1, limit);\n                      }\n                      \n                      setAvis(response.data.data);\n                      setTotalPages(response.data.pages);\n                      setTotalAvis(response.data.total);\n                      setError(null);\n                    } catch (err) {\n                      console.error('Erreur lors du chargement des avis:', err);\n                      setError('Impossible de charger les avis');\n                      toast.error('Erreur lors du chargement des avis');\n                    } finally {\n                      setLoading(false);\n                    }\n                  };\n                  fetchAvis();\n                }}\n              >\n                R�essayer\n              </Button>\n            </div>\n          </div>\n        ) : avis.length === 0 ? (\n          <div className=\"px-4 py-12 text-center\">\n            <ChatBubbleLeftRightIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Aucun avis</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              {activeTab === 'recus' \n                ? \"Vous n'avez pas encore re�u d'avis\"\n                : \"Vous n'avez pas encore donn� d'avis\"}\n            </p>\n          </div>\n        ) : (\n          <ul className=\"divide-y divide-gray-200\">\n            {avis.map((avu) => (\n              <li key={avu._id} className=\"px-4 py-4 sm:px-6\">\n                <div className=\"flex items-start\">\n                  <div className=\"flex-shrink-0 pt-1\">\n                    {activeTab === 'recus' ? (\n                      <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\">\n                        {avu.auteur.photo ? (\n                          <img \n                            src={avu.auteur.photo} \n                            alt={`${avu.auteur.prenom} ${avu.auteur.nom}`}\n                            className=\"h-full w-full object-cover\"\n                          />\n                        ) : (\n                          <StarIcon className=\"h-6 w-6 text-gray-400\" />\n                        )}\n                      </div>\n                    ) : (\n                      <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\">\n                        {avu.destinataire.photo ? (\n                          <img \n                            src={avu.destinataire.photo} \n                            alt={`${avu.destinataire.prenom} ${avu.destinataire.nom}`}\n                            className=\"h-full w-full object-cover\"\n                          />\n                        ) : (\n                          <StarIcon className=\"h-6 w-6 text-gray-400\" />\n                        )}\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"ml-4 flex-1\">\n                    <div className=\"flex justify-between\">\n                      <div>\n                        <h4 className=\"text-sm font-medium text-gray-900\">\n                          {activeTab === 'recus' \n                            ? `${avu.auteur.prenom} ${avu.auteur.nom}`\n                            : `${avu.destinataire.prenom} ${avu.destinataire.nom}`}\n                        </h4>\n                        <div className=\"mt-1 flex items-center\">\n                          <StarRating rating={avu.note} size=\"sm\" />\n                        </div>\n                      </div>\n                      <p className=\"text-sm text-gray-500\">\n                        {formatDate(avu.createdAt, 'dd MMM yyyy')}\n                      </p>\n                    </div>\n                    \n                    <p className=\"mt-2 text-sm text-gray-600\">\n                      {avu.commentaire}\n                    </p>\n                    \n                    <div className=\"mt-2 text-sm\">\n                      {renderAvisStatus(avu)}\n                    </div>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {/* Pagination */}\n        {!loading && !error && totalPages > 1 && (\n          <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n            <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-700\">\n                  Affichage de la page <span className=\"font-medium\">{page}</span> sur <span className=\"font-medium\">{totalPages}</span>\n                </p>\n              </div>\n              <div>\n                <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\n                  <button\n                    onClick={() => setPage((prev) => Math.max(prev - 1, 1))}\n                    disabled={page === 1}\n                    className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\n                      page === 1\n                        ? 'text-gray-300 cursor-not-allowed'\n                        : 'text-gray-500 hover:bg-gray-50'\n                    }`}\n                  >\n                    <span className=\"sr-only\">Pr�c�dent</span>\n                    <ChevronLeftIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                  \n                  {/* Pages */}\n                  {[...Array(totalPages)].map((_, index) => {\n                    const pageNum = index + 1;\n                    // Afficher seulement les pages pertinentes\n                    if (\n                      pageNum === 1 ||\n                      pageNum === totalPages ||\n                      (pageNum >= page - 1 && pageNum <= page + 1)\n                    ) {\n                      return (\n                        <button\n                          key={pageNum}\n                          onClick={() => setPage(pageNum)}\n                          className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                            page === pageNum\n                              ? 'z-10 bg-teal-50 border-teal-500 text-teal-600'\n                              : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                          }`}\n                        >\n                          {pageNum}\n                        </button>\n                      );\n                    } else if (\n                      (pageNum === 2 && page > 3) ||\n                      (pageNum === totalPages - 1 && page < totalPages - 2)\n                    ) {\n                      return (\n                        <span\n                          key={pageNum}\n                          className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\"\n                        >\n                          ...\n                        </span>\n                      );\n                    }\n                    return null;\n                  })}\n                  \n                  <button\n                    onClick={() => setPage((prev) => Math.min(prev + 1, totalPages))}\n                    disabled={page === totalPages}\n                    className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\n                      page === totalPages\n                        ? 'text-gray-300 cursor-not-allowed'\n                        : 'text-gray-500 hover:bg-gray-50'\n                    }`}\n                  >\n                    <span className=\"sr-only\">Suivant</span>\n                    <ChevronRightIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Importance des avis */}\n      <div className=\"mt-8 bg-blue-50 rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-blue-800 mb-3\">Importance des avis pour votre r�putation</h3>\n        <p className=\"text-blue-700 mb-4\">\n          Les avis sont essentiels pour �tablir votre r�putation sur Pro-Trans. Ils aident les nouveaux clients � faire confiance � vos services et � prendre une d�cision �clair�e.\n        </p>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"bg-white p-4 rounded-md shadow-sm\">\n            <h4 className=\"font-medium text-blue-800 mb-2\">Comment am�liorer vos avis ?</h4>\n            <ul className=\"list-disc pl-5 text-sm text-blue-700 space-y-1\">\n              <li>Communiquez clairement avec vos clients</li>\n              <li>Respectez les d�lais convenus</li>\n              <li>Soyez professionnel et courtois</li>\n              <li>Prenez soin des marchandises transport�es</li>\n              <li>R�solvez rapidement les probl�mes �ventuels</li>\n            </ul>\n          </div>\n          \n          <div className=\"bg-white p-4 rounded-md shadow-sm\">\n            <h4 className=\"font-medium text-blue-800 mb-2\">Que faire en cas d'avis n�gatif ?</h4>\n            <ul className=\"list-disc pl-5 text-sm text-blue-700 space-y-1\">\n              <li>Ne r�agissez pas � chaud</li>\n              <li>Contactez le client pour comprendre son insatisfaction</li>\n              <li>Proposez une solution concr�te au probl�me signal�</li>\n              <li>Apprenez de cette exp�rience pour l'avenir</li>\n              <li>Contactez notre service client si vous estimez l'avis injustifi�</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MesAvisPage;","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { toast } from 'react-hot-toast';\nimport { StarIcon, UserIcon, TruckIcon, MapPinIcon } from '@heroicons/react/24/outline';\nimport { useAuth } from '../../../hooks/useAuth';\nimport apiClient from '../../../api/client';\nimport avisService from '../../../services/avisService';\nimport Button from '../../../components/ui/Button';\nimport { formatDate } from '../../../utils/formatters';\n\nconst CreateAvisPage = () => {\n  const { userId, annonceId } = useParams();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [destinataire, setDestinataire] = useState(null);\n  const [annonce, setAnnonce] = useState(null);\n  const [error, setError] = useState(null);\n  const [loadingData, setLoadingData] = useState(true);\n\n  // Validation du formulaire\n  const validationSchema = Yup.object({\n    note: Yup.number()\n      .required('La note est obligatoire')\n      .min(1, 'La note minimale est 1')\n      .max(5, 'La note maximale est 5'),\n    commentaire: Yup.string()\n      .required('Le commentaire est obligatoire')\n      .min(10, 'Le commentaire doit comporter au moins 10 caract�res')\n      .max(500, 'Le commentaire ne doit pas d�passer 500 caract�res')\n  });\n\n  // Initialisation du formulaire\n  const formik = useFormik({\n    initialValues: {\n      note: 5,\n      commentaire: ''\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        \n        const avisData = {\n          note: values.note,\n          commentaire: values.commentaire,\n          destinataireId: userId,\n          annonceId: annonceId\n        };\n        \n        await avisService.createAvis(avisData);\n        \n        toast.success('Votre avis a �t� publi� avec succ�s');\n        navigate('/dashboard/avis');\n      } catch (error) {\n        console.error('Erreur lors de la cr�ation de l\\'avis:', error);\n        toast.error(error.message || 'Erreur lors de la publication de l\\'avis');\n      } finally {\n        setLoading(false);\n      }\n    }\n  });\n\n  // R�cup�ration des informations du destinataire et de l'annonce\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoadingData(true);\n        \n        // R�cup�rer les d�tails de l'utilisateur\n        const userResponse = await apiClient.get(`/users/profile/${userId}`);\n        setDestinataire(userResponse.data.data);\n        \n        // R�cup�rer les d�tails de l'annonce\n        if (annonceId) {\n          const annonceResponse = await apiClient.get(`/annonces/${annonceId}`);\n          setAnnonce(annonceResponse.data.data);\n        }\n      } catch (err) {\n        console.error('Erreur lors du chargement des donn�es:', err);\n        setError('Impossible de charger les informations n�cessaires');\n      } finally {\n        setLoadingData(false);\n      }\n    };\n\n    fetchData();\n  }, [userId, annonceId]);\n\n  // Rendu pour le chargement\n  if (loadingData) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-500\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  // Rendu en cas d'erreur\n  if (error || !destinataire) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <div className=\"text-center\">\n              <svg \n                className=\"mx-auto h-12 w-12 text-red-500\" \n                fill=\"none\" \n                viewBox=\"0 0 24 24\" \n                stroke=\"currentColor\"\n              >\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  strokeWidth={2} \n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" \n                />\n              </svg>\n              <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Erreur</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                {error || \"Impossible de charger les informations n�cessaires\"}\n              </p>\n              <div className=\"mt-6\">\n                <Button\n                  to=\"/dashboard/avis\"\n                  variant=\"primary\"\n                >\n                  Retour aux avis\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"md:flex md:items-center md:justify-between mb-6\">\n        <div className=\"flex-1 min-w-0\">\n          <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n            Publier un avis\n          </h1>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Partagez votre exp�rience avec ce {destinataire.role === 'transporteur' ? 'transporteur' : 'client'}\n          </p>\n        </div>\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\n          <Button\n            to=\"/dashboard/avis\"\n            variant=\"outline\"\n          >\n            Annuler\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-x-4 gap-y-8 md:grid-cols-3\">\n        {/* Informations sur le destinataire */}\n        <div className=\"md:col-span-1\">\n          <div className=\"bg-white shadow overflow-hidden rounded-lg\">\n            <div className=\"px-4 py-5 sm:px-6\">\n              <h2 className=\"text-lg font-medium text-gray-900\">\n                {destinataire.role === 'transporteur' ? 'Transporteur' : 'Client'}\n              </h2>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Informations sur la personne que vous �valuez\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <div className=\"px-4 py-5 sm:px-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-shrink-0 h-16 w-16 rounded-full overflow-hidden bg-gray-200\">\n                    {destinataire.photo ? (\n                      <img\n                        src={destinataire.photo}\n                        alt={`${destinataire.prenom} ${destinataire.nom}`}\n                        className=\"h-full w-full object-cover\"\n                      />\n                    ) : (\n                      <UserIcon className=\"h-8 w-8 text-gray-400 m-4\" />\n                    )}\n                  </div>\n                  <div className=\"ml-4\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">\n                      {destinataire.prenom} {destinataire.nom}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      Membre depuis {formatDate(destinataire.createdAt, 'MMMM yyyy')}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* D�tails de l'annonce si disponible */}\n          {annonce && (\n            <div className=\"mt-8 bg-white shadow overflow-hidden rounded-lg\">\n              <div className=\"px-4 py-5 sm:px-6\">\n                <h2 className=\"text-lg font-medium text-gray-900\">\n                  D�tails de l'annonce\n                </h2>\n              </div>\n              <div className=\"border-t border-gray-200\">\n                <div className=\"px-4 py-5 sm:px-6\">\n                  <dl className=\"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2\">\n                    <div className=\"sm:col-span-2\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Titre</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">{annonce.titre}</dd>\n                    </div>\n                    <div className=\"sm:col-span-1\">\n                      <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                        <TruckIcon className=\"h-4 w-4 mr-1 text-gray-400\" />\n                        Type\n                      </dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 capitalize\">\n                        {annonce.typeTransport}\n                      </dd>\n                    </div>\n                    <div className=\"sm:col-span-1\">\n                      <dt className=\"text-sm font-medium text-gray-500 flex items-center\">\n                        <MapPinIcon className=\"h-4 w-4 mr-1 text-gray-400\" />\n                        Trajet\n                      </dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">\n                        {annonce.villeDepart} ? {annonce.villeArrivee}\n                      </dd>\n                    </div>\n                    <div className=\"sm:col-span-2\">\n                      <dt className=\"text-sm font-medium text-gray-500\">Date</dt>\n                      <dd className=\"mt-1 text-sm text-gray-900\">\n                        {formatDate(annonce.dateDepart)}\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Formulaire d'avis */}\n        <div className=\"md:col-span-2\">\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <form onSubmit={formik.handleSubmit}>\n                {/* Note */}\n                <div className=\"mb-6\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Note\n                  </label>\n                  <div className=\"flex items-center\">\n                    {[1, 2, 3, 4, 5].map((value) => (\n                      <button\n                        key={value}\n                        type=\"button\"\n                        className=\"p-1 focus:outline-none\"\n                        onClick={() => formik.setFieldValue('note', value)}\n                      >\n                        <StarIcon\n                          className={`h-8 w-8 ${\n                            formik.values.note >= value\n                              ? 'text-yellow-400 fill-current'\n                              : 'text-gray-300'\n                          }`}\n                        />\n                      </button>\n                    ))}\n                    <span className=\"ml-2 text-sm text-gray-500\">\n                      {formik.values.note} sur 5\n                    </span>\n                  </div>\n                  {formik.touched.note && formik.errors.note && (\n                    <p className=\"mt-2 text-sm text-red-600\">{formik.errors.note}</p>\n                  )}\n                </div>\n\n                {/* Commentaire */}\n                <div className=\"mb-6\">\n                  <label htmlFor=\"commentaire\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Votre commentaire\n                  </label>\n                  <textarea\n                    id=\"commentaire\"\n                    name=\"commentaire\"\n                    rows={6}\n                    className=\"shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                    placeholder=\"Partagez votre exp�rience...\"\n                    value={formik.values.commentaire}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                  />\n                  <p className=\"mt-2 text-sm text-gray-500\">\n                    {formik.values.commentaire.length}/500 caract�res\n                  </p>\n                  {formik.touched.commentaire && formik.errors.commentaire && (\n                    <p className=\"mt-2 text-sm text-red-600\">{formik.errors.commentaire}</p>\n                  )}\n                </div>\n\n                <div className=\"bg-gray-50 px-4 py-3 sm:px-6 -mx-6 -mb-6 flex justify-end\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => navigate('/dashboard/avis')}\n                    className=\"mr-3\"\n                  >\n                    Annuler\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                    isLoading={loading}\n                    disabled={loading}\n                  >\n                    Publier l'avis\n                  </Button>\n                </div>\n              </form>\n            </div>\n          </div>\n\n          {/* Conseils pour un bon avis */}\n          <div className=\"mt-8 bg-blue-50 rounded-lg p-6\">\n            <h3 className=\"text-lg font-medium text-blue-800 mb-3\">Conseils pour r�diger un avis utile</h3>\n            <ul className=\"list-disc pl-5 text-blue-700 space-y-2\">\n              <li>Soyez honn�te et objectif dans votre �valuation</li>\n              <li>D�taillez les aspects positifs et n�gatifs de votre exp�rience</li>\n              <li>Mentionnez les �l�ments sp�cifiques qui vous ont marqu� (ponctualit�, communication, �tat des marchandises � l'arriv�e...)</li>\n              <li>Evitez les commentaires trop g�n�raux comme \"Tr�s bien\" ou \"Mauvais service\"</li>\n              <li>Restez respectueux, m�me en cas d'exp�rience n�gative</li>\n            </ul>\n            <p className=\"mt-4 text-sm text-blue-800\">\n              Vos avis aident les autres utilisateurs � prendre des d�cisions �clair�es et permettent aux transporteurs d'am�liorer leurs services.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateAvisPage;","import React from 'react';\r\n\r\n// Pages publiques\r\nimport HomePage from './pages/public/HomePage';\r\nimport AboutPage from './pages/public/AboutPage';\r\nimport FAQPage from './pages/public/FAQPage';\r\nimport ContactPage from './pages/public/ContactPage';\r\nimport AnnonceListPage from './pages/public/AnnonceListPage';\r\nimport AnnonceDetailPage from './pages/public/AnnonceDetailPage';\r\nimport TransporteurListPage from './pages/public/TransporteurListPage';\r\nimport TransporteurDetailPage from './pages/public/TransporteurDetailPage';\r\n\r\n// Pages d'authentification\r\nimport LoginPage from './pages/auth/LoginPage';\r\nimport RegisterPage from './pages/auth/RegisterPage';\r\nimport ForgotPasswordPage from './pages/auth/ForgotPasswordPage';\r\nimport ResetPasswordPage from './pages/auth/ResetPasswordPage';\r\nimport VerifyEmailPage from './pages/auth/VerifyEmailPage';\r\n\r\n// Pages du tableau de bord (protégées)\r\nimport DashboardPage from './pages/dashboard/DashboardPage';\r\nimport ProfilePage from './pages/dashboard/ProfilePage';\r\nimport EditProfilePage from './pages/dashboard/EditProfilePage';\r\n\r\n// Pages des annonces (protégées)\r\nimport MesAnnoncesPage from './pages/dashboard/annonces/MesAnnoncesPage';\r\nimport CreateAnnoncePage from './pages/dashboard/annonces/CreateAnnoncePage';\r\nimport EditAnnoncePage from './pages/dashboard/annonces/EditAnnoncePage';\r\nimport AnnonceDetailDashboardPage from './pages/dashboard/annonces/AnnonceDetailPage';\r\n\r\n// Pages des devis (protégées)\r\nimport MesDevisPage from './pages/dashboard/devis/MesDevisPage';\r\nimport CreateDevisPage from './pages/dashboard/devis/CreateDevisPage';\r\nimport DevisDetailPage from './pages/dashboard/devis/DevisDetailPage';\r\n\r\n// Pages des messages (protégées)\r\nimport MessagesPage from './pages/dashboard/messages/MessagesPage';\r\nimport ConversationPage from './pages/dashboard/messages/ConversationPage';\r\n\r\n// Pages des avis (protégées)\r\nimport MesAvisPage from './pages/dashboard/avis/MesAvisPage';\r\nimport CreateAvisPage from './pages/dashboard/avis/CreateAvisPage';\r\n\r\nexport const routes = {\r\n  // Routes accessibles à tous\r\n  public: [\r\n    {\r\n      path: '/',\r\n      element: <HomePage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/a-propos',\r\n      element: <AboutPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/faq',\r\n      element: <FAQPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/contact',\r\n      element: <ContactPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/annonces',\r\n      element: <AnnonceListPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/annonces/:id',\r\n      element: <AnnonceDetailPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/transporteurs',\r\n      element: <TransporteurListPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/transporteurs/:id',\r\n      element: <TransporteurDetailPage />,\r\n      exact: true,\r\n    },\r\n  ],\r\n\r\n  // Routes d'authentification\r\n  auth: [\r\n    {\r\n      path: '/login',\r\n      element: <LoginPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/register',\r\n      element: <RegisterPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/forgot-password',\r\n      element: <ForgotPasswordPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/reset-password/:token',\r\n      element: <ResetPasswordPage />,\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/verify-email/:token',\r\n      element: <VerifyEmailPage />,\r\n      exact: true,\r\n    },\r\n  ],\r\n\r\n  // Routes protégées (nécessitant une authentification)\r\n  protected: [\r\n    // Dashboard général\r\n    {\r\n      path: '/dashboard',\r\n      element: <DashboardPage />,\r\n      roles: ['client', 'transporteur', 'admin'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/profile',\r\n      element: <ProfilePage />,\r\n      roles: ['client', 'transporteur', 'admin'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/profile/edit',\r\n      element: <EditProfilePage />,\r\n      roles: ['client', 'transporteur', 'admin'],\r\n      exact: true,\r\n    },\r\n\r\n    // Annonces\r\n    {\r\n      path: '/dashboard/annonces',\r\n      element: <MesAnnoncesPage />,\r\n      roles: ['client'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/annonces/create',\r\n      element: <CreateAnnoncePage />,\r\n      roles: ['client'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/annonces/:id',\r\n      element: <AnnonceDetailDashboardPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/annonces/:id/edit',\r\n      element: <EditAnnoncePage />,\r\n      roles: ['client'],\r\n      exact: true,\r\n    },\r\n\r\n    // Devis\r\n    {\r\n      path: '/dashboard/devis',\r\n      element: <MesDevisPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/devis/create/:annonceId',\r\n      element: <CreateDevisPage />,\r\n      roles: ['transporteur'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/devis/:id',\r\n      element: <DevisDetailPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n\r\n    // Messages\r\n    {\r\n      path: '/dashboard/messages',\r\n      element: <MessagesPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/messages/:conversationId',\r\n      element: <ConversationPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n\r\n    // Avis\r\n    {\r\n      path: '/dashboard/avis',\r\n      element: <MesAvisPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n    {\r\n      path: '/dashboard/avis/create/:userId/:annonceId',\r\n      element: <CreateAvisPage />,\r\n      roles: ['client', 'transporteur'],\r\n      exact: true,\r\n    },\r\n  ],\r\n};","// src/components/navigation/Header.js\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"bg-white shadow\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between h-16\">\r\n          <div className=\"flex\">\r\n            <Link to=\"/\" className=\"flex-shrink-0 flex items-center\">\r\n              <span className=\"font-bold text-xl text-teal-600\">Pro-Trans</span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"flex items-center\">\r\n            <Link to=\"/login\" className=\"mr-4 text-gray-600 hover:text-teal-600\">\r\n              Connexion\r\n            </Link>\r\n            <Link to=\"/register\" className=\"bg-teal-600 text-white px-4 py-2 rounded-md\">\r\n              Inscription\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","// src/components/navigation/Footer.js\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"bg-gray-800 text-white py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex flex-col md:flex-row justify-between\">\r\n          <div className=\"mb-4 md:mb-0\">\r\n            <h2 className=\"text-xl font-bold\">Pro-Trans</h2>\r\n            <p className=\"mt-2 text-gray-300\">Transport et livraison</p>\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-2\">Liens rapides</h3>\r\n            <ul>\r\n              <li><Link to=\"/\" className=\"text-gray-300 hover:text-white\">Accueil</Link></li>\r\n              <li><Link to=\"/a-propos\" className=\"text-gray-300 hover:text-white\">À propos</Link></li>\r\n              <li><Link to=\"/contact\" className=\"text-gray-300 hover:text-white\">Contact</Link></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-8 border-t border-gray-700 pt-4 text-center text-gray-300\">\r\n          <p>&copy; {new Date().getFullYear()} Pro-Trans. Tous droits réservés.</p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport Header from '../components/navigation/Header';\r\nimport Footer from '../components/navigation/Footer';\r\n\r\n/**\r\n * Layout principal pour les pages publiques\r\n */\r\nconst MainLayout = () => {\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen\">\r\n      <Header />\r\n      <main className=\"flex-grow\">\r\n        <Outlet />\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainLayout;","import React from 'react';\r\nimport { Outlet, Link } from 'react-router-dom';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\n/**\r\n * Layout pour les pages d'authentification\r\n */\r\nconst AuthLayout = () => {\r\n  const { isAuthenticated } = useAuth();\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <Link to=\"/\">\r\n          <img \r\n            className=\"mx-auto h-16 w-auto\" \r\n            src=\"/assets/images/logo.png\" \r\n            alt=\"Pro-Trans Logo\" \r\n          />\r\n        </Link>\r\n        <h2 className=\"mt-6 text-center text-3xl font-bold text-gray-900\">\r\n          <Outlet context={[isAuthenticated]} />\r\n        </h2>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          <Outlet />\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"mt-8 text-center text-sm text-gray-600\">\r\n        <Link to=\"/\" className=\"font-medium text-teal-600 hover:text-teal-500\">\r\n          Retour à l'accueil\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthLayout;","import React, { useState } from 'react';\r\nimport { Outlet, Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { \r\n  HomeIcon, \r\n  UserIcon, \r\n  TruckIcon, \r\n  DocumentTextIcon, \r\n  ChatBubbleLeftRightIcon, \r\n  StarIcon, \r\n  ArrowLeftOnRectangleIcon,\r\n  Bars3Icon,\r\n  XMarkIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\n/**\r\n * Layout pour le tableau de bord\r\n */\r\nconst DashboardLayout = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  \r\n  // Fonction de déconnexion\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n  \r\n  // Définition des liens de navigation en fonction du rôle\r\n  const navigationLinks = [\r\n    { name: 'Tableau de bord', href: '/dashboard', icon: HomeIcon, roles: ['client', 'transporteur', 'admin'] },\r\n    { name: 'Profil', href: '/profile', icon: UserIcon, roles: ['client', 'transporteur', 'admin'] },\r\n    { name: 'Mes Annonces', href: '/dashboard/annonces', icon: DocumentTextIcon, roles: ['client'] },\r\n    { name: 'Rechercher des annonces', href: '/annonces', icon: DocumentTextIcon, roles: ['transporteur'] },\r\n    { name: 'Mes Devis', href: '/dashboard/devis', icon: TruckIcon, roles: ['client', 'transporteur'] },\r\n    { name: 'Messages', href: '/dashboard/messages', icon: ChatBubbleLeftRightIcon, roles: ['client', 'transporteur'] },\r\n    { name: 'Avis', href: '/dashboard/avis', icon: StarIcon, roles: ['client', 'transporteur'] },\r\n  ];\r\n  \r\n  // Filtrer les liens en fonction du rôle de l'utilisateur\r\n  const userLinks = navigationLinks.filter(link => link.roles.includes(user?.role));\r\n  \r\n  return (\r\n    <div className=\"h-screen flex overflow-hidden bg-gray-100\">\r\n      {/* Sidebar mobile */}\r\n      <div className={`${sidebarOpen ? 'fixed inset-0 flex z-40 md:hidden' : 'hidden'}`}>\r\n        {/* Overlay d'arrière-plan */}\r\n        <div \r\n          className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" \r\n          onClick={() => setSidebarOpen(false)}\r\n        ></div>\r\n        \r\n        {/* Contenu de la sidebar */}\r\n        <div className=\"relative flex-1 flex flex-col max-w-xs w-full bg-white\">\r\n          <div className=\"absolute top-0 right-0 -mr-12 pt-2\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\"\r\n              onClick={() => setSidebarOpen(false)}\r\n            >\r\n              <span className=\"sr-only\">Fermer la sidebar</span>\r\n              <XMarkIcon className=\"h-6 w-6 text-white\" aria-hidden=\"true\" />\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"flex-1 h-0 pt-5 pb-4 overflow-y-auto\">\r\n            <div className=\"flex-shrink-0 flex items-center px-4\">\r\n              <img\r\n                className=\"h-8 w-auto\"\r\n                src=\"/assets/images/logo.png\"\r\n                alt=\"Pro-Trans Logo\"\r\n              />\r\n            </div>\r\n            <nav className=\"mt-5 px-2 space-y-1\">\r\n              {userLinks.map((item) => (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className=\"group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\r\n                  onClick={() => setSidebarOpen(false)}\r\n                >\r\n                  <item.icon\r\n                    className=\"mr-4 h-6 w-6 text-gray-400 group-hover:text-gray-500\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                  {item.name}\r\n                </Link>\r\n              ))}\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"w-full group flex items-center px-2 py-2 text-base font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\r\n              >\r\n                <ArrowLeftOnRectangleIcon\r\n                  className=\"mr-4 h-6 w-6 text-gray-400 group-hover:text-gray-500\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n                Déconnexion\r\n              </button>\r\n            </nav>\r\n          </div>\r\n          \r\n          <div className=\"flex-shrink-0 flex border-t border-gray-200 p-4\">\r\n            <div className=\"flex-shrink-0 group block\">\r\n              <div className=\"flex items-center\">\r\n                <div>\r\n                  <img\r\n                    className=\"inline-block h-10 w-10 rounded-full\"\r\n                    src={user?.photo || '/assets/images/default-avatar.png'}\r\n                    alt={user?.nom}\r\n                  />\r\n                </div>\r\n                <div className=\"ml-3\">\r\n                  <p className=\"text-base font-medium text-gray-700 group-hover:text-gray-900\">\r\n                    {user?.nom} {user?.prenom}\r\n                  </p>\r\n                  <p className=\"text-sm font-medium text-gray-500 group-hover:text-gray-700\">\r\n                    {user?.role === 'client' ? 'Client' : 'Transporteur'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Sidebar desktop */}\r\n      <div className=\"hidden md:flex md:flex-shrink-0\">\r\n        <div className=\"flex flex-col w-64\">\r\n          <div className=\"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white\">\r\n            <div className=\"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto\">\r\n              <div className=\"flex items-center flex-shrink-0 px-4\">\r\n                <img\r\n                  className=\"h-8 w-auto\"\r\n                  src=\"/assets/images/logo.png\"\r\n                  alt=\"Pro-Trans Logo\"\r\n                />\r\n              </div>\r\n              <nav className=\"mt-5 flex-1 px-2 bg-white space-y-1\">\r\n                {userLinks.map((item) => (\r\n                  <Link\r\n                    key={item.name}\r\n                    to={item.href}\r\n                    className=\"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\r\n                  >\r\n                    <item.icon\r\n                      className=\"mr-3 h-6 w-6 text-gray-400 group-hover:text-gray-500\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                    {item.name}\r\n                  </Link>\r\n                ))}\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"w-full group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900\"\r\n                >\r\n                  <ArrowLeftOnRectangleIcon\r\n                    className=\"mr-3 h-6 w-6 text-gray-400 group-hover:text-gray-500\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                  Déconnexion\r\n                </button>\r\n              </nav>\r\n            </div>\r\n            <div className=\"flex-shrink-0 flex border-t border-gray-200 p-4\">\r\n              <Link to=\"/profile\" className=\"flex-shrink-0 w-full group block\">\r\n                <div className=\"flex items-center\">\r\n                  <div>\r\n                    <img\r\n                      className=\"inline-block h-9 w-9 rounded-full\"\r\n                      src={user?.photo || '/assets/images/default-avatar.png'}\r\n                      alt={user?.nom}\r\n                    />\r\n                  </div>\r\n                  <div className=\"ml-3\">\r\n                    <p className=\"text-sm font-medium text-gray-700 group-hover:text-gray-900\">\r\n                      {user?.nom} {user?.prenom}\r\n                    </p>\r\n                    <p className=\"text-xs font-medium text-gray-500 group-hover:text-gray-700\">\r\n                      {user?.role === 'client' ? 'Client' : 'Transporteur'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Contenu principal */}\r\n      <div className=\"flex flex-col w-0 flex-1 overflow-hidden\">\r\n        <div className=\"md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-teal-500\"\r\n            onClick={() => setSidebarOpen(true)}\r\n          >\r\n            <span className=\"sr-only\">Ouvrir la sidebar</span>\r\n            <Bars3Icon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n          </button>\r\n        </div>\r\n        \r\n        <main className=\"flex-1 relative z-0 overflow-y-auto focus:outline-none\">\r\n          <div className=\"py-6\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n              <Outlet />\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardLayout;","import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\n\r\n/**\r\n * Composant ProtectedRoute pour protéger les routes nécessitant une authentification\r\n * @param {boolean} isAuthenticated - Utilisateur authentifié ou non\r\n * @param {Array} roles - Rôles autorisés pour accéder à la route\r\n * @param {string} userRole - Rôle de l'utilisateur\r\n * @param {ReactNode} children - Contenu de la route\r\n */\r\nconst ProtectedRoute = ({ \r\n  isAuthenticated, \r\n  roles = [], \r\n  userRole,\r\n  children \r\n}) => {\r\n  const location = useLocation();\r\n  \r\n  // Si l'utilisateur n'est pas authentifié, rediriger vers la page de connexion\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" state={{ from: location.pathname }} replace />;\r\n  }\r\n  \r\n  // Si des rôles sont spécifiés et que l'utilisateur n'a pas le rôle requis\r\n  if (roles.length > 0 && !roles.includes(userRole)) {\r\n    // Rediriger vers le tableau de bord avec un message d'accès refusé\r\n    return <Navigate to=\"/dashboard\" state={{ \r\n      accessDenied: true, \r\n      message: \"Vous n'avez pas les permissions nécessaires pour accéder à cette page.\" \r\n    }} replace />;\r\n  }\r\n  \r\n  // Si l'utilisateur est authentifié et a les permissions nécessaires\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;","import React from 'react';\n\nconst NotFound = () => {\n  return (\n    <div>\n      <h1>NotFound</h1>\n      <p>Cette page est en cours de d�veloppement.</p>\n    </div>\n  );\n};\n\nexport default NotFound;\r\n","import React, { useEffect } from 'react';\r\nimport { Routes, Route, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from './hooks/useAuth';\r\nimport { routes } from './routes';\r\nimport MainLayout from './layouts/MainLayout';\r\nimport AuthLayout from './layouts/AuthLayout';\r\nimport DashboardLayout from './layouts/DashboardLayout';\r\nimport ProtectedRoute from './components/auth/ProtectedRoute';\r\nimport NotFound from './pages/NotFound';\r\n\r\nfunction App() {\r\n  const { isAuthenticated, user, loading } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Gestion de la redirection automatique en fonction de l'authentification\r\n  useEffect(() => {\r\n    // Si l'utilisateur est sur une page d'authentification mais est déjà connecté\r\n    if (!loading && isAuthenticated && \r\n        (location.pathname === '/login' || \r\n         location.pathname === '/register' || \r\n         location.pathname === '/')) {\r\n      navigate('/dashboard');\r\n    }\r\n  }, [isAuthenticated, loading, navigate, location.pathname]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-teal-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Routes publiques avec MainLayout */}\r\n      <Route element={<MainLayout />}>\r\n        {routes.public.map((route) => (\r\n          <Route\r\n            key={route.path}\r\n            path={route.path}\r\n            element={route.element}\r\n            exact={route.exact}\r\n          />\r\n        ))}\r\n      </Route>\r\n\r\n      {/* Routes d'authentification avec AuthLayout */}\r\n      <Route element={<AuthLayout />}>\r\n        {routes.auth.map((route) => (\r\n          <Route\r\n            key={route.path}\r\n            path={route.path}\r\n            element={route.element}\r\n            exact={route.exact}\r\n          />\r\n        ))}\r\n      </Route>\r\n\r\n      {/* Routes protégées avec DashboardLayout */}\r\n      <Route element={<DashboardLayout />}>\r\n        {routes.protected.map((route) => (\r\n          <Route\r\n            key={route.path}\r\n            path={route.path}\r\n            element={\r\n              <ProtectedRoute \r\n                isAuthenticated={isAuthenticated} \r\n                roles={route.roles}\r\n                userRole={user?.role}\r\n              >\r\n                {route.element}\r\n              </ProtectedRoute>\r\n            }\r\n            exact={route.exact}\r\n          />\r\n        ))}\r\n      </Route>\r\n\r\n      {/* Route pour la page 404 */}\r\n      <Route path=\"*\" element={<NotFound />} />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport App from './App';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport './styles/index.css';\r\n\r\n// Configuration de React Query pour la gestion des données\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnWindowFocus: false,\r\n      retry: 1,\r\n      staleTime: 30000,\r\n    },\r\n  },\r\n});\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <AuthProvider>\r\n          <App />\r\n          <Toaster \r\n            position=\"top-right\"\r\n            toastOptions={{\r\n              duration: 5000,\r\n              style: {\r\n                background: '#363636',\r\n                color: '#fff',\r\n              },\r\n            }}\r\n          />\r\n        </AuthProvider>\r\n      </BrowserRouter>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>\r\n);"],"sourceRoot":""}